<html>
<head>
<title>components/cluster.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.7.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/1155.html'>components</a>/cluster.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L58'>[^]</a><a href='#L537'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L58' title='Defined at 58.'>connect_db</a>
<li><a href='#L74' title='Defined at 74.'>close_db</a>
<li><a href='#L89' title='Defined at 89.'>run_query</a>
<li><a href='#L105' title='Defined at 105.'>push_query_into_queue</a>
<li><a href='#L144' title='Defined at 144.'>insert_event_data</a>
<li><a href='#L170' title='Defined at 170.'>cluster_main</a>
<li><a href='#L429' title='Defined at 429.'>cluster_cleanup</a>
<li><a href='#L527' title='Defined at 527.'>cluster_cli</a>
<li><a href='#L537' title='Defined at 537.'>cluster_handler</a>
</ol>
<hr>
<pre>
<a name='L1'>   1 <i><font color='green'>/*</font></i>
<a name='L2'>   2 <i><font color='green'> * Copyright 2015-2018 NSSLab, KAIST</font></i>
<a name='L3'>   3 <i><font color='green'> */</font></i>
<a name='L4'>   4 
<a name='L5'>   5 <i><font color='green'>/**</font></i>
<a name='L6'>   6 <i><font color='green'> * \ingroup compnt</font></i>
<a name='L7'>   7 <i><font color='green'> * @{</font></i>
<a name='L8'>   8 <i><font color='green'> * \defgroup cluster Cluster</font></i>
<a name='L9'>   9 <i><font color='green'> * \brief (Admin) cluster</font></i>
<a name='L10'>  10 <i><font color='green'> * @{</font></i>
<a name='L11'>  11 <i><font color='green'> */</font></i>
<a name='L12'>  12 
<a name='L13'>  13 <i><font color='green'>/**</font></i>
<a name='L14'>  14 <i><font color='green'> * \file</font></i>
<a name='L15'>  15 <i><font color='green'> * \author Jaehyun Nam &lt;namjh@kaist.ac.kr&gt;</font></i>
<a name='L16'>  16 <i><font color='green'> */</font></i>
<a name='L17'>  17 
<a name='L18'>  18 <font color='darkred'>#include</font> "<a href='972.html'>cluster.h</a>"
<a name='L19'>  19 
<a name='L20'>  20 <i><font color='green'>/** \brief Cluster ID */</font></i>
<a name='L21'>  21 <font color='darkred'>#define</font> <a href='../R/185.html' title='Multiple refered from 22 places.'>CLUSTER_ID</a> 235171752
<a name='L22'>  22 
<a name='L23'>  23 <i><font color='green'>/////////////////////////////////////////////////////////////////////</font></i>
<a name='L24'>  24 
<a name='L25'>  25 <i><font color='green'>/** \brief The cluster node ID defined in the event handler */</font></i>
<a name='L26'>  26 <b>extern</b> <b>int</b> <a href='../Y/1930.html' title='Multiple used in 8 places.'>cluster_id</a>;
<a name='L27'>  27 
<a name='L28'>  28 <i><font color='green'>/** \brief The latest event ID seen in the distributed storage */</font></i>
<a name='L29'>  29 <b>volatile</b> <b>int</b> <a href='../Y/2221.html' title='Multiple used in 4 places.'>curr_ev_id</a>;
<a name='L30'>  30 
<a name='L31'>  31 <i><font color='green'>/** \brief The IP address of the current machine */</font></i>
<a name='L32'>  32 <b>char</b> <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>[<a href='../D/6474.html' title='Multiple defined in 6 places.'>__CONF_SHORT_LEN</a>];
<a name='L33'>  33 
<a name='L34'>  34 <i><font color='green'>/////////////////////////////////////////////////////////////////////</font></i>
<a name='L35'>  35 
<a name='L36'>  36 <i><font color='green'>/** \brief The batch size of queries */</font></i>
<a name='L37'>  37 <font color='darkred'>#define</font> <a href='../R/150.html' title='Multiple refered from 3 places.'>BATCH_SIZE</a> 1024
<a name='L38'>  38 
<a name='L39'>  39 <i><font color='green'>/** \brief The number of queries in a waiting queue */</font></i>
<a name='L40'>  40 <b>int</b> <a href='../Y/7902.html' title='Multiple used in 13 places.'>write_query</a>;
<a name='L41'>  41 
<a name='L42'>  42 <i><font color='green'>/** \brief The waiting queue for queries */</font></i>
<a name='L43'>  43 <b>char</b> <a href='../Y/6198.html' title='Multiple used in 29 places.'>query</a>[<a href='../S/1000.html#L37' title='Defined at 37 in components/cluster.c.'>BATCH_SIZE</a>][<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>];
<a name='L44'>  44 
<a name='L45'>  45 <i><font color='green'>/** \brief The lock for queue management */</font></i>
<a name='L46'>  46 <a href='../Y/6149.html' title='Multiple used in 10 places.'>pthread_spinlock_t</a> <a href='../Y/1931.html' title='Multiple used in 11 places.'>cluster_lock</a>;
<a name='L47'>  47 
<a name='L48'>  48 <i><font color='green'>/////////////////////////////////////////////////////////////////////</font></i>
<a name='L49'>  49 
<a name='L50'>  50 <font color='darkred'>#ifdef</font> <a href='../Y/1128.html' title='Multiple used in 6 places.'>__ENABLE_CLUSTER</a>
<a name='L51'>  51 
<a name='L52'>  52 <i><font color='green'>/////////////////////////////////////////////////////////////////////</font></i>
<a name='L53'>  53 
<a name='L54'>  54 <i><font color='green'>/**</font></i>
<a name='L55'>  55 <i><font color='green'> * \brief Function to connect a DB</font></i>
<a name='L56'>  56 <i><font color='green'> * \return The connection of a DB</font></i>
<a name='L57'>  57 <i><font color='green'> */</font></i>
<a name='L58'>  58 <b>static</b> <a href='../Y/550.html' title='Multiple used in 9 places.'>MYSQL</a> *<a href='../R/2514.html' title='Multiple refered from 5 places.'>connect_db</a>(<b>void</b>)
<a name='L59'>  59 <font color='red'>{</font>
<a name='L60'>  60     <a href='../Y/550.html' title='Multiple used in 9 places.'>MYSQL</a> *<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a> = mysql_init(<a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L61'>  61 
<a name='L62'>  62     <b>if</b> (!mysql_real_connect(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, "localhost", <a href='../S/972.html#L23' title='Defined at 23 in components/include/cluster.h.'>CLUSTER_MYID</a>, <a href='../S/972.html#L24' title='Defined at 24 in components/include/cluster.h.'>CLUSTER_MYPW</a>, "Barista", 0, <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>, 0)) <font color='red'>{</font>
<a name='L63'>  63         <a href='../D/4593.html' title='Multiple defined in 6 places.'>PERROR</a>("mysql_real_connect");
<a name='L64'>  64         <b>return</b> <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L65'>  65     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L66'>  66         <b>return</b> <a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>;
<a name='L67'>  67     <font color='red'>}</font>
<a name='L68'>  68 <font color='red'>}</font>
<a name='L69'>  69 
<a name='L70'>  70 <i><font color='green'>/**</font></i>
<a name='L71'>  71 <i><font color='green'> * \brief Function to close a DB</font></i>
<a name='L72'>  72 <i><font color='green'> * \param The connection of a DB</font></i>
<a name='L73'>  73 <i><font color='green'> */</font></i>
<a name='L74'>  74 <b>static</b> <b>int</b> <a href='../R/2463.html' title='Multiple refered from 5 places.'>close_db</a>(<a href='../Y/550.html' title='Multiple used in 9 places.'>MYSQL</a> *<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>)
<a name='L75'>  75 <font color='red'>{</font>
<a name='L76'>  76     <b>if</b> (<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>) <font color='red'>{</font>
<a name='L77'>  77         mysql_close(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>);
<a name='L78'>  78         <a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L79'>  79     <font color='red'>}</font>
<a name='L80'>  80 
<a name='L81'>  81     <b>return</b> 0;
<a name='L82'>  82 <font color='red'>}</font>
<a name='L83'>  83 
<a name='L84'>  84 <i><font color='green'>/**</font></i>
<a name='L85'>  85 <i><font color='green'> * \brief Function to execute a query</font></i>
<a name='L86'>  86 <i><font color='green'> * \param conn The connection of a DB</font></i>
<a name='L87'>  87 <i><font color='green'> * \param sql_query SQL query</font></i>
<a name='L88'>  88 <i><font color='green'> */</font></i>
<a name='L89'>  89 <b>static</b> <a href='../Y/551.html' title='Multiple used in 9 places.'>MYSQL_RES</a> *<a href='../R/4390.html' title='Multiple refered from 27 places.'>run_query</a>(<a href='../Y/550.html' title='Multiple used in 9 places.'>MYSQL</a> *<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <b>char</b> *<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>)
<a name='L90'>  90 <font color='red'>{</font>
<a name='L91'>  91     <b>if</b> (<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a> == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L92'>  92         <b>return</b> <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L93'>  93     <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/4557.html' title='Multiple used in 3 places.'>mysql_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>)) <font color='red'>{</font>
<a name='L94'>  94         <a href='../D/2414.html' title='Multiple defined in 6 places.'>LOG_ERROR</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, "Failed SQL query: %s", <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L95'>  95         <b>return</b> <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L96'>  96     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L97'>  97         <b>return</b> mysql_use_result(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>);
<a name='L98'>  98     <font color='red'>}</font>
<a name='L99'>  99 <font color='red'>}</font>
<a name='L100'> 100 
<a name='L101'> 101 <i><font color='green'>/**</font></i>
<a name='L102'> 102 <i><font color='green'> * \brief Function to push a query into a waiting queue</font></i>
<a name='L103'> 103 <i><font color='green'> * \param sql_query SQL query</font></i>
<a name='L104'> 104 <i><font color='green'> */</font></i>
<a name='L105'> 105 <b>static</b> <b>int</b> <a href='../R/4208.html' title='Multiple refered from 15 places.'>push_query_into_queue</a>(<b>char</b> *<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>)
<a name='L106'> 106 <font color='red'>{</font>
<a name='L107'> 107     <a href='../Y/6147.html' title='Multiple used in 38 places.'>pthread_spin_lock</a>(&amp;<a href='../Y/1931.html' title='Multiple used in 11 places.'>cluster_lock</a>);
<a name='L108'> 108 
<a name='L109'> 109     <b>if</b> (<a href='../Y/7902.html' title='Multiple used in 13 places.'>write_query</a> &gt;= <a href='../S/1000.html#L37' title='Defined at 37 in components/cluster.c.'>BATCH_SIZE</a>-1) <font color='red'>{</font>
<a name='L110'> 110         <a href='../Y/550.html' title='Multiple used in 9 places.'>MYSQL</a> *<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a> = <a href='../S/1000.html#L58' title='Defined at 58 in components/cluster.c.'>connect_db</a>();
<a name='L111'> 111         <b>if</b> (<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a> == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L112'> 112             <a href='../Y/6148.html' title='Multiple used in 57 places.'>pthread_spin_unlock</a>(&amp;<a href='../Y/1931.html' title='Multiple used in 11 places.'>cluster_lock</a>);
<a name='L113'> 113             <b>return</b> -1;
<a name='L114'> 114         <font color='red'>}</font>
<a name='L115'> 115 
<a name='L116'> 116         <a href='../Y/4557.html' title='Multiple used in 3 places.'>mysql_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, "START TRANSACTION");
<a name='L117'> 117 
<a name='L118'> 118         <b>int</b> <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>;
<a name='L119'> 119         <b>for</b> (<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>=0; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>&lt;<a href='../Y/7902.html' title='Multiple used in 13 places.'>write_query</a>; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>++) <font color='red'>{</font>
<a name='L120'> 120             <a href='../Y/551.html' title='Multiple used in 9 places.'>MYSQL_RES</a> *<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6198.html' title='Multiple used in 29 places.'>query</a>[<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>]);
<a name='L121'> 121             <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L122'> 122         <font color='red'>}</font>
<a name='L123'> 123 
<a name='L124'> 124         <a href='../Y/4557.html' title='Multiple used in 3 places.'>mysql_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, "COMMIT");
<a name='L125'> 125 
<a name='L126'> 126         <a href='../S/1000.html#L74' title='Defined at 74 in components/cluster.c.'>close_db</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>);
<a name='L127'> 127 
<a name='L128'> 128         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6198.html' title='Multiple used in 29 places.'>query</a>, 0, <a href='../Y/7902.html' title='Multiple used in 13 places.'>write_query</a> * <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L129'> 129 
<a name='L130'> 130         <a href='../Y/7902.html' title='Multiple used in 13 places.'>write_query</a> = 0;
<a name='L131'> 131     <font color='red'>}</font>
<a name='L132'> 132 
<a name='L133'> 133     <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6198.html' title='Multiple used in 29 places.'>query</a>[<a href='../Y/7902.html' title='Multiple used in 13 places.'>write_query</a>++], <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "%s", <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L134'> 134 
<a name='L135'> 135     <a href='../Y/6148.html' title='Multiple used in 57 places.'>pthread_spin_unlock</a>(&amp;<a href='../Y/1931.html' title='Multiple used in 11 places.'>cluster_lock</a>);
<a name='L136'> 136 
<a name='L137'> 137     <b>return</b> 0;
<a name='L138'> 138 <font color='red'>}</font>
<a name='L139'> 139 
<a name='L140'> 140 <i><font color='green'>/**</font></i>
<a name='L141'> 141 <i><font color='green'> * \brief Function to encode an event and push a query into a waiting queue</font></i>
<a name='L142'> 142 <i><font color='green'> * \param ev Event</font></i>
<a name='L143'> 143 <i><font color='green'> */</font></i>
<a name='L144'> 144 <b>static</b> <b>int</b> <a href='../R/3303.html' title='Multiple refered from 11 places.'>insert_event_data</a>(<b>const</b> <a href='../D/7743.html' title='Multiple defined in 7 places.'>event_t</a> *<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>)
<a name='L145'> 145 <font color='red'>{</font>
<a name='L146'> 146     <b>char</b> *<a href='../Y/2671.html' title='Multiple used in 3 places.'>encode</a> = <a href='../S/938.html#L66' title='Defined at 66 in util/base64.c.'>base64_encode</a>(<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/4214.html' title='Multiple used in 173 places.'>log</a>, <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>);
<a name='L147'> 147 
<a name='L148'> 148     <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L149'> 149     <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "insert into Barista.events (event, data, ctrl_ip) values (%u, '%s', '%s')", 
<a name='L150'> 150              <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../Y/2671.html' title='Multiple used in 3 places.'>encode</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L151'> 151     <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L152'> 152 
<a name='L153'> 153     <a href='../D/1836.html' title='Multiple defined in 7 places.'>FREE</a>(<a href='../Y/2671.html' title='Multiple used in 3 places.'>encode</a>);
<a name='L154'> 154 
<a name='L155'> 155     <b>return</b> 0;
<a name='L156'> 156 <font color='red'>}</font>
<a name='L157'> 157 
<a name='L158'> 158 <i><font color='green'>/////////////////////////////////////////////////////////////////////</font></i>
<a name='L159'> 159 
<a name='L160'> 160 <font color='darkred'>#endif</font> <i><font color='green'>/* __ENABLE_CLUSTER */</font></i>
<a name='L161'> 161 
<a name='L162'> 162 <i><font color='green'>/////////////////////////////////////////////////////////////////////</font></i>
<a name='L163'> 163 
<a name='L164'> 164 <i><font color='green'>/**</font></i>
<a name='L165'> 165 <i><font color='green'> * \brief The main function</font></i>
<a name='L166'> 166 <i><font color='green'> * \param activated The activation flag of this component</font></i>
<a name='L167'> 167 <i><font color='green'> * \param argc The number of arguments</font></i>
<a name='L168'> 168 <i><font color='green'> * \param argv Arguments</font></i>
<a name='L169'> 169 <i><font color='green'> */</font></i>
<a name='L170'> 170 <b>int</b> <a href='../S/979.html#L141' title='Refered from 141 in components/include/component_list.h.'>cluster_main</a>(<b>int</b> *<a href='../Y/1297.html' title='Multiple used in 156 places.'>activated</a>, <b>int</b> <a href='../Y/1465.html' title='Multiple used in 309 places.'>argc</a>, <b>char</b> **<a href='../Y/1474.html' title='Multiple used in 417 places.'>argv</a>)
<a name='L171'> 171 <font color='red'>{</font>
<a name='L172'> 172     <a href='../D/2419.html' title='Multiple defined in 6 places.'>LOG_INFO</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, "Init - Cluster");
<a name='L173'> 173 
<a name='L174'> 174 <font color='darkred'>#ifdef</font> <a href='../Y/1128.html' title='Multiple used in 6 places.'>__ENABLE_CLUSTER</a>
<a name='L175'> 175 
<a name='L176'> 176     <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6198.html' title='Multiple used in 29 places.'>query</a>, 0, <b>sizeof</b>(<b>char</b>) * <a href='../S/1000.html#L37' title='Defined at 37 in components/cluster.c.'>BATCH_SIZE</a> * <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L177'> 177 
<a name='L178'> 178     <a href='../Y/6146.html' title='Multiple used in 10 places.'>pthread_spin_init</a>(&amp;<a href='../Y/1931.html' title='Multiple used in 11 places.'>cluster_lock</a>, <a href='../Y/711.html' title='Multiple used in 10 places.'>PTHREAD_PROCESS_PRIVATE</a>);
<a name='L179'> 179 
<a name='L180'> 180     <a href='../Y/328.html' title='Multiple used in 113 places.'>FILE</a> *<a href='../Y/5847.html' title='Multiple used in 15 places.'>pp</a> = <a href='../Y/5790.html' title='Multiple used in 4 places.'>popen</a>("ip route get 8.8.8.8 | awk 'NR==1 {print $NF}'", "r");
<a name='L181'> 181     <b>if</b> (<a href='../Y/5847.html' title='Multiple used in 15 places.'>pp</a>) <font color='red'>{</font>
<a name='L182'> 182         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>, 0, <a href='../D/6474.html' title='Multiple defined in 6 places.'>__CONF_SHORT_LEN</a>);
<a name='L183'> 183         <b>if</b> (<a href='../Y/3031.html' title='Multiple used in 17 places.'>fgets</a>(<a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>, <a href='../D/6474.html' title='Multiple defined in 6 places.'>__CONF_SHORT_LEN</a>, <a href='../Y/5847.html' title='Multiple used in 15 places.'>pp</a>) == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L184'> 184             <a href='../D/4593.html' title='Multiple defined in 6 places.'>PERROR</a>("fgets");
<a name='L185'> 185             <b>return</b> -1;
<a name='L186'> 186         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L187'> 187             <a href='../Y/5691.html' title='Multiple used in 6 places.'>pclose</a>(<a href='../Y/5847.html' title='Multiple used in 15 places.'>pp</a>);
<a name='L188'> 188         <font color='red'>}</font>
<a name='L189'> 189         <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>[<a href='../Y/7098.html' title='Multiple used in 203 places.'>strlen</a>(<a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>)-1] = '\0';
<a name='L190'> 190         <a href='../D/2419.html' title='Multiple defined in 6 places.'>LOG_INFO</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, "Controller IP: %s", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L191'> 191     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L192'> 192         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>, 0, <a href='../D/6474.html' title='Multiple defined in 6 places.'>__CONF_SHORT_LEN</a>);
<a name='L193'> 193         <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>, "127.0.0.1");
<a name='L194'> 194         <a href='../D/2419.html' title='Multiple defined in 6 places.'>LOG_INFO</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, "Controller IP: %s", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L195'> 195     <font color='red'>}</font>
<a name='L196'> 196 
<a name='L197'> 197     <a href='../Y/550.html' title='Multiple used in 9 places.'>MYSQL</a> *<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a> = <a href='../S/1000.html#L58' title='Defined at 58 in components/cluster.c.'>connect_db</a>();
<a name='L198'> 198     <b>if</b> (<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>) <font color='red'>{</font>
<a name='L199'> 199         <a href='../D/2419.html' title='Multiple defined in 6 places.'>LOG_INFO</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, "Successful DB connection");
<a name='L200'> 200 
<a name='L201'> 201         <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L202'> 202         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "show status like 'wsrep_local_index';");
<a name='L203'> 203         <a href='../Y/551.html' title='Multiple used in 9 places.'>MYSQL_RES</a> *<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L204'> 204         <a href='../Y/552.html' title='Multiple used in 2 places.'>MYSQL_ROW</a> <a href='../Y/6470.html' title='Multiple used in 91 places.'>row</a> = <a href='../Y/4554.html' title='Multiple used in 2 places.'>mysql_fetch_row</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L205'> 205         <b>if</b> (<a href='../Y/7082.html' title='Multiple used in 371 places.'>strcmp</a>(<a href='../Y/6470.html' title='Multiple used in 91 places.'>row</a>[0], "wsrep_local_index") == 0)
<a name='L206'> 206             <a href='../Y/1930.html' title='Multiple used in 8 places.'>cluster_id</a> = <a href='../Y/1510.html' title='Multiple used in 76 places.'>atoi</a>(<a href='../Y/6470.html' title='Multiple used in 91 places.'>row</a>[1]);
<a name='L207'> 207         <b>else</b>
<a name='L208'> 208             <a href='../Y/1930.html' title='Multiple used in 8 places.'>cluster_id</a> = 0;
<a name='L209'> 209         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L210'> 210 
<a name='L211'> 211         <a href='../D/2419.html' title='Multiple defined in 6 places.'>LOG_INFO</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, "Cleaning up all old data for '%s'", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L212'> 212 
<a name='L213'> 213         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L214'> 214         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "insert into Barista.clusters (cluster_id, ctrl_ip) values (%d, '%s') "
<a name='L215'> 215                                                "on duplicate key update cluster_id = %d, ctrl_ip = '%s';", 
<a name='L216'> 216                                                <a href='../Y/1930.html' title='Multiple used in 8 places.'>cluster_id</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>, <a href='../Y/1930.html' title='Multiple used in 8 places.'>cluster_id</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L217'> 217         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L218'> 218         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L219'> 219 
<a name='L220'> 220         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L221'> 221         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.switches where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L222'> 222         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L223'> 223         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L224'> 224 
<a name='L225'> 225         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L226'> 226         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.hosts where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L227'> 227         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L228'> 228         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L229'> 229         
<a name='L230'> 230         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L231'> 231         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.links where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L232'> 232         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L233'> 233         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L234'> 234 
<a name='L235'> 235         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L236'> 236         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.flows where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L237'> 237         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L238'> 238         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L239'> 239 
<a name='L240'> 240         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L241'> 241         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.traffic where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L242'> 242         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L243'> 243         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L244'> 244 
<a name='L245'> 245         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L246'> 246         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.resources where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L247'> 247         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L248'> 248         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L249'> 249 
<a name='L250'> 250         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L251'> 251         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.logs where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L252'> 252         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L253'> 253         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L254'> 254 
<a name='L255'> 255         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L256'> 256         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.events where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L257'> 257         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L258'> 258         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L259'> 259 
<a name='L260'> 260         <a href='../D/2419.html' title='Multiple defined in 6 places.'>LOG_INFO</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, "Cleaned up all old data for '%s'", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L261'> 261 
<a name='L262'> 262         <a href='../S/1000.html#L74' title='Defined at 74 in components/cluster.c.'>close_db</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>);
<a name='L263'> 263     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L264'> 264         <a href='../D/2414.html' title='Multiple defined in 6 places.'>LOG_ERROR</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, "Failed to connect the database");
<a name='L265'> 265 
<a name='L266'> 266         <b>return</b> -1;
<a name='L267'> 267     <font color='red'>}</font>
<a name='L268'> 268 
<a name='L269'> 269 <font color='darkred'>#endif</font> <i><font color='green'>/* __ENABLED_CLUSTER */</font></i>
<a name='L270'> 270 
<a name='L271'> 271     <a href='../D/6825.html' title='Multiple defined in 6 places.'>activate</a>();
<a name='L272'> 272 
<a name='L273'> 273     <a href='../D/10115.html' title='Multiple defined in 6 places.'>waitsec</a>(1, 0);
<a name='L274'> 274 
<a name='L275'> 275 <font color='darkred'>#ifdef</font> <a href='../Y/1128.html' title='Multiple used in 6 places.'>__ENABLE_CLUSTER</a>
<a name='L276'> 276 
<a name='L277'> 277     <b>while</b> (*<a href='../Y/1297.html' title='Multiple used in 156 places.'>activated</a>) <font color='red'>{</font>
<a name='L278'> 278         <i><font color='green'>// push data</font></i>
<a name='L279'> 279 
<a name='L280'> 280         <a href='../Y/6147.html' title='Multiple used in 38 places.'>pthread_spin_lock</a>(&amp;<a href='../Y/1931.html' title='Multiple used in 11 places.'>cluster_lock</a>);
<a name='L281'> 281 
<a name='L282'> 282         <b>if</b> (<a href='../Y/7902.html' title='Multiple used in 13 places.'>write_query</a>) <font color='red'>{</font>
<a name='L283'> 283             <a href='../Y/550.html' title='Multiple used in 9 places.'>MYSQL</a> *<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a> = <a href='../S/1000.html#L58' title='Defined at 58 in components/cluster.c.'>connect_db</a>();
<a name='L284'> 284             <b>if</b> (<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a> == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L285'> 285                 <a href='../Y/6148.html' title='Multiple used in 57 places.'>pthread_spin_unlock</a>(&amp;<a href='../Y/1931.html' title='Multiple used in 11 places.'>cluster_lock</a>);
<a name='L286'> 286                 <a href='../D/10115.html' title='Multiple defined in 6 places.'>waitsec</a>(0, <a href='../D/629.html' title='Multiple defined in 6 places.'>CLUSTER_UPDATE_TIME_NS</a>);
<a name='L287'> 287                 <b>continue</b>;
<a name='L288'> 288             <font color='red'>}</font>
<a name='L289'> 289 
<a name='L290'> 290             <a href='../Y/551.html' title='Multiple used in 9 places.'>MYSQL_RES</a> *<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, "START TRANSACTION");
<a name='L291'> 291             <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L292'> 292 
<a name='L293'> 293             <b>int</b> <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>;
<a name='L294'> 294             <b>for</b> (<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>=0; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>&lt;<a href='../Y/7902.html' title='Multiple used in 13 places.'>write_query</a>; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>++) <font color='red'>{</font>
<a name='L295'> 295                 <a href='../Y/551.html' title='Multiple used in 9 places.'>MYSQL_RES</a> *<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6198.html' title='Multiple used in 29 places.'>query</a>[<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>]);
<a name='L296'> 296                 <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L297'> 297             <font color='red'>}</font>
<a name='L298'> 298 
<a name='L299'> 299             <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, "COMMIT");
<a name='L300'> 300             <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L301'> 301 
<a name='L302'> 302             <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6198.html' title='Multiple used in 29 places.'>query</a>, 0, <a href='../Y/7902.html' title='Multiple used in 13 places.'>write_query</a> * <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L303'> 303             <a href='../Y/7902.html' title='Multiple used in 13 places.'>write_query</a> = 0;
<a name='L304'> 304 
<a name='L305'> 305             <a href='../S/1000.html#L74' title='Defined at 74 in components/cluster.c.'>close_db</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>);
<a name='L306'> 306         <font color='red'>}</font>
<a name='L307'> 307 
<a name='L308'> 308         <a href='../Y/6148.html' title='Multiple used in 57 places.'>pthread_spin_unlock</a>(&amp;<a href='../Y/1931.html' title='Multiple used in 11 places.'>cluster_lock</a>);
<a name='L309'> 309 
<a name='L310'> 310         <i><font color='green'>// pop data</font></i>
<a name='L311'> 311 
<a name='L312'> 312         <a href='../Y/550.html' title='Multiple used in 9 places.'>MYSQL</a> *<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a> = <a href='../S/1000.html#L58' title='Defined at 58 in components/cluster.c.'>connect_db</a>();
<a name='L313'> 313         <b>if</b> (<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>) <font color='red'>{</font>
<a name='L314'> 314             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L315'> 315 
<a name='L316'> 316             <b>if</b> (<a href='../Y/2221.html' title='Multiple used in 4 places.'>curr_ev_id</a> == 0) <font color='red'>{</font>
<a name='L317'> 317                 <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "select * from Barista.events where ctrl_ip != '%s'", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L318'> 318             <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L319'> 319                 <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "select * from Barista.events where id &gt; %u and ctrl_ip != '%s'", 
<a name='L320'> 320                          <a href='../Y/2221.html' title='Multiple used in 4 places.'>curr_ev_id</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L321'> 321             <font color='red'>}</font>
<a name='L322'> 322 
<a name='L323'> 323             <a href='../Y/551.html' title='Multiple used in 9 places.'>MYSQL_RES</a> *<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L324'> 324             <a href='../Y/552.html' title='Multiple used in 2 places.'>MYSQL_ROW</a> <a href='../Y/6470.html' title='Multiple used in 91 places.'>row</a>;
<a name='L325'> 325 
<a name='L326'> 326             <b>while</b> ((<a href='../Y/6470.html' title='Multiple used in 91 places.'>row</a> = <a href='../Y/4554.html' title='Multiple used in 2 places.'>mysql_fetch_row</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>))) <font color='red'>{</font>
<a name='L327'> 327                 <a href='../Y/2221.html' title='Multiple used in 4 places.'>curr_ev_id</a> = <a href='../Y/1510.html' title='Multiple used in 76 places.'>atoi</a>(<a href='../Y/6470.html' title='Multiple used in 91 places.'>row</a>[0]);
<a name='L328'> 328                 <b>int</b> <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../Y/1510.html' title='Multiple used in 76 places.'>atoi</a>(<a href='../Y/6470.html' title='Multiple used in 91 places.'>row</a>[1]);
<a name='L329'> 329                 <b>char</b> *<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a> = <a href='../S/938.html#L110' title='Defined at 110 in util/base64.c.'>base64_decode</a>(<a href='../Y/6470.html' title='Multiple used in 91 places.'>row</a>[2]);
<a name='L330'> 330 
<a name='L331'> 331                 <b>switch</b> (<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>) <font color='red'>{</font>
<a name='L332'> 332                 <b>case</b> <a href='../S/1026.html#L22' title='Defined at 22 in events/include/event_id.h.'>EV_DP_PORT_STATS</a>:
<a name='L333'> 333                     <font color='red'>{</font>
<a name='L334'> 334                         <a href='../D/9107.html' title='Multiple defined in 6 places.'>port_t</a> *<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> = (<a href='../D/9107.html' title='Multiple defined in 6 places.'>port_t</a> *)<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>;
<a name='L335'> 335                         <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> = <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>;
<a name='L336'> 336                         <a href='../S/1024.html#L85' title='Defined at 85 in events/event.c.'>ev_dp_port_stats</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>);
<a name='L337'> 337                     <font color='red'>}</font>
<a name='L338'> 338                     <b>break</b>;
<a name='L339'> 339                 <b>case</b> <a href='../S/1026.html#L52' title='Defined at 52 in events/include/event_id.h.'>EV_SW_DISCONNECTED</a>:
<a name='L340'> 340                     <font color='red'>{</font>
<a name='L341'> 341                         <a href='../D/9797.html' title='Multiple defined in 6 places.'>switch_t</a> *<a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a> = (<a href='../D/9797.html' title='Multiple defined in 6 places.'>switch_t</a> *)<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>;
<a name='L342'> 342                         <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> = <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>;
<a name='L343'> 343                         <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/3016.html' title='Multiple used in 422 places.'>fd</a> = (<a href='../D/625.html' title='Multiple defined in 6 places.'>CLUSTER_DELIMITER</a> * (<a href='../Y/1930.html' title='Multiple used in 8 places.'>cluster_id</a> + 1)) + <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/3016.html' title='Multiple used in 422 places.'>fd</a>;
<a name='L344'> 344                         <a href='../S/1024.html#L143' title='Defined at 143 in events/event.c.'>ev_sw_disconnected</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>);
<a name='L345'> 345                     <font color='red'>}</font>
<a name='L346'> 346                     <b>break</b>;
<a name='L347'> 347                 <b>case</b> <a href='../S/1026.html#L53' title='Defined at 53 in events/include/event_id.h.'>EV_SW_UPDATE_CONFIG</a>:
<a name='L348'> 348                     <font color='red'>{</font>
<a name='L349'> 349                         <a href='../D/9797.html' title='Multiple defined in 6 places.'>switch_t</a> *<a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a> = (<a href='../D/9797.html' title='Multiple defined in 6 places.'>switch_t</a> *)<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>;
<a name='L350'> 350                         <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> = <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>;
<a name='L351'> 351                         <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/3016.html' title='Multiple used in 422 places.'>fd</a> = (<a href='../D/625.html' title='Multiple defined in 6 places.'>CLUSTER_DELIMITER</a> * (<a href='../Y/1930.html' title='Multiple used in 8 places.'>cluster_id</a> + 1)) + <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/3016.html' title='Multiple used in 422 places.'>fd</a>;
<a name='L352'> 352                         <a href='../S/1024.html#L145' title='Defined at 145 in events/event.c.'>ev_sw_update_config</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>);
<a name='L353'> 353                     <font color='red'>}</font>
<a name='L354'> 354                     <b>break</b>;
<a name='L355'> 355                 <b>case</b> <a href='../S/1026.html#L54' title='Defined at 54 in events/include/event_id.h.'>EV_SW_UPDATE_DESC</a>:
<a name='L356'> 356                     <font color='red'>{</font>
<a name='L357'> 357                         <a href='../D/9797.html' title='Multiple defined in 6 places.'>switch_t</a> *<a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a> = (<a href='../D/9797.html' title='Multiple defined in 6 places.'>switch_t</a> *)<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>;
<a name='L358'> 358                         <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> = <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>;
<a name='L359'> 359                         <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/3016.html' title='Multiple used in 422 places.'>fd</a> = (<a href='../D/625.html' title='Multiple defined in 6 places.'>CLUSTER_DELIMITER</a> * (<a href='../Y/1930.html' title='Multiple used in 8 places.'>cluster_id</a> + 1)) + <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/3016.html' title='Multiple used in 422 places.'>fd</a>;
<a name='L360'> 360                         <a href='../S/1024.html#L147' title='Defined at 147 in events/event.c.'>ev_sw_update_desc</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>);
<a name='L361'> 361                     <font color='red'>}</font>
<a name='L362'> 362                     <b>break</b>;
<a name='L363'> 363                 <b>case</b> <a href='../S/1026.html#L55' title='Defined at 55 in events/include/event_id.h.'>EV_HOST_ADDED</a>:
<a name='L364'> 364                     <font color='red'>{</font>
<a name='L365'> 365                         <a href='../D/8053.html' title='Multiple defined in 6 places.'>host_t</a> *<a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a> = (<a href='../D/8053.html' title='Multiple defined in 6 places.'>host_t</a> *)<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>;
<a name='L366'> 366                         <a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> = <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>;
<a name='L367'> 367                         <a href='../S/1024.html#L149' title='Defined at 149 in events/event.c.'>ev_host_added</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, <a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>);
<a name='L368'> 368                     <font color='red'>}</font>
<a name='L369'> 369                     <b>break</b>;
<a name='L370'> 370                 <b>case</b> <a href='../S/1026.html#L56' title='Defined at 56 in events/include/event_id.h.'>EV_HOST_DELETED</a>:
<a name='L371'> 371                     <font color='red'>{</font>
<a name='L372'> 372                         <a href='../D/8053.html' title='Multiple defined in 6 places.'>host_t</a> *<a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a> = (<a href='../D/8053.html' title='Multiple defined in 6 places.'>host_t</a> *)<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>;
<a name='L373'> 373                         <a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> = <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>;
<a name='L374'> 374                         <a href='../S/1024.html#L151' title='Defined at 151 in events/event.c.'>ev_host_deleted</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, <a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>);
<a name='L375'> 375                     <font color='red'>}</font>
<a name='L376'> 376                     <b>break</b>;
<a name='L377'> 377                 <b>case</b> <a href='../S/1026.html#L57' title='Defined at 57 in events/include/event_id.h.'>EV_LINK_ADDED</a>:
<a name='L378'> 378                     <font color='red'>{</font>
<a name='L379'> 379                         <a href='../D/9107.html' title='Multiple defined in 6 places.'>port_t</a> *<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> = (<a href='../D/9107.html' title='Multiple defined in 6 places.'>port_t</a> *)<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>;
<a name='L380'> 380                         <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> = <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>;
<a name='L381'> 381                         <a href='../S/1024.html#L153' title='Defined at 153 in events/event.c.'>ev_link_added</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>);
<a name='L382'> 382                     <font color='red'>}</font>
<a name='L383'> 383                     <b>break</b>;
<a name='L384'> 384                 <b>case</b> <a href='../S/1026.html#L58' title='Defined at 58 in events/include/event_id.h.'>EV_LINK_DELETED</a>:
<a name='L385'> 385                     <font color='red'>{</font>
<a name='L386'> 386                         <a href='../D/9107.html' title='Multiple defined in 6 places.'>port_t</a> *<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> = (<a href='../D/9107.html' title='Multiple defined in 6 places.'>port_t</a> *)<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>;
<a name='L387'> 387                         <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> = <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>;
<a name='L388'> 388                         <a href='../S/1024.html#L155' title='Defined at 155 in events/event.c.'>ev_link_deleted</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>);
<a name='L389'> 389                     <font color='red'>}</font>
<a name='L390'> 390                     <b>break</b>;
<a name='L391'> 391                 <b>case</b> <a href='../S/1026.html#L59' title='Defined at 59 in events/include/event_id.h.'>EV_FLOW_ADDED</a>:
<a name='L392'> 392                     <font color='red'>{</font>
<a name='L393'> 393                         <a href='../D/7878.html' title='Multiple defined in 6 places.'>flow_t</a> *<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a> = (<a href='../D/7878.html' title='Multiple defined in 6 places.'>flow_t</a> *)<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>;
<a name='L394'> 394                         <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> = <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>;
<a name='L395'> 395                         <a href='../S/1024.html#L157' title='Defined at 157 in events/event.c.'>ev_flow_added</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>);
<a name='L396'> 396                     <font color='red'>}</font>
<a name='L397'> 397                     <b>break</b>;
<a name='L398'> 398                 <b>case</b> <a href='../S/1026.html#L60' title='Defined at 60 in events/include/event_id.h.'>EV_FLOW_DELETED</a>:
<a name='L399'> 399                     <font color='red'>{</font>
<a name='L400'> 400                         <a href='../D/7878.html' title='Multiple defined in 6 places.'>flow_t</a> *<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a> = (<a href='../D/7878.html' title='Multiple defined in 6 places.'>flow_t</a> *)<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>;
<a name='L401'> 401                         <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> = <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>;
<a name='L402'> 402                         <a href='../S/1024.html#L159' title='Defined at 159 in events/event.c.'>ev_flow_deleted</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>);
<a name='L403'> 403                     <font color='red'>}</font>
<a name='L404'> 404                     <b>break</b>;
<a name='L405'> 405                 <b>default</b>:
<a name='L406'> 406                     <b>break</b>;
<a name='L407'> 407                 <font color='red'>}</font>
<a name='L408'> 408 
<a name='L409'> 409                 <a href='../D/1836.html' title='Multiple defined in 7 places.'>FREE</a>(<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>);
<a name='L410'> 410             <font color='red'>}</font>
<a name='L411'> 411 
<a name='L412'> 412             <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L413'> 413 
<a name='L414'> 414             <a href='../S/1000.html#L74' title='Defined at 74 in components/cluster.c.'>close_db</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>);
<a name='L415'> 415         <font color='red'>}</font>
<a name='L416'> 416 
<a name='L417'> 417         <a href='../D/10115.html' title='Multiple defined in 6 places.'>waitsec</a>(0, <a href='../D/629.html' title='Multiple defined in 6 places.'>CLUSTER_UPDATE_TIME_NS</a>);
<a name='L418'> 418     <font color='red'>}</font>
<a name='L419'> 419 
<a name='L420'> 420 <font color='darkred'>#endif</font> <i><font color='green'>/* __ENABLED_CLUSTER */</font></i>
<a name='L421'> 421 
<a name='L422'> 422     <b>return</b> 0;
<a name='L423'> 423 <font color='red'>}</font>
<a name='L424'> 424 
<a name='L425'> 425 <i><font color='green'>/**</font></i>
<a name='L426'> 426 <i><font color='green'> * \brief The cleanup function</font></i>
<a name='L427'> 427 <i><font color='green'> * \param activated The activation flag of this component</font></i>
<a name='L428'> 428 <i><font color='green'> */</font></i>
<a name='L429'> 429 <b>int</b> <a href='../S/979.html#L141' title='Refered from 141 in components/include/component_list.h.'>cluster_cleanup</a>(<b>int</b> *<a href='../Y/1297.html' title='Multiple used in 156 places.'>activated</a>)
<a name='L430'> 430 <font color='red'>{</font>
<a name='L431'> 431     <a href='../D/2419.html' title='Multiple defined in 6 places.'>LOG_INFO</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, "Clean up - Cluster");
<a name='L432'> 432 
<a name='L433'> 433     <a href='../D/7280.html' title='Multiple defined in 6 places.'>deactivate</a>();
<a name='L434'> 434 
<a name='L435'> 435 <font color='darkred'>#ifdef</font> <a href='../Y/1128.html' title='Multiple used in 6 places.'>__ENABLE_CLUSTER</a>
<a name='L436'> 436 
<a name='L437'> 437     <a href='../Y/6147.html' title='Multiple used in 38 places.'>pthread_spin_lock</a>(&amp;<a href='../Y/1931.html' title='Multiple used in 11 places.'>cluster_lock</a>);
<a name='L438'> 438 
<a name='L439'> 439     <a href='../Y/550.html' title='Multiple used in 9 places.'>MYSQL</a> *<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a> = <a href='../S/1000.html#L58' title='Defined at 58 in components/cluster.c.'>connect_db</a>();
<a name='L440'> 440     <b>if</b> (<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>) <font color='red'>{</font>
<a name='L441'> 441         <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L442'> 442 
<a name='L443'> 443         <b>if</b> (<a href='../Y/7902.html' title='Multiple used in 13 places.'>write_query</a>) <font color='red'>{</font>
<a name='L444'> 444             <a href='../Y/551.html' title='Multiple used in 9 places.'>MYSQL_RES</a> *<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, "START TRANSACTION");
<a name='L445'> 445             <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L446'> 446 
<a name='L447'> 447             <b>int</b> <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>;
<a name='L448'> 448             <b>for</b> (<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>=0; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>&lt;<a href='../Y/7902.html' title='Multiple used in 13 places.'>write_query</a>; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>++) <font color='red'>{</font>
<a name='L449'> 449                 <a href='../Y/551.html' title='Multiple used in 9 places.'>MYSQL_RES</a> *<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6198.html' title='Multiple used in 29 places.'>query</a>[<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>]);
<a name='L450'> 450                 <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L451'> 451             <font color='red'>}</font>
<a name='L452'> 452 
<a name='L453'> 453             <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, "COMMIT");
<a name='L454'> 454             <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L455'> 455 
<a name='L456'> 456             <a href='../Y/7902.html' title='Multiple used in 13 places.'>write_query</a> = 0;
<a name='L457'> 457         <font color='red'>}</font>
<a name='L458'> 458 
<a name='L459'> 459         <a href='../D/2419.html' title='Multiple defined in 6 places.'>LOG_INFO</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, "Cleaning up all old data for '%s'", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L460'> 460 
<a name='L461'> 461         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L462'> 462         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.clusters where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L463'> 463         <a href='../Y/551.html' title='Multiple used in 9 places.'>MYSQL_RES</a> *<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L464'> 464         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L465'> 465 
<a name='L466'> 466         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L467'> 467         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.switches where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L468'> 468         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L469'> 469         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L470'> 470 
<a name='L471'> 471         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L472'> 472         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.hosts where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L473'> 473         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L474'> 474         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L475'> 475 
<a name='L476'> 476         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L477'> 477         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.links where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L478'> 478         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L479'> 479         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L480'> 480 
<a name='L481'> 481         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L482'> 482         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.flows where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L483'> 483         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L484'> 484         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L485'> 485 
<a name='L486'> 486         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L487'> 487         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.traffic where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L488'> 488         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L489'> 489         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L490'> 490 
<a name='L491'> 491         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L492'> 492         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.resources where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L493'> 493         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L494'> 494         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L495'> 495 
<a name='L496'> 496         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L497'> 497         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.logs where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L498'> 498         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L499'> 499         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L500'> 500 
<a name='L501'> 501         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, 0, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>);
<a name='L502'> 502         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.events where ctrl_ip = '%s';", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L503'> 503         <a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a> = <a href='../S/1000.html#L89' title='Defined at 89 in components/cluster.c.'>run_query</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>, <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L504'> 504         <b>if</b> (<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>) <a href='../Y/4555.html' title='Multiple used in 27 places.'>mysql_free_result</a>(<a href='../Y/6406.html' title='Multiple used in 175 places.'>res</a>);
<a name='L505'> 505 
<a name='L506'> 506         <a href='../D/2419.html' title='Multiple defined in 6 places.'>LOG_INFO</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, "Cleaned up all old data for '%s'", <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L507'> 507 
<a name='L508'> 508         <a href='../S/1000.html#L74' title='Defined at 74 in components/cluster.c.'>close_db</a>(<a href='../Y/2077.html' title='Multiple used in 80 places.'>conn</a>);
<a name='L509'> 509     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L510'> 510         <a href='../D/2414.html' title='Multiple defined in 6 places.'>LOG_ERROR</a>(<a href='../S/1000.html#L21' title='Defined at 21 in components/cluster.c.'>CLUSTER_ID</a>, "Failed to connect the database");
<a name='L511'> 511     <font color='red'>}</font>
<a name='L512'> 512 
<a name='L513'> 513     <a href='../Y/6148.html' title='Multiple used in 57 places.'>pthread_spin_unlock</a>(&amp;<a href='../Y/1931.html' title='Multiple used in 11 places.'>cluster_lock</a>);
<a name='L514'> 514 
<a name='L515'> 515     <a href='../Y/6145.html' title='Multiple used in 10 places.'>pthread_spin_destroy</a>(&amp;<a href='../Y/1931.html' title='Multiple used in 11 places.'>cluster_lock</a>);
<a name='L516'> 516 
<a name='L517'> 517 <font color='darkred'>#endif</font> <i><font color='green'>/* __ENABLE_CLUSTER */</font></i>
<a name='L518'> 518 
<a name='L519'> 519     <b>return</b> 0;
<a name='L520'> 520 <font color='red'>}</font>
<a name='L521'> 521 
<a name='L522'> 522 <i><font color='green'>/**</font></i>
<a name='L523'> 523 <i><font color='green'> * \brief The CLI function</font></i>
<a name='L524'> 524 <i><font color='green'> * \param cli The CLI pointer</font></i>
<a name='L525'> 525 <i><font color='green'> * \param args Arguments</font></i>
<a name='L526'> 526 <i><font color='green'> */</font></i>
<a name='L527'> 527 <b>int</b> <a href='../S/979.html#L141' title='Refered from 141 in components/include/component_list.h.'>cluster_cli</a>(<b>char</b> **<a href='../Y/1469.html' title='Multiple used in 437 places.'>args</a>)
<a name='L528'> 528 <font color='red'>{</font>
<a name='L529'> 529     <b>return</b> 0;
<a name='L530'> 530 <font color='red'>}</font>
<a name='L531'> 531 
<a name='L532'> 532 <i><font color='green'>/**</font></i>
<a name='L533'> 533 <i><font color='green'> * \brief The handler function</font></i>
<a name='L534'> 534 <i><font color='green'> * \param ev Read-only event</font></i>
<a name='L535'> 535 <i><font color='green'> * \param ev_out Read-write event (if this component has the write permission)</font></i>
<a name='L536'> 536 <i><font color='green'> */</font></i>
<a name='L537'> 537 <b>int</b> <a href='../S/979.html#L141' title='Refered from 141 in components/include/component_list.h.'>cluster_handler</a>(<b>const</b> <a href='../D/7743.html' title='Multiple defined in 7 places.'>event_t</a> *<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>, <a href='../D/7740.html' title='Multiple defined in 7 places.'>event_out_t</a> *<a href='../Y/2897.html' title='Multiple used in 49 places.'>ev_out</a>)
<a name='L538'> 538 <font color='red'>{</font>
<a name='L539'> 539 <font color='darkred'>#ifdef</font> <a href='../Y/1128.html' title='Multiple used in 6 places.'>__ENABLE_CLUSTER</a>
<a name='L540'> 540 
<a name='L541'> 541     <b>switch</b> (<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>) <font color='red'>{</font>
<a name='L542'> 542     <b>case</b> <a href='../S/1026.html#L22' title='Defined at 22 in events/include/event_id.h.'>EV_DP_PORT_STATS</a>:
<a name='L543'> 543         <a href='../D/4939.html' title='Multiple defined in 12 places.'>PRINT_EV</a>("EV_DP_PORT_STATS\n");
<a name='L544'> 544         <font color='red'>{</font>
<a name='L545'> 545             <b>const</b> <a href='../D/9107.html' title='Multiple defined in 6 places.'>port_t</a> *<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> = <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>;
<a name='L546'> 546 
<a name='L547'> 547             <b>if</b> (<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> == <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>)
<a name='L548'> 548                 <b>break</b>;
<a name='L549'> 549 
<a name='L550'> 550             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L551'> 551             <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "update Barista.links set "
<a name='L552'> 552                                                    "rx_packets = %lu, rx_bytes = %lu, tx_packets = %lu, tx_bytes = %lu "
<a name='L553'> 553                                                    "where src_dpid = %lu and src_port = %u and ctrl_ip = '%s';",
<a name='L554'> 554                                                    <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/6526.html' title='Multiple used in 32 places.'>rx_packets</a>, <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/6515.html' title='Multiple used in 32 places.'>rx_bytes</a>, <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/7534.html' title='Multiple used in 38 places.'>tx_packets</a>, <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/7530.html' title='Multiple used in 38 places.'>tx_bytes</a>, 
<a name='L555'> 555                                                    <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a>, <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L556'> 556             <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L557'> 557 
<a name='L558'> 558             <a href='../S/1000.html#L144' title='Defined at 144 in components/cluster.c.'>insert_event_data</a>(<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>);
<a name='L559'> 559         <font color='red'>}</font>
<a name='L560'> 560         <b>break</b>;
<a name='L561'> 561     <b>case</b> <a href='../S/1026.html#L52' title='Defined at 52 in events/include/event_id.h.'>EV_SW_DISCONNECTED</a>:
<a name='L562'> 562         <a href='../D/4939.html' title='Multiple defined in 12 places.'>PRINT_EV</a>("EV_SW_DISCONNECTED\n");
<a name='L563'> 563         <font color='red'>{</font>
<a name='L564'> 564             <b>const</b> <a href='../D/9797.html' title='Multiple defined in 6 places.'>switch_t</a> *<a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a> = <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>;
<a name='L565'> 565 
<a name='L566'> 566             <b>if</b> (<a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> == <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>)
<a name='L567'> 567                 <b>break</b>;
<a name='L568'> 568 
<a name='L569'> 569             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L570'> 570             <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.switches where dpid = %lu and ctrl_ip = '%s';", 
<a name='L571'> 571                                                     <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L572'> 572             <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L573'> 573 
<a name='L574'> 574             <a href='../S/1000.html#L144' title='Defined at 144 in components/cluster.c.'>insert_event_data</a>(<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>);
<a name='L575'> 575         <font color='red'>}</font>
<a name='L576'> 576         <b>break</b>;
<a name='L577'> 577     <b>case</b> <a href='../S/1026.html#L53' title='Defined at 53 in events/include/event_id.h.'>EV_SW_UPDATE_CONFIG</a>:
<a name='L578'> 578         <a href='../D/4939.html' title='Multiple defined in 12 places.'>PRINT_EV</a>("EV_SW_UPDATE_CONFIG\n");
<a name='L579'> 579         <font color='red'>{</font>
<a name='L580'> 580             <b>const</b> <a href='../D/9797.html' title='Multiple defined in 6 places.'>switch_t</a> *<a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a> = <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>;
<a name='L581'> 581 
<a name='L582'> 582             <b>if</b> (<a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> == <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>)
<a name='L583'> 583                 <b>break</b>;
<a name='L584'> 584 
<a name='L585'> 585             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L586'> 586             <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "insert into Barista.switches (dpid, version, num_tables, num_buffers, "
<a name='L587'> 587                                                    "capabilities, actions, ctrl_ip) "
<a name='L588'> 588                                                    "values (%lu, %u, %u, %u, %u, %u, '%s') "
<a name='L589'> 589                                                    "on duplicate key update dpid = %lu, version = %u, num_tables = %u, "
<a name='L590'> 590                                                    "num_buffers = %u, capabilities = %u, actions = %u, ctrl_ip = '%s';", 
<a name='L591'> 591                                                    <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/4620.html' title='Multiple used in 45 places.'>n_tables</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/4573.html' title='Multiple used in 18 places.'>n_buffers</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/1792.html' title='Multiple used in 28 places.'>capabilities</a>, 
<a name='L592'> 592                                                    <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/4620.html' title='Multiple used in 45 places.'>n_tables</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/4573.html' title='Multiple used in 18 places.'>n_buffers</a>, 
<a name='L593'> 593                                                    <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/1792.html' title='Multiple used in 28 places.'>capabilities</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L594'> 594             <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L595'> 595 
<a name='L596'> 596             <a href='../S/1000.html#L144' title='Defined at 144 in components/cluster.c.'>insert_event_data</a>(<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>);
<a name='L597'> 597         <font color='red'>}</font>
<a name='L598'> 598         <b>break</b>;
<a name='L599'> 599     <b>case</b> <a href='../S/1026.html#L54' title='Defined at 54 in events/include/event_id.h.'>EV_SW_UPDATE_DESC</a>:
<a name='L600'> 600         <a href='../D/4939.html' title='Multiple defined in 12 places.'>PRINT_EV</a>("EV_SW_UPDATE_DESC\n");
<a name='L601'> 601         <font color='red'>{</font>
<a name='L602'> 602             <b>const</b> <a href='../D/9797.html' title='Multiple defined in 6 places.'>switch_t</a> *<a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a> = <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>;
<a name='L603'> 603 
<a name='L604'> 604             <b>if</b> (<a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> == <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>)
<a name='L605'> 605                 <b>break</b>;
<a name='L606'> 606 
<a name='L607'> 607             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L608'> 608             <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "update Barista.switches set mfr_desc = '%s', hw_desc = '%s', "
<a name='L609'> 609                                                    "serial_num = '%s', dp_desc = '%s' where dpid = %lu "
<a name='L610'> 610                                                    "and ctrl_ip = '%s';", <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/4440.html' title='Multiple used in 24 places.'>mfr_desc</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/3683.html' title='Multiple used in 24 places.'>hw_desc</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/6673.html' title='Multiple used in 24 places.'>serial_num</a>, 
<a name='L611'> 611                                                    <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/2506.html' title='Multiple used in 33 places.'>dp_desc</a>, <a href='../Y/7172.html' title='Multiple used in 426 places.'>sw</a>-&gt;<a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L612'> 612             <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L613'> 613 
<a name='L614'> 614             <a href='../S/1000.html#L144' title='Defined at 144 in components/cluster.c.'>insert_event_data</a>(<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>);
<a name='L615'> 615         <font color='red'>}</font>
<a name='L616'> 616         <b>break</b>;
<a name='L617'> 617     <b>case</b> <a href='../S/1026.html#L55' title='Defined at 55 in events/include/event_id.h.'>EV_HOST_ADDED</a>:
<a name='L618'> 618         <a href='../D/4939.html' title='Multiple defined in 12 places.'>PRINT_EV</a>("EV_HOST_ADDED\n");
<a name='L619'> 619         <font color='red'>{</font>
<a name='L620'> 620             <b>const</b> <a href='../D/8053.html' title='Multiple defined in 6 places.'>host_t</a> *<a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a> = <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>;
<a name='L621'> 621 
<a name='L622'> 622             <b>if</b> (<a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> == <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>)
<a name='L623'> 623                 <b>break</b>;
<a name='L624'> 624 
<a name='L625'> 625             <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>[<a href='../D/1677.html' title='Multiple defined in 6 places.'>ETH_ALEN</a>];
<a name='L626'> 626             <a href='../S/945.html#L45' title='Defined at 45 in util/mac2int.c.'>int2mac</a>(<a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>-&gt;<a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>, <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>);
<a name='L627'> 627 
<a name='L628'> 628             <b>struct</b> <a href='../Y/3768.html' title='Multiple used in 89 places.'>in_addr</a> <a href='../Y/3874.html' title='Multiple used in 230 places.'>ip</a>;
<a name='L629'> 629             <a href='../Y/3874.html' title='Multiple used in 230 places.'>ip</a>.<a href='../Y/6559.html' title='Multiple used in 125 places.'>s_addr</a> = <a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>-&gt;<a href='../Y/3874.html' title='Multiple used in 230 places.'>ip</a>;
<a name='L630'> 630 
<a name='L631'> 631             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L632'> 632             <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "insert into Barista.hosts (dpid, port, mac, ip, ctrl_ip) "
<a name='L633'> 633                                                    "values (%lu, %u, '%02x:%02x:%02x:%02x:%02x:%02x', '%s', '%s');", 
<a name='L634'> 634                                                    <a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>-&gt;<a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a>, <a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>, <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>[0], <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>[1], <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>[2], <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>[3], <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>[4], <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>[5], 
<a name='L635'> 635                                                    <a href='../Y/3805.html' title='Multiple used in 52 places.'>inet_ntoa</a>(<a href='../Y/3874.html' title='Multiple used in 230 places.'>ip</a>), <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L636'> 636             <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L637'> 637 
<a name='L638'> 638             <a href='../S/1000.html#L144' title='Defined at 144 in components/cluster.c.'>insert_event_data</a>(<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>);
<a name='L639'> 639         <font color='red'>}</font>
<a name='L640'> 640         <b>break</b>;
<a name='L641'> 641     <b>case</b> <a href='../S/1026.html#L56' title='Defined at 56 in events/include/event_id.h.'>EV_HOST_DELETED</a>:
<a name='L642'> 642         <a href='../D/4939.html' title='Multiple defined in 12 places.'>PRINT_EV</a>("EV_HOST_DELETED\n");
<a name='L643'> 643         <font color='red'>{</font>
<a name='L644'> 644             <b>const</b> <a href='../D/8053.html' title='Multiple defined in 6 places.'>host_t</a> *<a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a> = <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>;
<a name='L645'> 645 
<a name='L646'> 646             <b>if</b> (<a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> == <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>)
<a name='L647'> 647                 <b>break</b>;
<a name='L648'> 648 
<a name='L649'> 649             <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>[<a href='../D/1677.html' title='Multiple defined in 6 places.'>ETH_ALEN</a>];
<a name='L650'> 650             <a href='../S/945.html#L45' title='Defined at 45 in util/mac2int.c.'>int2mac</a>(<a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>-&gt;<a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>, <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>);
<a name='L651'> 651 
<a name='L652'> 652             <b>struct</b> <a href='../Y/3768.html' title='Multiple used in 89 places.'>in_addr</a> <a href='../Y/3874.html' title='Multiple used in 230 places.'>ip</a>;
<a name='L653'> 653             <a href='../Y/3874.html' title='Multiple used in 230 places.'>ip</a>.<a href='../Y/6559.html' title='Multiple used in 125 places.'>s_addr</a> = <a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>-&gt;<a href='../Y/3874.html' title='Multiple used in 230 places.'>ip</a>;
<a name='L654'> 654 
<a name='L655'> 655             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L656'> 656             <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.hosts where dpid = %lu "
<a name='L657'> 657                                                    "and mac = '%02x:%02x:%02x:%02x:%02x:%02x' "
<a name='L658'> 658                                                    "and ip = '%s' and ctrl_ip = '%s';", 
<a name='L659'> 659                                                    <a href='../Y/3654.html' title='Multiple used in 58 places.'>host</a>-&gt;<a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a>, <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>[0], <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>[1], <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>[2], <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>[3], <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>[4], <a href='../Y/4297.html' title='Multiple used in 196 places.'>mac</a>[5], 
<a name='L660'> 660                                                    <a href='../Y/3805.html' title='Multiple used in 52 places.'>inet_ntoa</a>(<a href='../Y/3874.html' title='Multiple used in 230 places.'>ip</a>), <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L661'> 661             <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L662'> 662 
<a name='L663'> 663             <a href='../S/1000.html#L144' title='Defined at 144 in components/cluster.c.'>insert_event_data</a>(<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>);
<a name='L664'> 664         <font color='red'>}</font>
<a name='L665'> 665         <b>break</b>;
<a name='L666'> 666     <b>case</b> <a href='../S/1026.html#L57' title='Defined at 57 in events/include/event_id.h.'>EV_LINK_ADDED</a>:
<a name='L667'> 667         <a href='../D/4939.html' title='Multiple defined in 12 places.'>PRINT_EV</a>("EV_LINK_ADDED\n");
<a name='L668'> 668         <font color='red'>{</font>
<a name='L669'> 669             <b>const</b> <a href='../D/9107.html' title='Multiple defined in 6 places.'>port_t</a> *<a href='../Y/4140.html' title='Multiple used in 107 places.'>link</a> = <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>;
<a name='L670'> 670 
<a name='L671'> 671             <b>if</b> (<a href='../Y/4140.html' title='Multiple used in 107 places.'>link</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> == <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>)
<a name='L672'> 672                 <b>break</b>;
<a name='L673'> 673 
<a name='L674'> 674             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L675'> 675             <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "insert into Barista.links (src_dpid, src_port, dst_dpid, dst_port, ctrl_ip) "
<a name='L676'> 676                                                    "values (%lu, %u, %lu, %u, '%s');", 
<a name='L677'> 677                                                    <a href='../Y/4140.html' title='Multiple used in 107 places.'>link</a>-&gt;<a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a>, <a href='../Y/4140.html' title='Multiple used in 107 places.'>link</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>, <a href='../Y/4140.html' title='Multiple used in 107 places.'>link</a>-&gt;<a href='../Y/7260.html' title='Multiple used in 27 places.'>target_dpid</a>, <a href='../Y/4140.html' title='Multiple used in 107 places.'>link</a>-&gt;<a href='../Y/7261.html' title='Multiple used in 29 places.'>target_port</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L678'> 678             <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L679'> 679 
<a name='L680'> 680             <a href='../S/1000.html#L144' title='Defined at 144 in components/cluster.c.'>insert_event_data</a>(<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>);
<a name='L681'> 681         <font color='red'>}</font>
<a name='L682'> 682         <b>break</b>;
<a name='L683'> 683     <b>case</b> <a href='../S/1026.html#L58' title='Defined at 58 in events/include/event_id.h.'>EV_LINK_DELETED</a>:
<a name='L684'> 684         <a href='../D/4939.html' title='Multiple defined in 12 places.'>PRINT_EV</a>("EV_LINK_DELETED\n");
<a name='L685'> 685         <font color='red'>{</font>
<a name='L686'> 686             <b>const</b> <a href='../D/9107.html' title='Multiple defined in 6 places.'>port_t</a> *<a href='../Y/4140.html' title='Multiple used in 107 places.'>link</a> = <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>;
<a name='L687'> 687 
<a name='L688'> 688             <b>if</b> (<a href='../Y/4140.html' title='Multiple used in 107 places.'>link</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> == <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>)
<a name='L689'> 689                 <b>break</b>;
<a name='L690'> 690 
<a name='L691'> 691             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L692'> 692             <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.links "
<a name='L693'> 693                                                    "where src_dpid = %lu and src_port = %u and ctrl_ip = '%s';", 
<a name='L694'> 694                                                    <a href='../Y/4140.html' title='Multiple used in 107 places.'>link</a>-&gt;<a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a>, <a href='../Y/4140.html' title='Multiple used in 107 places.'>link</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L695'> 695             <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L696'> 696 
<a name='L697'> 697             <a href='../S/1000.html#L144' title='Defined at 144 in components/cluster.c.'>insert_event_data</a>(<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>);
<a name='L698'> 698         <font color='red'>}</font>
<a name='L699'> 699         <b>break</b>;
<a name='L700'> 700     <b>case</b> <a href='../S/1026.html#L59' title='Defined at 59 in events/include/event_id.h.'>EV_FLOW_ADDED</a>:
<a name='L701'> 701         <a href='../D/4939.html' title='Multiple defined in 12 places.'>PRINT_EV</a>("EV_FLOW_ADDED\n");
<a name='L702'> 702         <font color='red'>{</font>
<a name='L703'> 703             <b>const</b> <a href='../D/7878.html' title='Multiple defined in 6 places.'>flow_t</a> *<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a> = <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>;
<a name='L704'> 704 
<a name='L705'> 705             <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> == <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>)
<a name='L706'> 706                 <b>break</b>;
<a name='L707'> 707 
<a name='L708'> 708             <b>char</b> <a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>[<a href='../D/6474.html' title='Multiple defined in 6 places.'>__CONF_SHORT_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L709'> 709             <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4973.html' title='Multiple defined in 6 places.'>PROTO_TCP</a>)
<a name='L710'> 710                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "TCP");
<a name='L711'> 711             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4974.html' title='Multiple defined in 6 places.'>PROTO_UDP</a>)
<a name='L712'> 712                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "UDP");
<a name='L713'> 713             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4963.html' title='Multiple defined in 6 places.'>PROTO_ICMP</a>)
<a name='L714'> 714                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "ICMP");
<a name='L715'> 715             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4964.html' title='Multiple defined in 6 places.'>PROTO_IPV4</a>)
<a name='L716'> 716                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "IPv4");
<a name='L717'> 717             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4961.html' title='Multiple defined in 6 places.'>PROTO_ARP</a>)
<a name='L718'> 718                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "ARP");
<a name='L719'> 719             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4971.html' title='Multiple defined in 6 places.'>PROTO_LLDP</a>)
<a name='L720'> 720                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "LLDP");
<a name='L721'> 721             <b>else</b>
<a name='L722'> 722                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "Unknown");
<a name='L723'> 723 
<a name='L724'> 724             <b>char</b> <a href='../Y/6843.html' title='Multiple used in 9 places.'>smac</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L725'> 725             <a href='../S/945.html#L83' title='Defined at 83 in util/mac2int.c.'>mac2str</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6938.html' title='Multiple used in 61 places.'>src_mac</a>, <a href='../Y/6843.html' title='Multiple used in 9 places.'>smac</a>);
<a name='L726'> 726 
<a name='L727'> 727             <b>char</b> <a href='../Y/2478.html' title='Multiple used in 9 places.'>dmac</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L728'> 728             <a href='../S/945.html#L83' title='Defined at 83 in util/mac2int.c.'>mac2str</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2588.html' title='Multiple used in 49 places.'>dst_mac</a>, <a href='../Y/2478.html' title='Multiple used in 9 places.'>dmac</a>);
<a name='L729'> 729 
<a name='L730'> 730             <b>struct</b> <a href='../Y/3768.html' title='Multiple used in 89 places.'>in_addr</a> <a href='../Y/6936.html' title='Multiple used in 91 places.'>src_ip</a>;
<a name='L731'> 731             <a href='../Y/6936.html' title='Multiple used in 91 places.'>src_ip</a>.<a href='../Y/6559.html' title='Multiple used in 125 places.'>s_addr</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6936.html' title='Multiple used in 91 places.'>src_ip</a>;
<a name='L732'> 732 
<a name='L733'> 733             <b>char</b> <a href='../Y/6944.html' title='Multiple used in 35 places.'>srcip</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L734'> 734             <a href='../Y/6924.html' title='Multiple used in 107 places.'>sprintf</a>(<a href='../Y/6944.html' title='Multiple used in 35 places.'>srcip</a>, "%s", <a href='../Y/3805.html' title='Multiple used in 52 places.'>inet_ntoa</a>(<a href='../Y/6936.html' title='Multiple used in 91 places.'>src_ip</a>));
<a name='L735'> 735 
<a name='L736'> 736             <b>struct</b> <a href='../Y/3768.html' title='Multiple used in 89 places.'>in_addr</a> <a href='../Y/2585.html' title='Multiple used in 58 places.'>dst_ip</a>;
<a name='L737'> 737             <a href='../Y/2585.html' title='Multiple used in 58 places.'>dst_ip</a>.<a href='../Y/6559.html' title='Multiple used in 125 places.'>s_addr</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2585.html' title='Multiple used in 58 places.'>dst_ip</a>;
<a name='L738'> 738 
<a name='L739'> 739             <b>char</b> <a href='../Y/2594.html' title='Multiple used in 35 places.'>dstip</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L740'> 740             <a href='../Y/6924.html' title='Multiple used in 107 places.'>sprintf</a>(<a href='../Y/2594.html' title='Multiple used in 35 places.'>dstip</a>, "%s", <a href='../Y/3805.html' title='Multiple used in 52 places.'>inet_ntoa</a>(<a href='../Y/2585.html' title='Multiple used in 58 places.'>dst_ip</a>));
<a name='L741'> 741 
<a name='L742'> 742             <b>char</b> <a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L743'> 743             <a href='../Y/6924.html' title='Multiple used in 107 places.'>sprintf</a>(<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, "%u", <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/4959.html' title='Multiple used in 60 places.'>num_actions</a>);
<a name='L744'> 744 
<a name='L745'> 745             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L746'> 746             <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "insert into Barista.flows (dpid, port, idle_timeout, hard_timeout, wildcards, "
<a name='L747'> 747                                                    "vlan_id, vlan_pcp, proto, ip_tos, src_mac, dst_mac, src_ip, dst_ip, src_port, "
<a name='L748'> 748                                                    "dst_port, actions, ctrl_ip) values (%lu, %u, %u, %u, %u, %u, %u, '%s', %u, "
<a name='L749'> 749                                                    "'%s', '%s', '%s', '%s', %u, %u, '%s', '%s');", 
<a name='L750'> 750                                                    <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../S/935.html#L773' title='Defined at 773 in src/cli.c.'>idle_timeout</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3541.html' title='Multiple used in 76 places.'>hard_timeout</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/7877.html' title='Multiple used in 308 places.'>wildcards</a>,
<a name='L751'> 751                                                    <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/7805.html' title='Multiple used in 70 places.'>vlan_id</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/7808.html' title='Multiple used in 82 places.'>vlan_pcp</a>, <a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3896.html' title='Multiple used in 36 places.'>ip_tos</a>, <a href='../Y/6843.html' title='Multiple used in 9 places.'>smac</a>, <a href='../Y/2478.html' title='Multiple used in 9 places.'>dmac</a>, <a href='../Y/6944.html' title='Multiple used in 35 places.'>srcip</a>, <a href='../Y/2594.html' title='Multiple used in 35 places.'>dstip</a>,
<a name='L752'> 752                                                    <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6941.html' title='Multiple used in 94 places.'>src_port</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2591.html' title='Multiple used in 51 places.'>dst_port</a>, <a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L753'> 753             <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L754'> 754 
<a name='L755'> 755             <a href='../S/1000.html#L144' title='Defined at 144 in components/cluster.c.'>insert_event_data</a>(<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>);
<a name='L756'> 756         <font color='red'>}</font>
<a name='L757'> 757         <b>break</b>;
<a name='L758'> 758     <b>case</b> <a href='../S/1026.html#L60' title='Defined at 60 in events/include/event_id.h.'>EV_FLOW_DELETED</a>:
<a name='L759'> 759         <a href='../D/4939.html' title='Multiple defined in 12 places.'>PRINT_EV</a>("EV_FLOW_DELETED\n");
<a name='L760'> 760         <font color='red'>{</font>
<a name='L761'> 761             <b>const</b> <a href='../D/7878.html' title='Multiple defined in 6 places.'>flow_t</a> *<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a> = <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>;
<a name='L762'> 762 
<a name='L763'> 763             <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> == <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>)
<a name='L764'> 764                 <b>break</b>;
<a name='L765'> 765 
<a name='L766'> 766             <b>char</b> <a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>[<a href='../D/6474.html' title='Multiple defined in 6 places.'>__CONF_SHORT_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L767'> 767             <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4973.html' title='Multiple defined in 6 places.'>PROTO_TCP</a>)
<a name='L768'> 768                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "TCP");
<a name='L769'> 769             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4974.html' title='Multiple defined in 6 places.'>PROTO_UDP</a>)
<a name='L770'> 770                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "UDP");
<a name='L771'> 771             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4963.html' title='Multiple defined in 6 places.'>PROTO_ICMP</a>)
<a name='L772'> 772                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "ICMP");
<a name='L773'> 773             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4964.html' title='Multiple defined in 6 places.'>PROTO_IPV4</a>)
<a name='L774'> 774                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "IPv4");
<a name='L775'> 775             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4961.html' title='Multiple defined in 6 places.'>PROTO_ARP</a>)
<a name='L776'> 776                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "ARP");
<a name='L777'> 777             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4971.html' title='Multiple defined in 6 places.'>PROTO_LLDP</a>)
<a name='L778'> 778                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "LLDP");
<a name='L779'> 779             <b>else</b>
<a name='L780'> 780                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "Unknown");
<a name='L781'> 781 
<a name='L782'> 782             <b>char</b> <a href='../Y/6843.html' title='Multiple used in 9 places.'>smac</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L783'> 783             <a href='../S/945.html#L83' title='Defined at 83 in util/mac2int.c.'>mac2str</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6938.html' title='Multiple used in 61 places.'>src_mac</a>, <a href='../Y/6843.html' title='Multiple used in 9 places.'>smac</a>);
<a name='L784'> 784 
<a name='L785'> 785             <b>char</b> <a href='../Y/2478.html' title='Multiple used in 9 places.'>dmac</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L786'> 786             <a href='../S/945.html#L83' title='Defined at 83 in util/mac2int.c.'>mac2str</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2588.html' title='Multiple used in 49 places.'>dst_mac</a>, <a href='../Y/2478.html' title='Multiple used in 9 places.'>dmac</a>);
<a name='L787'> 787 
<a name='L788'> 788             <b>struct</b> <a href='../Y/3768.html' title='Multiple used in 89 places.'>in_addr</a> <a href='../Y/6936.html' title='Multiple used in 91 places.'>src_ip</a>;
<a name='L789'> 789             <a href='../Y/6936.html' title='Multiple used in 91 places.'>src_ip</a>.<a href='../Y/6559.html' title='Multiple used in 125 places.'>s_addr</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6936.html' title='Multiple used in 91 places.'>src_ip</a>;
<a name='L790'> 790 
<a name='L791'> 791             <b>char</b> <a href='../Y/6944.html' title='Multiple used in 35 places.'>srcip</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L792'> 792             <a href='../Y/6924.html' title='Multiple used in 107 places.'>sprintf</a>(<a href='../Y/6944.html' title='Multiple used in 35 places.'>srcip</a>, "%s", <a href='../Y/3805.html' title='Multiple used in 52 places.'>inet_ntoa</a>(<a href='../Y/6936.html' title='Multiple used in 91 places.'>src_ip</a>));
<a name='L793'> 793 
<a name='L794'> 794             <b>struct</b> <a href='../Y/3768.html' title='Multiple used in 89 places.'>in_addr</a> <a href='../Y/2585.html' title='Multiple used in 58 places.'>dst_ip</a>;
<a name='L795'> 795             <a href='../Y/2585.html' title='Multiple used in 58 places.'>dst_ip</a>.<a href='../Y/6559.html' title='Multiple used in 125 places.'>s_addr</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2585.html' title='Multiple used in 58 places.'>dst_ip</a>;
<a name='L796'> 796 
<a name='L797'> 797             <b>char</b> <a href='../Y/2594.html' title='Multiple used in 35 places.'>dstip</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L798'> 798             <a href='../Y/6924.html' title='Multiple used in 107 places.'>sprintf</a>(<a href='../Y/2594.html' title='Multiple used in 35 places.'>dstip</a>, "%s", <a href='../Y/3805.html' title='Multiple used in 52 places.'>inet_ntoa</a>(<a href='../Y/2585.html' title='Multiple used in 58 places.'>dst_ip</a>));
<a name='L799'> 799 
<a name='L800'> 800             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L801'> 801             <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "delete from Barista.flows where dpid = %lu and port = %u and proto = '%s' "
<a name='L802'> 802                                                    "and src_mac = '%s' and dst_mac = '%s' and src_ip = '%s' and dst_ip = '%s' "
<a name='L803'> 803                                                    "and src_port = %u and dst_port = %u and ctrl_ip = '%s';", 
<a name='L804'> 804                                                    <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>, <a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, <a href='../Y/6843.html' title='Multiple used in 9 places.'>smac</a>, <a href='../Y/2478.html' title='Multiple used in 9 places.'>dmac</a>, <a href='../Y/6944.html' title='Multiple used in 35 places.'>srcip</a>, <a href='../Y/2594.html' title='Multiple used in 35 places.'>dstip</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6941.html' title='Multiple used in 94 places.'>src_port</a>, 
<a name='L805'> 805                                                    <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2591.html' title='Multiple used in 51 places.'>dst_port</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L806'> 806             <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L807'> 807 
<a name='L808'> 808             <a href='../S/1000.html#L144' title='Defined at 144 in components/cluster.c.'>insert_event_data</a>(<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>);
<a name='L809'> 809         <font color='red'>}</font>
<a name='L810'> 810         <b>break</b>;
<a name='L811'> 811     <b>case</b> <a href='../S/1026.html#L17' title='Defined at 17 in events/include/event_id.h.'>EV_DP_FLOW_STATS</a>:
<a name='L812'> 812         <a href='../D/4939.html' title='Multiple defined in 12 places.'>PRINT_EV</a>("EV_DP_FLOW_STATS\n");
<a name='L813'> 813         <font color='red'>{</font>
<a name='L814'> 814             <b>const</b> <a href='../D/7878.html' title='Multiple defined in 6 places.'>flow_t</a> *<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a> = <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>;
<a name='L815'> 815 
<a name='L816'> 816             <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> == <a href='../D/5695.html' title='Multiple defined in 7 places.'>TRUE</a>)
<a name='L817'> 817                 <b>break</b>;
<a name='L818'> 818 
<a name='L819'> 819             <b>char</b> <a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>[<a href='../D/6474.html' title='Multiple defined in 6 places.'>__CONF_SHORT_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L820'> 820             <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4973.html' title='Multiple defined in 6 places.'>PROTO_TCP</a>)
<a name='L821'> 821                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "TCP");
<a name='L822'> 822             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4974.html' title='Multiple defined in 6 places.'>PROTO_UDP</a>)
<a name='L823'> 823                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "UDP");
<a name='L824'> 824             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4963.html' title='Multiple defined in 6 places.'>PROTO_ICMP</a>)
<a name='L825'> 825                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "ICMP");
<a name='L826'> 826             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4964.html' title='Multiple defined in 6 places.'>PROTO_IPV4</a>)
<a name='L827'> 827                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "IPv4");
<a name='L828'> 828             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4961.html' title='Multiple defined in 6 places.'>PROTO_ARP</a>)
<a name='L829'> 829                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "ARP");
<a name='L830'> 830             <b>else</b> <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a> &amp; <a href='../D/4971.html' title='Multiple defined in 6 places.'>PROTO_LLDP</a>)
<a name='L831'> 831                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "LLDP");
<a name='L832'> 832             <b>else</b>
<a name='L833'> 833                 <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, "Unknown");
<a name='L834'> 834 
<a name='L835'> 835             <b>char</b> <a href='../Y/6843.html' title='Multiple used in 9 places.'>smac</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L836'> 836             <a href='../S/945.html#L83' title='Defined at 83 in util/mac2int.c.'>mac2str</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6938.html' title='Multiple used in 61 places.'>src_mac</a>, <a href='../Y/6843.html' title='Multiple used in 9 places.'>smac</a>);
<a name='L837'> 837 
<a name='L838'> 838             <b>char</b> <a href='../Y/2478.html' title='Multiple used in 9 places.'>dmac</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L839'> 839             <a href='../S/945.html#L83' title='Defined at 83 in util/mac2int.c.'>mac2str</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2588.html' title='Multiple used in 49 places.'>dst_mac</a>, <a href='../Y/2478.html' title='Multiple used in 9 places.'>dmac</a>);
<a name='L840'> 840 
<a name='L841'> 841             <b>struct</b> <a href='../Y/3768.html' title='Multiple used in 89 places.'>in_addr</a> <a href='../Y/6936.html' title='Multiple used in 91 places.'>src_ip</a>;
<a name='L842'> 842             <a href='../Y/6936.html' title='Multiple used in 91 places.'>src_ip</a>.<a href='../Y/6559.html' title='Multiple used in 125 places.'>s_addr</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6936.html' title='Multiple used in 91 places.'>src_ip</a>;
<a name='L843'> 843 
<a name='L844'> 844             <b>char</b> <a href='../Y/6944.html' title='Multiple used in 35 places.'>srcip</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L845'> 845             <a href='../Y/6924.html' title='Multiple used in 107 places.'>sprintf</a>(<a href='../Y/6944.html' title='Multiple used in 35 places.'>srcip</a>, "%s", <a href='../Y/3805.html' title='Multiple used in 52 places.'>inet_ntoa</a>(<a href='../Y/6936.html' title='Multiple used in 91 places.'>src_ip</a>));
<a name='L846'> 846 
<a name='L847'> 847             <b>struct</b> <a href='../Y/3768.html' title='Multiple used in 89 places.'>in_addr</a> <a href='../Y/2585.html' title='Multiple used in 58 places.'>dst_ip</a>;
<a name='L848'> 848             <a href='../Y/2585.html' title='Multiple used in 58 places.'>dst_ip</a>.<a href='../Y/6559.html' title='Multiple used in 125 places.'>s_addr</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2585.html' title='Multiple used in 58 places.'>dst_ip</a>;
<a name='L849'> 849 
<a name='L850'> 850             <b>char</b> <a href='../Y/2594.html' title='Multiple used in 35 places.'>dstip</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L851'> 851             <a href='../Y/6924.html' title='Multiple used in 107 places.'>sprintf</a>(<a href='../Y/2594.html' title='Multiple used in 35 places.'>dstip</a>, "%s", <a href='../Y/3805.html' title='Multiple used in 52 places.'>inet_ntoa</a>(<a href='../Y/2585.html' title='Multiple used in 58 places.'>dst_ip</a>));
<a name='L852'> 852 
<a name='L853'> 853             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L854'> 854             <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "update Barista.flows set pkt_count = %lu and byte_count = %lu "
<a name='L855'> 855                                                    "where dpid = %lu and port = %u and proto = '%s' "
<a name='L856'> 856                                                    "and src_mac = '%s' and dst_mac = '%s' and src_ip = '%s' and dst_ip = '%s' "
<a name='L857'> 857                                                    "and src_port = %u and dst_port = %u and ctrl_ip = '%s';",
<a name='L858'> 858                                                    <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5744.html' title='Multiple used in 39 places.'>pkt_count</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/1732.html' title='Multiple used in 68 places.'>byte_count</a>,
<a name='L859'> 859                                                    <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>, <a href='../Y/5957.html' title='Multiple used in 226 places.'>proto</a>, <a href='../Y/6843.html' title='Multiple used in 9 places.'>smac</a>, <a href='../Y/2478.html' title='Multiple used in 9 places.'>dmac</a>, <a href='../Y/6944.html' title='Multiple used in 35 places.'>srcip</a>, <a href='../Y/2594.html' title='Multiple used in 35 places.'>dstip</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6941.html' title='Multiple used in 94 places.'>src_port</a>, 
<a name='L860'> 860                                                    <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2591.html' title='Multiple used in 51 places.'>dst_port</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L861'> 861             <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L862'> 862 
<a name='L863'> 863             <a href='../S/1000.html#L144' title='Defined at 144 in components/cluster.c.'>insert_event_data</a>(<a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>);
<a name='L864'> 864         <font color='red'>}</font>
<a name='L865'> 865         <b>break</b>;
<a name='L866'> 866     <b>case</b> <a href='../S/1026.html#L61' title='Defined at 61 in events/include/event_id.h.'>EV_RS_UPDATE_USAGE</a>:
<a name='L867'> 867         <a href='../D/4939.html' title='Multiple defined in 12 places.'>PRINT_EV</a>("EV_RS_UPDATE_USAGE\n");
<a name='L868'> 868         <font color='red'>{</font>
<a name='L869'> 869             <b>const</b> <a href='../D/9419.html' title='Multiple defined in 6 places.'>resource_t</a> *<a href='../Y/6419.html' title='Multiple used in 4 places.'>resource</a> = <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/6419.html' title='Multiple used in 4 places.'>resource</a>;
<a name='L870'> 870 
<a name='L871'> 871             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L872'> 872             <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "insert into Barista.resources (cpu, mem, ctrl_ip) values (%lf, %lf, '%s');", 
<a name='L873'> 873                                                    <a href='../Y/6419.html' title='Multiple used in 4 places.'>resource</a>-&gt;<a href='../Y/2154.html' title='Multiple used in 27 places.'>cpu</a>, <a href='../Y/6419.html' title='Multiple used in 4 places.'>resource</a>-&gt;<a href='../Y/4413.html' title='Multiple used in 15 places.'>mem</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L874'> 874             <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L875'> 875         <font color='red'>}</font>
<a name='L876'> 876         <b>break</b>;
<a name='L877'> 877     <b>case</b> <a href='../S/1026.html#L62' title='Defined at 62 in events/include/event_id.h.'>EV_TR_UPDATE_STATS</a>:
<a name='L878'> 878         <a href='../D/4939.html' title='Multiple defined in 12 places.'>PRINT_EV</a>("EV_TR_UPDATE_STATS\n");
<a name='L879'> 879         <font color='red'>{</font>
<a name='L880'> 880             <b>const</b> <a href='../D/9946.html' title='Multiple defined in 6 places.'>traffic_t</a> *<a href='../Y/7456.html' title='Multiple used in 14 places.'>traffic</a> = <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/7456.html' title='Multiple used in 14 places.'>traffic</a>;
<a name='L881'> 881 
<a name='L882'> 882             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L883'> 883             <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "insert into Barista.traffic (in_pkt_cnt, in_byte_cnt, out_pkt_cnt, "
<a name='L884'> 884                                                    "out_byte_cnt, ctrl_ip) values (%lu, %lu, %lu, %lu, '%s');", 
<a name='L885'> 885                                                    <a href='../Y/7456.html' title='Multiple used in 14 places.'>traffic</a>-&gt;<a href='../Y/3785.html' title='Multiple used in 13 places.'>in_pkt_cnt</a>, <a href='../Y/7456.html' title='Multiple used in 14 places.'>traffic</a>-&gt;<a href='../Y/3773.html' title='Multiple used in 13 places.'>in_byte_cnt</a>, <a href='../Y/7456.html' title='Multiple used in 14 places.'>traffic</a>-&gt;<a href='../Y/5547.html' title='Multiple used in 13 places.'>out_pkt_cnt</a>, 
<a name='L886'> 886                                                    <a href='../Y/7456.html' title='Multiple used in 14 places.'>traffic</a>-&gt;<a href='../Y/5535.html' title='Multiple used in 13 places.'>out_byte_cnt</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L887'> 887             <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L888'> 888         <font color='red'>}</font>
<a name='L889'> 889         <b>break</b>;
<a name='L890'> 890     <b>case</b> <a href='../S/1026.html#L63' title='Defined at 63 in events/include/event_id.h.'>EV_LOG_UPDATE_MSGS</a>:
<a name='L891'> 891         <a href='../D/4939.html' title='Multiple defined in 12 places.'>PRINT_EV</a>("EV_LOG_UPDATE_MSGS\n");
<a name='L892'> 892         <font color='red'>{</font>
<a name='L893'> 893             <b>const</b> <b>char</b> *<a href='../Y/2895.html' title='Multiple used in 3 places.'>ev_log</a> = <a href='../Y/2891.html' title='Multiple used in 186 places.'>ev</a>-&gt;<a href='../Y/4214.html' title='Multiple used in 173 places.'>log</a>;
<a name='L894'> 894             <b>char</b> <a href='../Y/4214.html' title='Multiple used in 173 places.'>log</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L895'> 895 
<a name='L896'> 896             <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/4214.html' title='Multiple used in 173 places.'>log</a>, <a href='../Y/2895.html' title='Multiple used in 3 places.'>ev_log</a>);
<a name='L897'> 897             <a href='../Y/4214.html' title='Multiple used in 173 places.'>log</a>[<a href='../Y/7098.html' title='Multiple used in 203 places.'>strlen</a>(<a href='../Y/2895.html' title='Multiple used in 3 places.'>ev_log</a>)-1] = '\0';
<a name='L898'> 898 
<a name='L899'> 899             <b>char</b> <a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>[<a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L900'> 900             <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>, <a href='../D/6473.html' title='Multiple defined in 6 places.'>__CONF_LSTR_LEN</a>-1, "insert into Barista.logs (log, ctrl_ip) values ('%s', '%s');", <a href='../Y/4214.html' title='Multiple used in 173 places.'>log</a>, <a href='../Y/2204.html' title='Multiple used in 48 places.'>ctrl_ip</a>);
<a name='L901'> 901             <a href='../S/1000.html#L105' title='Defined at 105 in components/cluster.c.'>push_query_into_queue</a>(<a href='../Y/6925.html' title='Multiple used in 112 places.'>sql_query</a>);
<a name='L902'> 902         <font color='red'>}</font>
<a name='L903'> 903         <b>break</b>;
<a name='L904'> 904     <b>default</b>:
<a name='L905'> 905         <b>break</b>;
<a name='L906'> 906     <font color='red'>}</font>
<a name='L907'> 907 
<a name='L908'> 908 <font color='darkred'>#endif</font> <i><font color='green'>/* __ENABLE_CLUSTER */</font></i>
<a name='L909'> 909 
<a name='L910'> 910     <b>return</b> 0;
<a name='L911'> 911 <font color='red'>}</font>
<a name='L912'> 912 
<a name='L913'> 913 <i><font color='green'>/**</font></i>
<a name='L914'> 914 <i><font color='green'> * @}</font></i>
<a name='L915'> 915 <i><font color='green'> *</font></i>
<a name='L916'> 916 <i><font color='green'> * @}</font></i>
<a name='L917'> 917 <i><font color='green'> */</font></i>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L58'>[^]</a><a href='#L537'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
