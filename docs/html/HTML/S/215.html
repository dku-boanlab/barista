<html>
<head>
<title>cbench/openflow/hw-lib/skeleton/hw_flow.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.7.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/1100.html'>cbench</a>/<a href='../files/1124.html'>openflow</a>/<a href='../files/1135.html'>hw-lib</a>/<a href='../files/1137.html'>skeleton</a>/hw_flow.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L30'>[^]</a><a href='#L698'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L30' title='Defined at 30.'>hw_flow_create</a>
<li><a href='#L46' title='Defined at 46.'>HW_entry_remove</a>
<li><a href='#L66' title='Defined at 66.'>entry_stat_update</a>
<li><a href='#L98' title='Defined at 98.'>of_hw_sw_flow_stat_update</a>
<li><a href='#L139' title='Defined at 139.'>of_hw_table_stats_update</a>
<li><a href='#L188' title='Defined at 188.'>hw_flow_remove</a>
<li><a href='#L234' title='Defined at 234.'>add_dport_to_extra</a>
<li><a href='#L247' title='Defined at 247.'>mcast_bitmaps_set</a>
<li><a href='#L266' title='Defined at 266.'>actions_supported_check</a>
<li><a href='#L392' title='Defined at 392.'>field_control_init</a>
<li><a href='#L411' title='Defined at 411.'>hw_entry_install</a>
<li><a href='#L426' title='Defined at 426.'>hw_flow_install</a>
<li><a href='#L467' title='Defined at 467.'>of_hw_flow_install</a>
<li><a href='#L546' title='Defined at 546.'>of_hw_flow_delete</a>
<li><a href='#L591' title='Defined at 591.'>of_hw_flow_modify</a>
<li><a href='#L638' title='Defined at 638.'>of_hw_flow_timeout</a>
<li><a href='#L669' title='Defined at 669.'>of_hw_flow_lookup</a>
<li><a href='#L682' title='Defined at 682.'>of_hw_flow_stats_get</a>
<li><a href='#L690' title='Defined at 690.'>of_hw_aggregate_stats_get</a>
<li><a href='#L698' title='Defined at 698.'>of_hw_flow_remove_all</a>
</ol>
<hr>
<pre>
<a name='L1'>   1 <i><font color='green'>/*</font></i>
<a name='L2'>   2 <i><font color='green'> * Functions related to hardware flow processing; this is the glue</font></i>
<a name='L3'>   3 <i><font color='green'> * and administration between upper level flow operations and lower</font></i>
<a name='L4'>   4 <i><font color='green'> * level field processor operations.</font></i>
<a name='L5'>   5 <i><font color='green'> */</font></i>
<a name='L6'>   6 
<a name='L7'>   7 <font color='darkred'>#include</font> &lt;arpa/inet.h&gt;
<a name='L8'>   8 <font color='darkred'>#include</font> &lt;<a href='181.html'>openflow/openflow.h</a>&gt;
<a name='L9'>   9 <font color='darkred'>#include</font> &lt;<a href='183.html'>of_hw_api.h</a>&gt;
<a name='L10'>  10 
<a name='L11'>  11 <font color='darkred'>#include</font> "<a href='221.html'>os.h</a>"
<a name='L12'>  12 <font color='darkred'>#include</font> "<a href='../I/149.html'>debug.h</a>"
<a name='L13'>  13 <font color='darkred'>#include</font> "<a href='222.html'>hw_drv.h</a>"
<a name='L14'>  14 <font color='darkred'>#include</font> "<a href='213.html'>port.h</a>"
<a name='L15'>  15 <font color='darkred'>#include</font> "<a href='../I/151.html'>hw_flow.h</a>"
<a name='L16'>  16 <font color='darkred'>#include</font> "<a href='200.html'>udatapath/switch-flow.h</a>"
<a name='L17'>  17 <font color='darkred'>#include</font> "<a href='../I/91.html'>udatapath/datapath.h</a>"
<a name='L18'>  18 <font color='darkred'>#include</font> "<a href='860.html'>lib/packets.h</a>"
<a name='L19'>  19 
<a name='L20'>  20 <b>static</b> <a href='../Y/3037.html' title='Multiple used in 4 places.'>field_control_t</a> <a href='../Y/3036.html' title='Multiple used in 3 places.'>field_control</a>;
<a name='L21'>  21 
<a name='L22'>  22 <i><font color='green'>/****************************************************************</font></i>
<a name='L23'>  23 <i><font color='green'> *</font></i>
<a name='L24'>  24 <i><font color='green'> * SW/HW flow correlation book keeping routines</font></i>
<a name='L25'>  25 <i><font color='green'> *</font></i>
<a name='L26'>  26 <i><font color='green'> ****************************************************************/</font></i>
<a name='L27'>  27 
<a name='L28'>  28 <i><font color='green'>/* Allocate and initialize a HW flow control structure. */</font></i>
<a name='L29'>  29 <b>static</b> <a href='../S/212.html#L32' title='Defined at 32 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_t</a> *
<a name='L30'>  30 <a href='../S/215.html#L432' title='Refered from 432 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>hw_flow_create</a>(<b>struct</b> <a href='../Y/7178.html' title='Multiple used in 120 places.'>sw_flow</a> *<a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a>)
<a name='L31'>  31 <font color='red'>{</font>
<a name='L32'>  32     <a href='../S/212.html#L32' title='Defined at 32 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_t</a> *<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>;
<a name='L33'>  33 
<a name='L34'>  34     <b>if</b> ((<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a> = <a href='../S/221.html#L11' title='Defined at 11 in cbench/openflow/hw-lib/skeleton/os.h.'>ALLOC</a>(<b>sizeof</b>(*<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>))) != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L35'>  35         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>, 0, <b>sizeof</b>(*<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>));
<a name='L36'>  36         <a href='../D/2031.html' title='Multiple defined in 5 places.'>HW_FLOW_MAKE_VALID</a>(<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>);
<a name='L37'>  37         <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>-&gt;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>;
<a name='L38'>  38         <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5911.html' title='Multiple used in 123 places.'>private</a> = (<b>void</b> *)<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>;
<a name='L39'>  39     <font color='red'>}</font>
<a name='L40'>  40 
<a name='L41'>  41     <b>return</b> <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>;
<a name='L42'>  42 <font color='red'>}</font>
<a name='L43'>  43 
<a name='L44'>  44 <i><font color='green'>/* Remove an FP entry from a device */</font></i>
<a name='L45'>  45 <b>static</b> <b>int</b>
<a name='L46'>  46 <a href='../S/215.html#L216' title='Refered from 216 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>HW_entry_remove</a>(<a href='../Y/2702.html' title='Multiple used in 7 places.'>entry_control_t</a> *<a href='../Y/2701.html' title='Multiple used in 33 places.'>entry</a>)
<a name='L47'>  47 <font color='red'>{</font>
<a name='L48'>  48     <a href='../Y/331.html' title='Multiple used in 9 places.'>FIXME</a>;
<a name='L49'>  49 
<a name='L50'>  50     <b>return</b> 0;
<a name='L51'>  51 <font color='red'>}</font>
<a name='L52'>  52 
<a name='L53'>  53 <i><font color='green'>/****************************************************************</font></i>
<a name='L54'>  54 <i><font color='green'> *</font></i>
<a name='L55'>  55 <i><font color='green'> * Flow stats operations</font></i>
<a name='L56'>  56 <i><font color='green'> *</font></i>
<a name='L57'>  57 <i><font color='green'> ****************************************************************/</font></i>
<a name='L58'>  58 
<a name='L59'>  59 <i><font color='green'>/*</font></i>
<a name='L60'>  60 <i><font color='green'> * Read and convert the stats for an FP entry; maintains state</font></i>
<a name='L61'>  61 <i><font color='green'> * of last counter value read and accumulates differences.</font></i>
<a name='L62'>  62 <i><font color='green'> *</font></i>
<a name='L63'>  63 <i><font color='green'> * Assumes mutex held.</font></i>
<a name='L64'>  64 <i><font color='green'> */</font></i>
<a name='L65'>  65 <b>static</b> <b>int</b>
<a name='L66'>  66 <a href='../R/2886.html' title='Multiple refered from 2 places.'>entry_stat_update</a>(<a href='../Y/2702.html' title='Multiple used in 7 places.'>entry_control_t</a> *<a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a>, <b>int</b> *<a href='../Y/7677.html' title='Multiple used in 32 places.'>used</a>)
<a name='L67'>  67 <font color='red'>{</font>
<a name='L68'>  68     <b>unsigned</b> <b>long</b> <b>int</b> <a href='../Y/2217.html' title='Multiple used in 6 places.'>cur_counter</a>;
<a name='L69'>  69 
<a name='L70'>  70     FIXME_get_current_stats(<a href='../Y/2217.html' title='Multiple used in 6 places.'>cur_counter</a>);
<a name='L71'>  71 
<a name='L72'>  72     <a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a>-&gt;<a href='../Y/7435.html' title='Multiple used in 4 places.'>total_counter</a> += <a href='../Y/2217.html' title='Multiple used in 6 places.'>cur_counter</a> - <a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a>-&gt;<a href='../Y/4072.html' title='Multiple used in 4 places.'>last_counter</a>;
<a name='L73'>  73     <a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a>-&gt;<a href='../Y/4072.html' title='Multiple used in 4 places.'>last_counter</a> = <a href='../Y/2217.html' title='Multiple used in 6 places.'>cur_counter</a>;
<a name='L74'>  74 
<a name='L75'>  75     <b>if</b> (<a href='../Y/7677.html' title='Multiple used in 32 places.'>used</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L76'>  76         *<a href='../Y/7677.html' title='Multiple used in 32 places.'>used</a> |= (<a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a>-&gt;<a href='../Y/7678.html' title='Multiple used in 3 places.'>used_check</a> != <a href='../Y/2217.html' title='Multiple used in 6 places.'>cur_counter</a>);
<a name='L77'>  77         <a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a>-&gt;<a href='../Y/7678.html' title='Multiple used in 3 places.'>used_check</a> = <a href='../Y/2217.html' title='Multiple used in 6 places.'>cur_counter</a>;
<a name='L78'>  78     <font color='red'>}</font>
<a name='L79'>  79 
<a name='L80'>  80     <b>return</b> 0;
<a name='L81'>  81 <font color='red'>}</font>
<a name='L82'>  82 
<a name='L83'>  83 <i><font color='green'>/*</font></i>
<a name='L84'>  84 <i><font color='green'> * Get the stats for an OF (SW) flow object from HW tables</font></i>
<a name='L85'>  85 <i><font color='green'> * NOTE:  This will clear any existing value from the flow</font></i>
<a name='L86'>  86 <i><font color='green'> * counters; if SW table counters need to be added in, that</font></i>
<a name='L87'>  87 <i><font color='green'> * should be done after this calculation.</font></i>
<a name='L88'>  88 <i><font color='green'> *</font></i>
<a name='L89'>  89 <i><font color='green'> * If used is non-NULL, it will be filled with a boolean</font></i>
<a name='L90'>  90 <i><font color='green'> * indication of whether the flow's counters have changed</font></i>
<a name='L91'>  91 <i><font color='green'> * from their current state.</font></i>
<a name='L92'>  92 <i><font color='green'> *</font></i>
<a name='L93'>  93 <i><font color='green'> * Assumes mutex held.</font></i>
<a name='L94'>  94 <i><font color='green'> *</font></i>
<a name='L95'>  95 <i><font color='green'> * If force_sync is true, will sync SW counters with HW first</font></i>
<a name='L96'>  96 <i><font color='green'> */</font></i>
<a name='L97'>  97 <b>int</b>
<a name='L98'>  98 <a href='../R/3799.html' title='Multiple refered from 5 places.'>of_hw_sw_flow_stat_update</a>(<b>struct</b> <a href='../Y/7178.html' title='Multiple used in 120 places.'>sw_flow</a> *<a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a>, <b>int</b> *<a href='../Y/7677.html' title='Multiple used in 32 places.'>used</a>, <b>int</b> <a href='../Y/3196.html' title='Multiple used in 3 places.'>force_sync</a>)
<a name='L99'>  99 <font color='red'>{</font>
<a name='L100'> 100     <a href='../Y/2702.html' title='Multiple used in 7 places.'>entry_control_t</a> *<a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a>;
<a name='L101'> 101     <a href='../S/212.html#L32' title='Defined at 32 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_t</a> *<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>;
<a name='L102'> 102     <b>int</b> <a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>;
<a name='L103'> 103 
<a name='L104'> 104     <b>if</b> (<a href='../Y/7677.html' title='Multiple used in 32 places.'>used</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L105'> 105         *<a href='../Y/7677.html' title='Multiple used in 32 places.'>used</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L106'> 106     <font color='red'>}</font>
<a name='L107'> 107     <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a> = (<a href='../S/212.html#L32' title='Defined at 32 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_t</a> *)(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5911.html' title='Multiple used in 123 places.'>private</a>);
<a name='L108'> 108     <b>if</b> (!<a href='../D/2029.html' title='Multiple defined in 5 places.'>HW_FLOW_IS_VALID</a>(<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>)) <font color='red'>{</font>
<a name='L109'> 109         <a href='../D/1142.html' title='Multiple defined in 4 places.'>DBG_ERROR</a>("BAD HW FLOW OBJECT %p for flow %p\n", <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>);
<a name='L110'> 110         <b>return</b> -1;
<a name='L111'> 111     <font color='red'>}</font>
<a name='L112'> 112     <a href='../D/306.html' title='Multiple defined in 4 places.'>ASSERT</a>(<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>-&gt;<a href='../Y/2703.html' title='Multiple used in 7 places.'>entry_count</a> &lt;= <a href='../S/212.html#L21' title='Defined at 21 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>HW_FLOWS_PER_FLOW_MAX</a>);
<a name='L113'> 113 
<a name='L114'> 114     <b>if</b> (<a href='../Y/3196.html' title='Multiple used in 3 places.'>force_sync</a>) <font color='red'>{</font>
<a name='L115'> 115         FIXME_sync_hw_stats();
<a name='L116'> 116     <font color='red'>}</font>
<a name='L117'> 117 
<a name='L118'> 118     <i><font color='green'>/* FIXME:  Will this accumulate and clear HW counters? */</font></i>
<a name='L119'> 119     <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>-&gt;<a href='../Y/3681.html' title='Multiple used in 17 places.'>hw_byte_count</a> = <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>-&gt;<a href='../Y/3693.html' title='Multiple used in 17 places.'>hw_packet_count</a> = 0;
<a name='L120'> 120     <b>for</b> (<a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a> = 0; <a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a> &lt; <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>-&gt;<a href='../Y/2703.html' title='Multiple used in 7 places.'>entry_count</a>; <a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>++) <font color='red'>{</font>
<a name='L121'> 121         <a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a> = <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>-&gt;<a href='../Y/2704.html' title='Multiple used in 12 places.'>entry_list</a>[<a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>];
<a name='L122'> 122 
<a name='L123'> 123         <b>if</b> (<a href='../S/215.html#L66' title='Defined at 66 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>entry_stat_update</a>(<a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a>, <a href='../Y/7677.html' title='Multiple used in 32 places.'>used</a>) &lt; 0) <font color='red'>{</font>
<a name='L124'> 124             <a href='../D/1153.html' title='Multiple defined in 4 places.'>DBG_WARN</a>("Warning: could not get stats for flow\n");
<a name='L125'> 125             <b>continue</b>;
<a name='L126'> 126         <font color='red'>}</font>
<a name='L127'> 127         <a href='../Y/334.html' title='Multiple used in 2 places.'>FIXME_update</a> proper <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a> <a href='../Y/2146.html' title='Multiple used in 19 places.'>counters</a>;
<a name='L128'> 128     <font color='red'>}</font>
<a name='L129'> 129     <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5595.html' title='Multiple used in 48 places.'>packet_count</a> = <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>-&gt;<a href='../Y/3693.html' title='Multiple used in 17 places.'>hw_packet_count</a>;
<a name='L130'> 130     <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/1732.html' title='Multiple used in 68 places.'>byte_count</a> = <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>-&gt;<a href='../Y/3681.html' title='Multiple used in 17 places.'>hw_byte_count</a>;
<a name='L131'> 131 
<a name='L132'> 132     <b>return</b> 0;
<a name='L133'> 133 <font color='red'>}</font>
<a name='L134'> 134 
<a name='L135'> 135 <i><font color='green'>/* Read all the stats from the chip and update counters in flow tab */</font></i>
<a name='L136'> 136 <i><font color='green'>/* Index 0 holds default rule that indicates a missed count */</font></i>
<a name='L137'> 137 <i><font color='green'>/* ASSUMES LOCK HELD */</font></i>
<a name='L138'> 138 <b>int</b>
<a name='L139'> 139 <a href='../R/3804.html' title='Multiple refered from 2 places.'>of_hw_table_stats_update</a>(<a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>, <b>unsigned</b> <b>long</b> *<a href='../Y/4348.html' title='Multiple used in 15 places.'>matched</a>,
<a name='L140'> 140                           <b>unsigned</b> <b>long</b> *<a href='../Y/4474.html' title='Multiple used in 7 places.'>missed</a>)
<a name='L141'> 141 <font color='red'>{</font>
<a name='L142'> 142     <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a> *<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, *<a href='../Y/4560.html' title='Multiple used in 375 places.'>n</a>;
<a name='L143'> 143     <a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>;
<a name='L144'> 144 
<a name='L145'> 145     <a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a> = (<a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *)<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>;
<a name='L146'> 146     *<a href='../Y/4348.html' title='Multiple used in 15 places.'>matched</a> = 0;
<a name='L147'> 147     *<a href='../Y/4474.html' title='Multiple used in 7 places.'>missed</a> = 0;
<a name='L148'> 148 
<a name='L149'> 149     <b>if</b> (STATS_BYTES(<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/7008.html' title='Multiple used in 3 places.'>stat_sel</a>)) <font color='red'>{</font> <i><font color='green'>/* Lookup count not supported */</font></i>
<a name='L150'> 150         <b>return</b> -1;
<a name='L151'> 151     <font color='red'>}</font>
<a name='L152'> 152 
<a name='L153'> 153     <a href='../S/916.html#L81' title='Defined at 81 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH_SAFE</a> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/4560.html' title='Multiple used in 375 places.'>n</a>, <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/3174.html' title='Multiple used in 129 places.'>flows</a>) <font color='red'>{</font>
<a name='L154'> 154         <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5911.html' title='Multiple used in 123 places.'>private</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L155'> 155             <a href='../D/5697.html' title='Multiple defined in 4 places.'>TRY_NR</a>(<a href='../S/215.html#L98' title='Defined at 98 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>of_hw_sw_flow_stat_update</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>, <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>),
<a name='L156'> 156                    "update flow stat");
<a name='L157'> 157             *<a href='../Y/4348.html' title='Multiple used in 15 places.'>matched</a> += <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5595.html' title='Multiple used in 48 places.'>packet_count</a>;
<a name='L158'> 158         <font color='red'>}</font>
<a name='L159'> 159     <font color='red'>}</font>
<a name='L160'> 160 
<a name='L161'> 161     <i><font color='green'>/*</font></i>
<a name='L162'> 162 <i><font color='green'>     * FIXME: To get missed stats, query entry 0 of HW table.</font></i>
<a name='L163'> 163 <i><font color='green'>     * This isn't really correct if there are entries in the SW datapath</font></i>
<a name='L164'> 164 <i><font color='green'>     *</font></i>
<a name='L165'> 165 <i><font color='green'>     * FIXME:  If there are multiple data paths, should have one</font></i>
<a name='L166'> 166 <i><font color='green'>     * default entry qualifying on ports in that datapath with</font></i>
<a name='L167'> 167 <i><font color='green'>     * another entry dropping any packets on other ports.</font></i>
<a name='L168'> 168 <i><font color='green'>     */</font></i>
<a name='L169'> 169     <font color='red'>{</font>
<a name='L170'> 170         <a href='../Y/3037.html' title='Multiple used in 4 places.'>field_control_t</a> *<a href='../Y/3010.html' title='Multiple used in 17 places.'>fc</a>;
<a name='L171'> 171         <a href='../Y/2702.html' title='Multiple used in 7 places.'>entry_control_t</a> *<a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a>;
<a name='L172'> 172 
<a name='L173'> 173         <a href='../Y/3010.html' title='Multiple used in 17 places.'>fc</a> = &amp;<a href='../Y/3036.html' title='Multiple used in 3 places.'>field_control</a>;
<a name='L174'> 174         <a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a> = &amp;<a href='../Y/3010.html' title='Multiple used in 17 places.'>fc</a>-&gt;<a href='../Y/2704.html' title='Multiple used in 12 places.'>entry_list</a>[0];
<a name='L175'> 175         <a href='../D/306.html' title='Multiple defined in 4 places.'>ASSERT</a>(<a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a>-&gt;<a href='../Y/3787.html' title='Multiple used in 15 places.'>in_use</a>);
<a name='L176'> 176         <a href='../D/5697.html' title='Multiple defined in 4 places.'>TRY_NR</a>(<a href='../S/215.html#L66' title='Defined at 66 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>entry_stat_update</a>(<a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a>, <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>), "tab: entry_stat_update");
<a name='L177'> 177         *<a href='../Y/4474.html' title='Multiple used in 7 places.'>missed</a> += <a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a>-&gt;<a href='../Y/7435.html' title='Multiple used in 4 places.'>total_counter</a>;
<a name='L178'> 178     <font color='red'>}</font>
<a name='L179'> 179 
<a name='L180'> 180     <b>return</b> 0;
<a name='L181'> 181 <font color='red'>}</font>
<a name='L182'> 182 
<a name='L183'> 183 <i><font color='green'>/*</font></i>
<a name='L184'> 184 <i><font color='green'> * Remove the FP entry or entries associated to a SW flow from the HW;</font></i>
<a name='L185'> 185 <i><font color='green'> *</font></i>
<a name='L186'> 186 <i><font color='green'> */</font></i>
<a name='L187'> 187 <b>static</b> <b>int</b>
<a name='L188'> 188 <a href='../R/3251.html' title='Multiple refered from 5 places.'>hw_flow_remove</a>(<b>struct</b> <a href='../Y/7178.html' title='Multiple used in 120 places.'>sw_flow</a> *<a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a>)
<a name='L189'> 189 <font color='red'>{</font>
<a name='L190'> 190     <a href='../Y/3037.html' title='Multiple used in 4 places.'>field_control_t</a> *<a href='../Y/3010.html' title='Multiple used in 17 places.'>fc</a>;
<a name='L191'> 191     <a href='../Y/2702.html' title='Multiple used in 7 places.'>entry_control_t</a> *<a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a>;
<a name='L192'> 192     <a href='../S/212.html#L32' title='Defined at 32 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_t</a> *<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>;
<a name='L193'> 193     <b>int</b> <a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>;
<a name='L194'> 194 
<a name='L195'> 195 <font color='darkred'>#if</font> 0 <i><font color='green'>/* Do not remove entries (debugging) */</font></i>
<a name='L196'> 196     <b>return</b> 0;
<a name='L197'> 197 <font color='darkred'>#endif</font>
<a name='L198'> 198 
<a name='L199'> 199     <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a> == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L200'> 200         <b>return</b> 0;
<a name='L201'> 201     <font color='red'>}</font>
<a name='L202'> 202 
<a name='L203'> 203     <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a> = (<a href='../S/212.html#L32' title='Defined at 32 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_t</a> *)(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5911.html' title='Multiple used in 123 places.'>private</a>);
<a name='L204'> 204     <a href='../D/1151.html' title='Multiple defined in 4 places.'>DBG_VERBOSE</a>("Removing hw flow %p, flow %p\n", <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>);
<a name='L205'> 205     <b>if</b> (!<a href='../D/2029.html' title='Multiple defined in 5 places.'>HW_FLOW_IS_VALID</a>(<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>)) <font color='red'>{</font>
<a name='L206'> 206         <b>return</b> 0;
<a name='L207'> 207     <font color='red'>}</font>
<a name='L208'> 208     <a href='../D/306.html' title='Multiple defined in 4 places.'>ASSERT</a>(<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>-&gt;<a href='../Y/2703.html' title='Multiple used in 7 places.'>entry_count</a> &lt;= <a href='../S/212.html#L21' title='Defined at 21 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>HW_FLOWS_PER_FLOW_MAX</a>);
<a name='L209'> 209 
<a name='L210'> 210     <a href='../D/5697.html' title='Multiple defined in 4 places.'>TRY_NR</a>(<a href='../S/215.html#L98' title='Defined at 98 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>of_hw_sw_flow_stat_update</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>, <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>),
<a name='L211'> 211            "rmv flow stat update");
<a name='L212'> 212     <b>for</b> (<a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a> = 0; <a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a> &lt; <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>-&gt;<a href='../Y/2703.html' title='Multiple used in 7 places.'>entry_count</a>; <a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>++) <font color='red'>{</font>
<a name='L213'> 213         <a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a> = <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>-&gt;<a href='../Y/2704.html' title='Multiple used in 12 places.'>entry_list</a>[<a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>];
<a name='L214'> 214         <a href='../D/306.html' title='Multiple defined in 4 places.'>ASSERT</a>(<a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L215'> 215 
<a name='L216'> 216         <a href='../D/5697.html' title='Multiple defined in 4 places.'>TRY_NR</a>(<a href='../S/215.html#L46' title='Defined at 46 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>HW_entry_remove</a>(<a href='../Y/2693.html' title='Multiple used in 31 places.'>ent</a>), "HW_entry_remove");
<a name='L217'> 217         <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>-&gt;<a href='../Y/2704.html' title='Multiple used in 12 places.'>entry_list</a>[<a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>] = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L218'> 218     <font color='red'>}</font>
<a name='L219'> 219     <a href='../D/1836.html' title='Multiple defined in 7 places.'>FREE</a>(<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>);
<a name='L220'> 220     <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5911.html' title='Multiple used in 123 places.'>private</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L221'> 221 
<a name='L222'> 222     <b>return</b> 0;
<a name='L223'> 223 <font color='red'>}</font>
<a name='L224'> 224 
<a name='L225'> 225 
<a name='L226'> 226 <i><font color='green'>/****************************************************************</font></i>
<a name='L227'> 227 <i><font color='green'> *</font></i>
<a name='L228'> 228 <i><font color='green'> * Important support routines related to FP setup, actions, flows</font></i>
<a name='L229'> 229 <i><font color='green'> *</font></i>
<a name='L230'> 230 <i><font color='green'> ****************************************************************/</font></i>
<a name='L231'> 231 
<a name='L232'> 232 <i><font color='green'>/* ASSERT: of_port belongs to datapath */</font></i>
<a name='L233'> 233 <b>static</b> <b>void</b>
<a name='L234'> 234 <a href='../R/2157.html' title='Multiple refered from 2 places.'>add_dport_to_extra</a>(<a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, <b>int</b> <a href='../Y/5057.html' title='Multiple used in 162 places.'>of_port</a>,
<a name='L235'> 235                    <a href='../S/212.html#L49' title='Defined at 49 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_extra_t</a> *<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>)
<a name='L236'> 236 <font color='red'>{</font>
<a name='L237'> 237     <a href='../D/306.html' title='Multiple defined in 4 places.'>ASSERT</a>(<a href='../S/222.html#L30' title='Defined at 30 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>OF_PORT_IN_DP</a>(<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, <a href='../Y/5057.html' title='Multiple used in 162 places.'>of_port</a>));
<a name='L238'> 238 
<a name='L239'> 239     <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>-&gt;<a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a> = <a href='../Y/532.html' title='Multiple used in 2 places.'>MAP_OF_PORT_TO_HW_PORT</a>(<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, <a href='../Y/5057.html' title='Multiple used in 162 places.'>of_port</a>);
<a name='L240'> 240     <a href='../Y/334.html' title='Multiple used in 2 places.'>FIXME_update</a> <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>-&gt;<a href='../Y/2346.html' title='Multiple used in 3 places.'>dest_count</a> <b>if</b> appropriate;
<a name='L241'> 241 <font color='red'>}</font>
<a name='L242'> 242 
<a name='L243'> 243 <i><font color='green'>/* Set up flood/all bitmaps</font></i>
<a name='L244'> 244 <i><font color='green'> * NOTE:  Assumes source port is not wildcarded.</font></i>
<a name='L245'> 245 <i><font color='green'> */</font></i>
<a name='L246'> 246 <b>static</b> <b>void</b>
<a name='L247'> 247 <a href='../S/215.html#L337' title='Refered from 337 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>mcast_bitmaps_set</a>(<a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, <a href='../S/212.html#L49' title='Defined at 49 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_extra_t</a> *<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>,
<a name='L248'> 248                   <b>int</b> <a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a>)
<a name='L249'> 249 <font color='red'>{</font>
<a name='L250'> 250     <a href='../Y/331.html' title='Multiple used in 9 places.'>FIXME</a>;
<a name='L251'> 251 <font color='red'>}</font>
<a name='L252'> 252 
<a name='L253'> 253 <i><font color='green'>/*</font></i>
<a name='L254'> 254 <i><font color='green'> * Validate actions for a flow relative to HW capabilities;</font></i>
<a name='L255'> 255 <i><font color='green'> *</font></i>
<a name='L256'> 256 <i><font color='green'> * Bool:  true means supported, false not supported</font></i>
<a name='L257'> 257 <i><font color='green'> *</font></i>
<a name='L258'> 258 <i><font color='green'> * Accumulate additional info about the flow in extra.  Specifically,</font></i>
<a name='L259'> 259 <i><font color='green'> * this determines the output ports on each physical device related</font></i>
<a name='L260'> 260 <i><font color='green'> * to the flow.</font></i>
<a name='L261'> 261 <i><font color='green'> *</font></i>
<a name='L262'> 262 <i><font color='green'> * FIXME:  No-flood ports are currently not specified</font></i>
<a name='L263'> 263 <i><font color='green'> */</font></i>
<a name='L264'> 264 
<a name='L265'> 265 <b>static</b> <b>int</b>
<a name='L266'> 266 <a href='../R/2148.html' title='Multiple refered from 2 places.'>actions_supported_check</a>(<a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>,
<a name='L267'> 267                         <b>const</b> <b>struct</b> <a href='../Y/7180.html' title='Multiple used in 154 places.'>sw_flow_key</a> *<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>,
<a name='L268'> 268                         <b>const</b> <b>struct</b> <a href='../Y/5088.html' title='Multiple used in 65 places.'>ofp_action_header</a> *<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>,
<a name='L269'> 269                         <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>,
<a name='L270'> 270                         <a href='../S/212.html#L49' title='Defined at 49 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_extra_t</a> *<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>)
<a name='L271'> 271 <font color='red'>{</font>
<a name='L272'> 272     <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L273'> 273     <b>int</b> <a href='../Y/6941.html' title='Multiple used in 94 places.'>src_port</a>; <i><font color='green'>/* Port in host order */</font></i>
<a name='L274'> 274     <b>int</b> <a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a>; <i><font color='green'>/* Port in host order */</font></i>
<a name='L275'> 275     <b>int</b> <a href='../Y/1286.html' title='Multiple used in 358 places.'>action</a>;
<a name='L276'> 276     <b>int</b> <a href='../Y/6937.html' title='Multiple used in 5 places.'>src_is_wc</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;  <i><font color='green'>/* Is source wildcarded? */</font></i>
<a name='L277'> 277 
<a name='L278'> 278     <a href='../D/184.html' title='Multiple defined in 4 places.'>ANNOUNCE_LOCATION</a>;
<a name='L279'> 279     <a href='../D/306.html' title='Multiple defined in 4 places.'>ASSERT</a>(<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L280'> 280 
<a name='L281'> 281     <a href='../Y/331.html' title='Multiple used in 9 places.'>FIXME</a>("probably needs work for your platform");
<a name='L282'> 282 
<a name='L283'> 283     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = (<a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> *)<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>;
<a name='L284'> 284     <a href='../Y/6941.html' title='Multiple used in 94 places.'>src_port</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>-&gt;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>.<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>);
<a name='L285'> 285 
<a name='L286'> 286     <a href='../Y/6937.html' title='Multiple used in 5 places.'>src_is_wc</a> = <a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>-&gt;<a href='../Y/7877.html' title='Multiple used in 308 places.'>wildcards</a> &amp; <a href='../D/3433.html' title='Multiple defined in 2 places.'>OFPFW_IN_PORT</a>;
<a name='L287'> 287     <b>if</b> (!<a href='../Y/6937.html' title='Multiple used in 5 places.'>src_is_wc</a>) <font color='red'>{</font>
<a name='L288'> 288         <b>if</b> (<a href='../S/222.html#L30' title='Defined at 30 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>OF_PORT_IN_DP</a>(<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, <a href='../Y/6941.html' title='Multiple used in 94 places.'>src_port</a>)) <font color='red'>{</font>
<a name='L289'> 289             <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>-&gt;<a href='../Y/6909.html' title='Multiple used in 3 places.'>source_port</a> = MAP_TO_HW_PORT(<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, <a href='../Y/6941.html' title='Multiple used in 94 places.'>src_port</a>);
<a name='L290'> 290         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L291'> 291             <a href='../D/1153.html' title='Multiple defined in 4 places.'>DBG_WARN</a>("Source port %d not in DP %d\n", <a href='../Y/6941.html' title='Multiple used in 94 places.'>src_port</a>,
<a name='L292'> 292                      <a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/2521.html' title='Multiple used in 86 places.'>dp_idx</a>);
<a name='L293'> 293             <b>return</b> <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L294'> 294         <font color='red'>}</font>
<a name='L295'> 295     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L296'> 296         <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>-&gt;<a href='../Y/6909.html' title='Multiple used in 3 places.'>source_port</a> = -1;
<a name='L297'> 297         <b>if</b> (<a href='../Y/5049.html' title='Multiple used in 5 places.'>of_hw_drv_instances</a> &gt; 1) <font color='red'>{</font>
<a name='L298'> 298             <a href='../D/1153.html' title='Multiple defined in 4 places.'>DBG_WARN</a>("Source port WC not supported w/ multi-DP\n");
<a name='L299'> 299             <b>return</b> <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;  <i><font color='green'>/* Not currently supported w/ multiple datapaths */</font></i>
<a name='L300'> 300         <font color='red'>}</font>
<a name='L301'> 301         <i><font color='green'>/* NOTE/FIXME:  Source wildcard with multiple output ports requires</font></i>
<a name='L302'> 302 <i><font color='green'>         * using a per-port hardware flow rule to allow filtering of</font></i>
<a name='L303'> 303 <i><font color='green'>         * the source port.  (Currently not supported and checked below.)</font></i>
<a name='L304'> 304 <i><font color='green'>         */</font></i>
<a name='L305'> 305     <font color='red'>}</font>
<a name='L306'> 306 
<a name='L307'> 307     <b>while</b> (<a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a> &gt; 0) <font color='red'>{</font>
<a name='L308'> 308         <b>struct</b> <a href='../D/8736.html' title='Multiple defined in 3 places.'>ofp_action_header</a> *<a href='../Y/1358.html' title='Multiple used in 157 places.'>ah</a> = (<b>struct</b> <a href='../D/8736.html' title='Multiple defined in 3 places.'>ofp_action_header</a> *)<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L309'> 309         <b>struct</b> <a href='../D/8741.html' title='Multiple defined in 3 places.'>ofp_action_output</a> *<a href='../Y/5034.html' title='Multiple used in 44 places.'>oa</a> = (<b>struct</b> <a href='../D/8741.html' title='Multiple defined in 3 places.'>ofp_action_output</a> *)<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L310'> 310         <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/1358.html' title='Multiple used in 157 places.'>ah</a>-&gt;<a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a>);
<a name='L311'> 311 
<a name='L312'> 312         <a href='../Y/1286.html' title='Multiple used in 358 places.'>action</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/1358.html' title='Multiple used in 157 places.'>ah</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>);
<a name='L313'> 313         <a href='../D/1152.html' title='Multiple defined in 4 places.'>DBG_VVERB</a>("action chk %d\n", <a href='../Y/1286.html' title='Multiple used in 358 places.'>action</a>);
<a name='L314'> 314         <i><font color='green'>/* Currently supported: output port(s) action */</font></i>
<a name='L315'> 315         <b>if</b> ((<a href='../Y/1286.html' title='Multiple used in 358 places.'>action</a> &lt; 0) || (<a href='../Y/1286.html' title='Multiple used in 358 places.'>action</a> &gt; ACTION_LAST)) <font color='red'>{</font>
<a name='L316'> 316             <a href='../D/1153.html' title='Multiple defined in 4 places.'>DBG_WARN</a>("Unknown action id %d\n", <a href='../Y/1286.html' title='Multiple used in 358 places.'>action</a>);
<a name='L317'> 317             <b>return</b> <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L318'> 318         <font color='red'>}</font>
<a name='L319'> 319 
<a name='L320'> 320         <b>if</b> (action_map[<a href='../Y/1286.html' title='Multiple used in 358 places.'>action</a>] == ACTION_NOT_SUPPORTED) <font color='red'>{</font>
<a name='L321'> 321             <a href='../D/1153.html' title='Multiple defined in 4 places.'>DBG_WARN</a>("Action %d not supported\n", <a href='../Y/1286.html' title='Multiple used in 358 places.'>action</a>);
<a name='L322'> 322             <b>return</b> <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L323'> 323         <font color='red'>}</font>
<a name='L324'> 324 
<a name='L325'> 325         <i><font color='green'>/* Support front panel ports plus IN_PORT, ALL, FLOOD. */</font></i>
<a name='L326'> 326         <b>if</b> ((<a href='../Y/1286.html' title='Multiple used in 358 places.'>action</a> == <a href='../D/3289.html' title='Multiple defined in 3 places.'>OFPAT_OUTPUT</a>) || (<a href='../Y/1286.html' title='Multiple used in 358 places.'>action</a> == <a href='../D/3286.html' title='Multiple defined in 2 places.'>OFPAT_ENQUEUE</a>)) <font color='red'>{</font>
<a name='L327'> 327             <i><font color='green'>/* FIXME:  For now, using the fact that enqueue and output</font></i>
<a name='L328'> 328 <i><font color='green'>             * actions are the same at the start of the structure</font></i>
<a name='L329'> 329 <i><font color='green'>             */</font></i>
<a name='L330'> 330             <a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5034.html' title='Multiple used in 44 places.'>oa</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>);
<a name='L331'> 331             <b>if</b> (<a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a> == <a href='../D/3589.html' title='Multiple defined in 3 places.'>OFPP_TABLE</a>) <font color='red'>{</font> <i><font color='green'>/* Unsupported */</font></i>
<a name='L332'> 332                 <a href='../D/1153.html' title='Multiple defined in 4 places.'>DBG_WARN</a>("Warning:  TABLE output action seen\n");
<a name='L333'> 333                 <b>return</b> <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L334'> 334             <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../S/222.html#L30' title='Defined at 30 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>OF_PORT_IN_DP</a>(<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, <a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a>)) <font color='red'>{</font>
<a name='L335'> 335                 <a href='../S/215.html#L234' title='Defined at 234 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>add_dport_to_extra</a>(<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, <a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a>, <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>);
<a name='L336'> 336             <font color='red'>}</font> <b>else</b> <b>if</b> ((<a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a> == <a href='../D/3583.html' title='Multiple defined in 3 places.'>OFPP_FLOOD</a>) || (<a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a> == <a href='../D/3580.html' title='Multiple defined in 3 places.'>OFPP_ALL</a>)) <font color='red'>{</font>
<a name='L337'> 337                 <a href='../S/215.html#L247' title='Defined at 247 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>mcast_bitmaps_set</a>(<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>, <a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a>);
<a name='L338'> 338             <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a> == <a href='../D/3584.html' title='Multiple defined in 3 places.'>OFPP_IN_PORT</a>) <font color='red'>{</font>
<a name='L339'> 339                 <b>if</b> (<a href='../Y/6937.html' title='Multiple used in 5 places.'>src_is_wc</a>) <font color='red'>{</font>
<a name='L340'> 340                     <a href='../D/1153.html' title='Multiple defined in 4 places.'>DBG_WARN</a>("Warning: IN_PORT action on source wildcard\n");
<a name='L341'> 341                     <b>return</b> <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L342'> 342                 <font color='red'>}</font>
<a name='L343'> 343                 <a href='../S/215.html#L234' title='Defined at 234 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>add_dport_to_extra</a>(<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, <a href='../Y/6941.html' title='Multiple used in 94 places.'>src_port</a>, <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>);
<a name='L344'> 344             <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a> == <a href='../D/3582.html' title='Multiple defined in 3 places.'>OFPP_CONTROLLER</a>) <font color='red'>{</font>
<a name='L345'> 345                 <i><font color='green'>/* Controller/local are implemented with a "copy to CPU"</font></i>
<a name='L346'> 346 <i><font color='green'>                 * action and a special reason code; Don't count as output port</font></i>
<a name='L347'> 347 <i><font color='green'>                 */</font></i>
<a name='L348'> 348                 <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>-&gt;<a href='../Y/4202.html' title='Multiple used in 3 places.'>local_reason</a> |= <a href='../S/220.html#L20' title='Defined at 20 in cbench/openflow/hw-lib/skeleton/of_hw_platform.h.'>CPU_REASON_TO_CONTROLLER</a>;
<a name='L349'> 349             <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a> == <a href='../D/3585.html' title='Multiple defined in 3 places.'>OFPP_LOCAL</a>) <font color='red'>{</font>
<a name='L350'> 350                 <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>-&gt;<a href='../Y/4202.html' title='Multiple used in 3 places.'>local_reason</a> |= <a href='../S/220.html#L21' title='Defined at 21 in cbench/openflow/hw-lib/skeleton/of_hw_platform.h.'>CPU_REASON_TO_LOCAL</a>;
<a name='L351'> 351             <font color='red'>}</font> <b>else</b> <font color='red'>{</font>  <i><font color='green'>/* NORMAL */</font></i>
<a name='L352'> 352                 <i><font color='green'>//    DBG_WARN("Output action to port 0x%x not supported\n",</font></i>
<a name='L353'> 353                 <i><font color='green'>//       dest_port);</font></i>
<a name='L354'> 354                 <i><font color='green'>//        return false;  /* FIXME: Ignore bad ports for now */</font></i>
<a name='L355'> 355             <font color='red'>}</font>
<a name='L356'> 356             <b>if</b> (<a href='../Y/1286.html' title='Multiple used in 358 places.'>action</a> == <a href='../D/3286.html' title='Multiple defined in 2 places.'>OFPAT_ENQUEUE</a>) <font color='red'>{</font>
<a name='L357'> 357                 <a href='../Y/7620.html' title='Multiple used in 17 places.'>uint32</a> <a href='../Y/6192.html' title='Multiple used in 23 places.'>qid</a>;
<a name='L358'> 358                 <b>struct</b> <a href='../D/8733.html' title='Multiple defined in 2 places.'>ofp_action_enqueue</a> *<a href='../Y/2621.html' title='Multiple used in 55 places.'>ea</a>;
<a name='L359'> 359                 <a href='../Y/2621.html' title='Multiple used in 55 places.'>ea</a> = (<b>struct</b> <a href='../D/8733.html' title='Multiple defined in 2 places.'>ofp_action_enqueue</a> *)<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L360'> 360                 <a href='../Y/6192.html' title='Multiple used in 23 places.'>qid</a> = <a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/2621.html' title='Multiple used in 55 places.'>ea</a>-&gt;<a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>);
<a name='L361'> 361                 <b>if</b> ((<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>-&gt;<a href='../Y/2141.html' title='Multiple used in 28 places.'>cosq</a> = <a href='../S/210.html#L77' title='Defined at 77 in cbench/openflow/hw-lib/skeleton/port.c.'>of_hw_qid_find</a>(<a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a>, <a href='../Y/6192.html' title='Multiple used in 23 places.'>qid</a>)) &lt; 0) <font color='red'>{</font>
<a name='L362'> 362                     <a href='../D/1153.html' title='Multiple defined in 4 places.'>DBG_WARN</a>("Warning: qid %d, port %d, map to cos failed\n",
<a name='L363'> 363                              <a href='../Y/6192.html' title='Multiple used in 23 places.'>qid</a>, <a href='../Y/2347.html' title='Multiple used in 15 places.'>dest_port</a>);
<a name='L364'> 364                 <font color='red'>}</font>
<a name='L365'> 365             <font color='red'>}</font>
<a name='L366'> 366         <font color='red'>}</font>
<a name='L367'> 367         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> += <a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a>;
<a name='L368'> 368         <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a> -= <a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a>;
<a name='L369'> 369     <font color='red'>}</font>
<a name='L370'> 370 
<a name='L371'> 371     <b>if</b> (<a href='../Y/6937.html' title='Multiple used in 5 places.'>src_is_wc</a> &amp;&amp; (<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>-&gt;<a href='../Y/2346.html' title='Multiple used in 3 places.'>dest_count</a> &gt; 1)) <font color='red'>{</font>
<a name='L372'> 372         <a href='../D/1153.html' title='Multiple defined in 4 places.'>DBG_WARN</a>("Warning: multi dest w/ src wildcard\n");
<a name='L373'> 373         <b>return</b> <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L374'> 374     <font color='red'>}</font>
<a name='L375'> 375 
<a name='L376'> 376     <a href='../D/1151.html' title='Multiple defined in 4 places.'>DBG_VERBOSE</a>("Actions supported\n");
<a name='L377'> 377     <b>return</b> <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>;
<a name='L378'> 378 <font color='red'>}</font>
<a name='L379'> 379 
<a name='L380'> 380 <i><font color='green'>/****************************************************************</font></i>
<a name='L381'> 381 <i><font color='green'> *</font></i>
<a name='L382'> 382 <i><font color='green'> * FP Table management and manipulation routines</font></i>
<a name='L383'> 383 <i><font color='green'> *</font></i>
<a name='L384'> 384 <i><font color='green'> ****************************************************************/</font></i>
<a name='L385'> 385 
<a name='L386'> 386 <i><font color='green'>/*</font></i>
<a name='L387'> 387 <i><font color='green'> * Functions related to hardware flow table manipulation and maintenance</font></i>
<a name='L388'> 388 <i><font color='green'> */</font></i>
<a name='L389'> 389 
<a name='L390'> 390 <i><font color='green'>/* Set up field control structure; should be idempotent */</font></i>
<a name='L391'> 391 <b>static</b> <b>void</b>
<a name='L392'> 392 field_control_init(<b>void</b>)
<a name='L393'> 393 <font color='red'>{</font>
<a name='L394'> 394     <a href='../Y/3037.html' title='Multiple used in 4 places.'>field_control_t</a> *<a href='../Y/3010.html' title='Multiple used in 17 places.'>fc</a>;
<a name='L395'> 395     <b>int</b> <a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>;
<a name='L396'> 396 
<a name='L397'> 397     <a href='../Y/3010.html' title='Multiple used in 17 places.'>fc</a> = &amp;<a href='../Y/3036.html' title='Multiple used in 3 places.'>field_control</a>;
<a name='L398'> 398     <a href='../Y/3010.html' title='Multiple used in 17 places.'>fc</a>-&gt;<a href='../Y/2703.html' title='Multiple used in 7 places.'>entry_count</a> = 0;
<a name='L399'> 399     <b>for</b> (<a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a> = 0; <a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a> &lt; <a href='../Y/327.html' title='Multiple used in 2 places.'>FIELD_ENTRY_MAX</a>; <a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>++) <font color='red'>{</font>
<a name='L400'> 400         <a href='../Y/3010.html' title='Multiple used in 17 places.'>fc</a>-&gt;<a href='../Y/2704.html' title='Multiple used in 12 places.'>entry_list</a>[<a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>].<a href='../Y/3787.html' title='Multiple used in 15 places.'>in_use</a> = 0;
<a name='L401'> 401         <a href='../Y/3010.html' title='Multiple used in 17 places.'>fc</a>-&gt;<a href='../Y/2704.html' title='Multiple used in 12 places.'>entry_list</a>[<a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>].<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L402'> 402         <a href='../Y/3010.html' title='Multiple used in 17 places.'>fc</a>-&gt;<a href='../Y/2704.html' title='Multiple used in 12 places.'>entry_list</a>[<a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>].<a href='../Y/3795.html' title='Multiple used in 107 places.'>index</a> = <a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>;
<a name='L403'> 403         <a href='../Y/3010.html' title='Multiple used in 17 places.'>fc</a>-&gt;<a href='../Y/2704.html' title='Multiple used in 12 places.'>entry_list</a>[<a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>].<a href='../Y/4072.html' title='Multiple used in 4 places.'>last_counter</a> = 0;
<a name='L404'> 404         <a href='../Y/3010.html' title='Multiple used in 17 places.'>fc</a>-&gt;<a href='../Y/2704.html' title='Multiple used in 12 places.'>entry_list</a>[<a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>].<a href='../Y/2145.html' title='Multiple used in 2 places.'>counter_last_check</a> = 0;
<a name='L405'> 405         <a href='../Y/3010.html' title='Multiple used in 17 places.'>fc</a>-&gt;<a href='../Y/2704.html' title='Multiple used in 12 places.'>entry_list</a>[<a href='../Y/3716.html' title='Multiple used in 200 places.'>idx</a>].<a href='../Y/7435.html' title='Multiple used in 4 places.'>total_counter</a> = 0;
<a name='L406'> 406     <font color='red'>}</font>
<a name='L407'> 407 <font color='red'>}</font>
<a name='L408'> 408 
<a name='L409'> 409 <i><font color='green'>/* Alloc HW entry control structure, add qualification, actions and install */</font></i>
<a name='L410'> 410 <b>static</b> <b>int</b>
<a name='L411'> 411 <a href='../S/215.html#L438' title='Refered from 438 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>hw_entry_install</a>(<a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>,
<a name='L412'> 412                  <b>struct</b> <a href='../Y/7178.html' title='Multiple used in 120 places.'>sw_flow</a> *<a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a>, <a href='../S/212.html#L32' title='Defined at 32 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_t</a> *hw_flow,
<a name='L413'> 413                  <a href='../S/212.html#L49' title='Defined at 49 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_extra_t</a> *<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>)
<a name='L414'> 414 <font color='red'>{</font>
<a name='L415'> 415 
<a name='L416'> 416     <i><font color='green'>/* Install HW entry */</font></i>
<a name='L417'> 417     <a href='../Y/331.html' title='Multiple used in 9 places.'>FIXME</a>;
<a name='L418'> 418 <font color='red'>}</font>
<a name='L419'> 419 
<a name='L420'> 420 <i><font color='green'>/*</font></i>
<a name='L421'> 421 <i><font color='green'> * hw_flow_install</font></i>
<a name='L422'> 422 <i><font color='green'> *</font></i>
<a name='L423'> 423 <i><font color='green'> *   Install HW table entries corresponding to the given SW flow</font></i>
<a name='L424'> 424 <i><font color='green'> */</font></i>
<a name='L425'> 425 <b>static</b> <b>int</b>
<a name='L426'> 426 <a href='../R/3250.html' title='Multiple refered from 2 places.'>hw_flow_install</a>(<a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, <b>struct</b> <a href='../Y/7178.html' title='Multiple used in 120 places.'>sw_flow</a> *<a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a>,
<a name='L427'> 427                 <a href='../S/212.html#L49' title='Defined at 49 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_extra_t</a> *<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>)
<a name='L428'> 428 <font color='red'>{</font>
<a name='L429'> 429     <a href='../S/212.html#L32' title='Defined at 32 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_t</a> *<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>;
<a name='L430'> 430 
<a name='L431'> 431     <i><font color='green'>/* Allocate the HW flow object */</font></i>
<a name='L432'> 432     <b>if</b> ((<a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a> = <a href='../S/215.html#L30' title='Defined at 30 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>hw_flow_create</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>)) == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L433'> 433         <a href='../D/1142.html' title='Multiple defined in 4 places.'>DBG_ERROR</a>("failed to create hw flow struct\n");
<a name='L434'> 434         <b>return</b> -1;
<a name='L435'> 435     <font color='red'>}</font>
<a name='L436'> 436 
<a name='L437'> 437     <a href='../D/1151.html' title='Multiple defined in 4 places.'>DBG_VERBOSE</a>("hw flow install: sw %p. hw %p\n", <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>);
<a name='L438'> 438     <a href='../D/5696.html' title='Multiple defined in 5 places.'>TRY</a>(<a href='../S/215.html#L411' title='Defined at 411 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>hw_entry_install</a>(<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, 0, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../S/212.html#L24' title='Defined at 24 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow</a>, <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>),
<a name='L439'> 439         "local entry");
<a name='L440'> 440 
<a name='L441'> 441     <b>return</b> 0;
<a name='L442'> 442 <font color='red'>}</font>
<a name='L443'> 443 
<a name='L444'> 444 <i><font color='green'>/****************************************************************</font></i>
<a name='L445'> 445 <i><font color='green'> *</font></i>
<a name='L446'> 446 <i><font color='green'> * The driver APIs</font></i>
<a name='L447'> 447 <i><font color='green'> *</font></i>
<a name='L448'> 448 <i><font color='green'> ****************************************************************/</font></i>
<a name='L449'> 449 
<a name='L450'> 450 <i><font color='green'>/*</font></i>
<a name='L451'> 451 <i><font color='green'> * Install a flow.</font></i>
<a name='L452'> 452 <i><font color='green'> *</font></i>
<a name='L453'> 453 <i><font color='green'> * First, check that the flow is supported; simultaneously, build</font></i>
<a name='L454'> 454 <i><font color='green'> * up the "extra" information needed by the hardware for its installation.</font></i>
<a name='L455'> 455 <i><font color='green'> * This includes bitmaps of the ports to which the packet will be</font></i>
<a name='L456'> 456 <i><font color='green'> * forwarded (on local and remote devices if appropriate).</font></i>
<a name='L457'> 457 <i><font color='green'> *</font></i>
<a name='L458'> 458 <i><font color='green'> * Then look to see if the flow should overwrite an existing entry.</font></i>
<a name='L459'> 459 <i><font color='green'> * If so, just remove that entry.</font></i>
<a name='L460'> 460 <i><font color='green'> *</font></i>
<a name='L461'> 461 <i><font color='green'> * Then call hw_flow_install which does all the actual HW changes</font></i>
<a name='L462'> 462 <i><font color='green'> * based on the flow and on extra.</font></i>
<a name='L463'> 463 <i><font color='green'> */</font></i>
<a name='L464'> 464 
<a name='L465'> 465 <i><font color='green'>/* NOTE: Returns 1 if flow installed, not normal error code */</font></i>
<a name='L466'> 466 <b>int</b>
<a name='L467'> 467 <a href='../R/3777.html' title='Multiple refered from 2 places.'>of_hw_flow_install</a>(<b>struct</b> <a href='../Y/7187.html' title='Multiple used in 134 places.'>sw_table</a> *<a href='../Y/7186.html' title='Multiple used in 35 places.'>sw_tab</a>, <b>struct</b> <a href='../Y/7178.html' title='Multiple used in 120 places.'>sw_flow</a> *<a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a>)
<a name='L468'> 468 <font color='red'>{</font>
<a name='L469'> 469     <a href='../S/212.html#L49' title='Defined at 49 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_extra_t</a> <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>;
<a name='L470'> 470     <a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>;
<a name='L471'> 471     <b>int</b> <a href='../Y/3696.html' title='Multiple used in 4 places.'>hw_rc</a> = 0;
<a name='L472'> 472     <b>int</b> <a href='../Y/7181.html' title='Multiple used in 5 places.'>sw_insert_done</a> = 0;
<a name='L473'> 473     <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a> *<a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>;
<a name='L474'> 474 
<a name='L475'> 475     <a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a> = (<a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *)<a href='../Y/7186.html' title='Multiple used in 35 places.'>sw_tab</a>;
<a name='L476'> 476 
<a name='L477'> 477     <a href='../D/1151.html' title='Multiple defined in 4 places.'>DBG_VERBOSE</a>("flow install %p\n", <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>);
<a name='L478'> 478     <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(&amp;<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>, 0, <b>sizeof</b>(<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>));
<a name='L479'> 479     <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>.<a href='../Y/2141.html' title='Multiple used in 28 places.'>cosq</a> = -1;
<a name='L480'> 480 
<a name='L481'> 481     <b>if</b> (!<a href='../S/215.html#L266' title='Defined at 266 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>actions_supported_check</a>(<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, &amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6724.html' title='Multiple used in 48 places.'>sf_acts</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>,
<a name='L482'> 482                                  <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6724.html' title='Multiple used in 48 places.'>sf_acts</a>-&gt;<a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>, &amp;<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>)) <font color='red'>{</font>
<a name='L483'> 483         <i><font color='green'>/* Unsupported actions */</font></i>
<a name='L484'> 484         <a href='../D/1151.html' title='Multiple defined in 4 places.'>DBG_VERBOSE</a>("HW install failed: Unsupported actions\n");
<a name='L485'> 485         <b>return</b> 0;
<a name='L486'> 486     <font color='red'>}</font>
<a name='L487'> 487 
<a name='L488'> 488     <i><font color='green'>/* LOCK; */</font></i>
<a name='L489'> 489     <i><font color='green'>/* Go through list looking for matching flows */</font></i>
<a name='L490'> 490     <a href='../S/916.html#L73' title='Defined at 73 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH</a> (<a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>, <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/3174.html' title='Multiple used in 129 places.'>flows</a>) <font color='red'>{</font>
<a name='L491'> 491         <b>if</b> (<a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a> == <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>
<a name='L492'> 492                 &amp;&amp; <a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../Y/7877.html' title='Multiple used in 308 places.'>wildcards</a> == <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../Y/7877.html' title='Multiple used in 308 places.'>wildcards</a>
<a name='L493'> 493                 &amp;&amp; <a href='../D/7851.html' title='Multiple defined in 2 places.'>flow_matches_2wild</a>(&amp;<a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, &amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>)) <font color='red'>{</font>
<a name='L494'> 494             <i><font color='green'>/* Just remove the HW flow; install other below */</font></i>
<a name='L495'> 495             <a href='../D/5697.html' title='Multiple defined in 4 places.'>TRY_NR</a>(<a href='../S/215.html#L188' title='Defined at 188 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>hw_flow_remove</a>(<a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>), "hw_flow_remove for replace");
<a name='L496'> 496             <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6672.html' title='Multiple used in 23 places.'>serial</a> = <a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>-&gt;<a href='../Y/6672.html' title='Multiple used in 23 places.'>serial</a>;
<a name='L497'> 497             <a href='../S/845.html#L93' title='Defined at 93 in cbench/openflow/lib/list.c.'>list_replace</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>);
<a name='L498'> 498             <a href='../S/845.html#L93' title='Defined at 93 in cbench/openflow/lib/list.c.'>list_replace</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3960.html' title='Multiple used in 26 places.'>iter_node</a>, &amp;<a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>-&gt;<a href='../Y/3960.html' title='Multiple used in 26 places.'>iter_node</a>);
<a name='L499'> 499             <a href='../Y/7181.html' title='Multiple used in 5 places.'>sw_insert_done</a> = 1;
<a name='L500'> 500             <a href='../D/7843.html' title='Multiple defined in 2 places.'>flow_free</a>(<a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>);
<a name='L501'> 501             <b>break</b>;
<a name='L502'> 502         <font color='red'>}</font>
<a name='L503'> 503         <b>if</b> (<a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a> &lt; <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>) <font color='red'>{</font>
<a name='L504'> 504             <b>break</b>;
<a name='L505'> 505         <font color='red'>}</font>
<a name='L506'> 506     <font color='red'>}</font>
<a name='L507'> 507 
<a name='L508'> 508     <i><font color='green'>/* ASSERT: sw_insert_done OR f points to insertion point for flow */</font></i>
<a name='L509'> 509 
<a name='L510'> 510     <a href='../Y/3696.html' title='Multiple used in 4 places.'>hw_rc</a> = <a href='../S/215.html#L426' title='Defined at 426 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>hw_flow_install</a>(<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, &amp;<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>);
<a name='L511'> 511 
<a name='L512'> 512     <b>if</b> (<a href='../Y/3696.html' title='Multiple used in 4 places.'>hw_rc</a> &lt; 0) <font color='red'>{</font>
<a name='L513'> 513         <a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/3844.html' title='Multiple used in 2 places.'>insert_errors</a>++;
<a name='L514'> 514         <b>if</b> (<a href='../Y/7181.html' title='Multiple used in 5 places.'>sw_insert_done</a>) <font color='red'>{</font> <i><font color='green'>/* Remove from SW list */</font></i>
<a name='L515'> 515             <a href='../S/845.html#L104' title='Defined at 104 in cbench/openflow/lib/list.c.'>list_remove</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>);
<a name='L516'> 516             <a href='../S/845.html#L104' title='Defined at 104 in cbench/openflow/lib/list.c.'>list_remove</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3960.html' title='Multiple used in 26 places.'>iter_node</a>);
<a name='L517'> 517             <a href='../D/7843.html' title='Multiple defined in 2 places.'>flow_free</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>);
<a name='L518'> 518             <a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/4588.html' title='Multiple used in 45 places.'>n_flows</a>--;
<a name='L519'> 519         <font color='red'>}</font>
<a name='L520'> 520     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L521'> 521         <a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/4588.html' title='Multiple used in 45 places.'>n_flows</a>++;
<a name='L522'> 522         <a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/4592.html' title='Multiple used in 2 places.'>n_inserts</a>++;
<a name='L523'> 523         <b>if</b> (!<a href='../Y/7181.html' title='Multiple used in 5 places.'>sw_insert_done</a>) <font color='red'>{</font>
<a name='L524'> 524             <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6672.html' title='Multiple used in 23 places.'>serial</a> = <a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/4817.html' title='Multiple used in 15 places.'>next_serial</a>++;
<a name='L525'> 525             <a href='../S/845.html#L46' title='Defined at 46 in cbench/openflow/lib/list.c.'>list_insert</a>(&amp;<a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>);
<a name='L526'> 526             <a href='../S/845.html#L77' title='Defined at 77 in cbench/openflow/lib/list.c.'>list_push_front</a>(&amp;<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/3959.html' title='Multiple used in 23 places.'>iter_flows</a>, &amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3960.html' title='Multiple used in 26 places.'>iter_node</a>);
<a name='L527'> 527         <font color='red'>}</font>
<a name='L528'> 528     <font color='red'>}</font>
<a name='L529'> 529     <i><font color='green'>/* UNLOCK */</font></i>
<a name='L530'> 530 
<a name='L531'> 531     <b>if</b> (<a href='../Y/3696.html' title='Multiple used in 4 places.'>hw_rc</a> &lt; 0) <font color='red'>{</font>
<a name='L532'> 532         <a href='../D/1153.html' title='Multiple defined in 4 places.'>DBG_WARN</a>("Could not install flow in HW\n");
<a name='L533'> 533         <b>if</b> (<a href='../Y/7181.html' title='Multiple used in 5 places.'>sw_insert_done</a>) <font color='red'>{</font> <i><font color='green'>/* Remove from SW list */</font></i>
<a name='L534'> 534             <a href='../D/1153.html' title='Multiple defined in 4 places.'>DBG_WARN</a>("Removed matching flow but could not replace in HW\n");
<a name='L535'> 535         <font color='red'>}</font>
<a name='L536'> 536         <b>return</b> 0;
<a name='L537'> 537     <font color='red'>}</font>
<a name='L538'> 538 
<a name='L539'> 539     <b>return</b> 1;
<a name='L540'> 540 <font color='red'>}</font>
<a name='L541'> 541 
<a name='L542'> 542 <i><font color='green'>/* FIXME: Change API to return list of deleted flows? */</font></i>
<a name='L543'> 543 <i><font color='green'>/*        Would make this easier */</font></i>
<a name='L544'> 544 <i><font color='green'>/* Remove a flow or flows from the HW and SW tracking tables */</font></i>
<a name='L545'> 545 <b>int</b>
<a name='L546'> 546 <a href='../R/3776.html' title='Multiple refered from 2 places.'>of_hw_flow_delete</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/7187.html' title='Multiple used in 134 places.'>sw_table</a> *<a href='../Y/7186.html' title='Multiple used in 35 places.'>sw_tab</a>,
<a name='L547'> 547                    <b>const</b> <b>struct</b> <a href='../Y/7180.html' title='Multiple used in 154 places.'>sw_flow_key</a> *<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>,
<a name='L548'> 548                    <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>, <b>int</b> <a href='../Y/7092.html' title='Multiple used in 128 places.'>strict</a>)
<a name='L549'> 549 <font color='red'>{</font>
<a name='L550'> 550     <a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a> = (<a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *)<a href='../Y/7186.html' title='Multiple used in 35 places.'>sw_tab</a>;
<a name='L551'> 551     <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a> *<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, *<a href='../Y/4560.html' title='Multiple used in 375 places.'>n</a>;
<a name='L552'> 552     <b>int</b> <a href='../Y/2142.html' title='Multiple used in 329 places.'>count</a> = 0;
<a name='L553'> 553     <b>struct</b> <a href='../S/916.html#L43' title='Defined at 43 in cbench/openflow/lib/list.h.'>list</a> <a href='../Y/2322.html' title='Multiple used in 29 places.'>deleted</a>;
<a name='L554'> 554 
<a name='L555'> 555     <a href='../D/1151.html' title='Multiple defined in 4 places.'>DBG_VERBOSE</a>("delete: dp %p, idx %d, key %p, out 0x%x, prio %d, strict %d\n",
<a name='L556'> 556                 <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/2521.html' title='Multiple used in 86 places.'>dp_idx</a>, <a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>, <a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>, <a href='../Y/7092.html' title='Multiple used in 128 places.'>strict</a>);
<a name='L557'> 557 
<a name='L558'> 558     <a href='../S/845.html#L39' title='Defined at 39 in cbench/openflow/lib/list.c.'>list_init</a>(&amp;<a href='../Y/2322.html' title='Multiple used in 29 places.'>deleted</a>);
<a name='L559'> 559 
<a name='L560'> 560     <i><font color='green'>/* LOCK; */</font></i>
<a name='L561'> 561     <a href='../S/916.html#L81' title='Defined at 81 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH_SAFE</a> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/4560.html' title='Multiple used in 375 places.'>n</a>, <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/3174.html' title='Multiple used in 129 places.'>flows</a>) <font color='red'>{</font>
<a name='L562'> 562         <b>if</b> (<a href='../D/7852.html' title='Multiple defined in 2 places.'>flow_matches_desc</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../Y/7092.html' title='Multiple used in 128 places.'>strict</a>)
<a name='L563'> 563                 &amp;&amp; <a href='../D/7844.html' title='Multiple defined in 2 places.'>flow_has_out_port</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>)
<a name='L564'> 564                 &amp;&amp; (!<a href='../Y/7092.html' title='Multiple used in 128 places.'>strict</a> || (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a> == <a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>))) <font color='red'>{</font>
<a name='L565'> 565             <a href='../D/5697.html' title='Multiple defined in 4 places.'>TRY_NR</a>(<a href='../S/215.html#L188' title='Defined at 188 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>hw_flow_remove</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>), "hw flow remove");
<a name='L566'> 566             <a href='../S/845.html#L104' title='Defined at 104 in cbench/openflow/lib/list.c.'>list_remove</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>);
<a name='L567'> 567             <a href='../S/845.html#L104' title='Defined at 104 in cbench/openflow/lib/list.c.'>list_remove</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3960.html' title='Multiple used in 26 places.'>iter_node</a>);
<a name='L568'> 568             <a href='../S/845.html#L85' title='Defined at 85 in cbench/openflow/lib/list.c.'>list_push_back</a>(&amp;<a href='../Y/2322.html' title='Multiple used in 29 places.'>deleted</a>, &amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>);
<a name='L569'> 569             <a href='../Y/2142.html' title='Multiple used in 329 places.'>count</a>++;
<a name='L570'> 570         <font color='red'>}</font>
<a name='L571'> 571     <font color='red'>}</font>
<a name='L572'> 572     <i><font color='green'>/* UNLOCK; */</font></i>
<a name='L573'> 573 
<a name='L574'> 574     <i><font color='green'>/* Notify DP of deleted flows */</font></i>
<a name='L575'> 575     <a href='../S/916.html#L81' title='Defined at 81 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH_SAFE</a> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/4560.html' title='Multiple used in 375 places.'>n</a>, <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/2322.html' title='Multiple used in 29 places.'>deleted</a>) <font color='red'>{</font>
<a name='L576'> 576         <a href='../D/7551.html' title='Multiple defined in 2 places.'>dp_send_flow_end</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>);
<a name='L577'> 577         <a href='../S/845.html#L104' title='Defined at 104 in cbench/openflow/lib/list.c.'>list_remove</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>);
<a name='L578'> 578         <a href='../D/7843.html' title='Multiple defined in 2 places.'>flow_free</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>);
<a name='L579'> 579     <font color='red'>}</font>
<a name='L580'> 580 
<a name='L581'> 581     <b>return</b> <a href='../Y/2142.html' title='Multiple used in 329 places.'>count</a>;
<a name='L582'> 582 <font color='red'>}</font>
<a name='L583'> 583 
<a name='L584'> 584 
<a name='L585'> 585 <i><font color='green'>/*</font></i>
<a name='L586'> 586 <i><font color='green'> * Modify an existing flow</font></i>
<a name='L587'> 587 <i><font color='green'> *</font></i>
<a name='L588'> 588 <i><font color='green'> * We chicken out and just de-install/re-install in HW</font></i>
<a name='L589'> 589 <i><font color='green'> */</font></i>
<a name='L590'> 590 <b>int</b>
<a name='L591'> 591 <a href='../R/3779.html' title='Multiple refered from 2 places.'>of_hw_flow_modify</a>(<b>struct</b> <a href='../Y/7187.html' title='Multiple used in 134 places.'>sw_table</a> *<a href='../Y/7186.html' title='Multiple used in 35 places.'>sw_tab</a>, <b>const</b> <b>struct</b> <a href='../Y/7180.html' title='Multiple used in 154 places.'>sw_flow_key</a> *<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>,
<a name='L592'> 592                    <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>, <b>int</b> <a href='../Y/7092.html' title='Multiple used in 128 places.'>strict</a>,
<a name='L593'> 593                    <b>const</b> <b>struct</b> <a href='../Y/5088.html' title='Multiple used in 65 places.'>ofp_action_header</a> *<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>)
<a name='L594'> 594 <font color='red'>{</font>
<a name='L595'> 595     <a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a> = (<a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *)<a href='../Y/7186.html' title='Multiple used in 35 places.'>sw_tab</a>;
<a name='L596'> 596     <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a> *<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>;
<a name='L597'> 597     <b>int</b> <a href='../Y/2142.html' title='Multiple used in 329 places.'>count</a> = 0;
<a name='L598'> 598     <a href='../S/212.html#L49' title='Defined at 49 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>hw_flow_extra_t</a> <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>;
<a name='L599'> 599 
<a name='L600'> 600     <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(&amp;<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>, 0, <b>sizeof</b>(<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>));
<a name='L601'> 601     <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>.<a href='../Y/2141.html' title='Multiple used in 28 places.'>cosq</a> = -1;
<a name='L602'> 602 <font color='darkred'>#if</font> <b>defined</b>(PLATFORM_HAS_REMOTES)
<a name='L603'> 603     <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>.new_vid = -1;
<a name='L604'> 604     <a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>.new_pcp = -1;
<a name='L605'> 605 <font color='darkred'>#endif</font>
<a name='L606'> 606 
<a name='L607'> 607     <b>if</b> (!<a href='../S/215.html#L266' title='Defined at 266 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>actions_supported_check</a>(<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, &amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>,
<a name='L608'> 608                                  <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>, &amp;<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>)) <font color='red'>{</font>
<a name='L609'> 609         <i><font color='green'>/* Unsupported actions */</font></i>
<a name='L610'> 610         <a href='../D/1151.html' title='Multiple defined in 4 places.'>DBG_VERBOSE</a>("Mod actions-supported failed: Unsupported actions\n");
<a name='L611'> 611         <b>return</b> 0;
<a name='L612'> 612     <font color='red'>}</font>
<a name='L613'> 613 
<a name='L614'> 614     <i><font color='green'>/* LOCK; */</font></i>
<a name='L615'> 615     <a href='../S/916.html#L73' title='Defined at 73 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH</a> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/3174.html' title='Multiple used in 129 places.'>flows</a>) <font color='red'>{</font>
<a name='L616'> 616         <b>if</b> (<a href='../D/7852.html' title='Multiple defined in 2 places.'>flow_matches_desc</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../Y/7092.html' title='Multiple used in 128 places.'>strict</a>)
<a name='L617'> 617                 &amp;&amp; (!<a href='../Y/7092.html' title='Multiple used in 128 places.'>strict</a> || (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a> == <a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>))) <font color='red'>{</font>
<a name='L618'> 618             <i><font color='green'>/* Change the flow, de-install from HW and re-install */</font></i>
<a name='L619'> 619             <a href='../D/5697.html' title='Multiple defined in 4 places.'>TRY_NR</a>(<a href='../S/215.html#L188' title='Defined at 188 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>hw_flow_remove</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>), "hw_flow_remove modify");
<a name='L620'> 620             <a href='../D/7866.html' title='Multiple defined in 2 places.'>flow_replace_acts</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>);
<a name='L621'> 621             <a href='../D/5697.html' title='Multiple defined in 4 places.'>TRY_NR</a>(<a href='../S/215.html#L426' title='Defined at 426 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>hw_flow_install</a>(<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, &amp;<a href='../Y/2972.html' title='Multiple used in 30 places.'>extra</a>),
<a name='L622'> 622                    "hw_flow_install modify");
<a name='L623'> 623             <i><font color='green'>/* FIXME: Clear stats on flow if updated? */</font></i>
<a name='L624'> 624             <a href='../Y/2142.html' title='Multiple used in 329 places.'>count</a>++;
<a name='L625'> 625         <font color='red'>}</font>
<a name='L626'> 626     <font color='red'>}</font>
<a name='L627'> 627     <i><font color='green'>/*     UNLOCK; */</font></i>
<a name='L628'> 628 
<a name='L629'> 629     <b>return</b> <a href='../Y/2142.html' title='Multiple used in 329 places.'>count</a>;
<a name='L630'> 630 <font color='red'>}</font>
<a name='L631'> 631 
<a name='L632'> 632 <i><font color='green'>/*</font></i>
<a name='L633'> 633 <i><font color='green'> * Update stats</font></i>
<a name='L634'> 634 <i><font color='green'> * Call sw tracking table timeout</font></i>
<a name='L635'> 635 <i><font color='green'> * Iterate the deleted object list and call HW flow remove</font></i>
<a name='L636'> 636 <i><font color='green'> */</font></i>
<a name='L637'> 637 <b>void</b>
<a name='L638'> 638 <a href='../R/3782.html' title='Multiple refered from 2 places.'>of_hw_flow_timeout</a>(<b>struct</b> <a href='../Y/7187.html' title='Multiple used in 134 places.'>sw_table</a> *<a href='../Y/7186.html' title='Multiple used in 35 places.'>sw_tab</a>, <b>struct</b> <a href='../Y/4150.html' title='Multiple used in 62 places.'>list</a> *<a href='../Y/2322.html' title='Multiple used in 29 places.'>deleted</a>)
<a name='L639'> 639 <font color='red'>{</font>
<a name='L640'> 640     <a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a> = (<a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *)<a href='../Y/7186.html' title='Multiple used in 35 places.'>sw_tab</a>;
<a name='L641'> 641     <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a> *<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, *<a href='../Y/4560.html' title='Multiple used in 375 places.'>n</a>;
<a name='L642'> 642     <b>int</b> <a href='../Y/7677.html' title='Multiple used in 32 places.'>used</a>;
<a name='L643'> 643     <a href='../Y/7623.html' title='Multiple used in 568 places.'>uint64_t</a> <a href='../Y/4938.html' title='Multiple used in 566 places.'>now</a> = <a href='../S/902.html#L116' title='Defined at 116 in cbench/openflow/lib/timeval.c.'>time_msec</a>();
<a name='L644'> 644 
<a name='L645'> 645     <i><font color='green'>/* LOCK; */</font></i>
<a name='L646'> 646     <i><font color='green'>/* FIXME */</font></i>
<a name='L647'> 647     <a href='../S/916.html#L81' title='Defined at 81 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH_SAFE</a> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/4560.html' title='Multiple used in 375 places.'>n</a>, <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/3174.html' title='Multiple used in 129 places.'>flows</a>) <font color='red'>{</font>
<a name='L648'> 648         <b>if</b> (<a href='../S/215.html#L98' title='Defined at 98 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>of_hw_sw_flow_stat_update</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, &amp;<a href='../Y/7677.html' title='Multiple used in 32 places.'>used</a>, <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>) == 0) <font color='red'>{</font>
<a name='L649'> 649             <b>if</b> (<a href='../Y/7677.html' title='Multiple used in 32 places.'>used</a>) <font color='red'>{</font>
<a name='L650'> 650                 <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/7677.html' title='Multiple used in 32 places.'>used</a> = <a href='../Y/4938.html' title='Multiple used in 566 places.'>now</a>;
<a name='L651'> 651             <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L652'> 652                 <b>if</b> (<a href='../D/7880.html' title='Multiple defined in 2 places.'>flow_timeout</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>)) <font color='red'>{</font>
<a name='L653'> 653                     <a href='../D/1151.html' title='Multiple defined in 4 places.'>DBG_VERBOSE</a>("Flow %p expired\n", <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>);
<a name='L654'> 654                     <a href='../S/845.html#L104' title='Defined at 104 in cbench/openflow/lib/list.c.'>list_remove</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>);
<a name='L655'> 655                     <a href='../S/845.html#L104' title='Defined at 104 in cbench/openflow/lib/list.c.'>list_remove</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3960.html' title='Multiple used in 26 places.'>iter_node</a>);
<a name='L656'> 656                     <a href='../S/845.html#L85' title='Defined at 85 in cbench/openflow/lib/list.c.'>list_push_back</a>(<a href='../Y/2322.html' title='Multiple used in 29 places.'>deleted</a>, &amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>);
<a name='L657'> 657                     <a href='../D/306.html' title='Multiple defined in 4 places.'>ASSERT</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5911.html' title='Multiple used in 123 places.'>private</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L658'> 658                     <a href='../D/5697.html' title='Multiple defined in 4 places.'>TRY_NR</a>(<a href='../S/215.html#L188' title='Defined at 188 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>hw_flow_remove</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>), "hw flow remove, timeout");
<a name='L659'> 659                     <a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/4588.html' title='Multiple used in 45 places.'>n_flows</a>--;
<a name='L660'> 660                 <font color='red'>}</font>
<a name='L661'> 661             <font color='red'>}</font>
<a name='L662'> 662         <font color='red'>}</font>
<a name='L663'> 663     <font color='red'>}</font>
<a name='L664'> 664 
<a name='L665'> 665     <i><font color='green'>/* UNLOCK; */</font></i>
<a name='L666'> 666 <font color='red'>}</font>
<a name='L667'> 667 
<a name='L668'> 668 <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a> *
<a name='L669'> 669 <a href='../R/3778.html' title='Multiple refered from 2 places.'>of_hw_flow_lookup</a>(<b>struct</b> <a href='../Y/7187.html' title='Multiple used in 134 places.'>sw_table</a> *<a href='../Y/7186.html' title='Multiple used in 35 places.'>sw_tab</a>, <b>const</b> <b>struct</b> <a href='../Y/7180.html' title='Multiple used in 154 places.'>sw_flow_key</a> *<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>)
<a name='L670'> 670 <font color='red'>{</font>
<a name='L671'> 671     <a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a> = (<a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *)<a href='../Y/7186.html' title='Multiple used in 35 places.'>sw_tab</a>;
<a name='L672'> 672     <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a> *<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>;
<a name='L673'> 673 
<a name='L674'> 674     <a href='../S/916.html#L73' title='Defined at 73 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH</a> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/3174.html' title='Multiple used in 129 places.'>flows</a>) <font color='red'>{</font>
<a name='L675'> 675         <b>if</b> (<a href='../D/7849.html' title='Multiple defined in 2 places.'>flow_matches_1wild</a>(<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, &amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>))
<a name='L676'> 676             <b>return</b> <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>;
<a name='L677'> 677     <font color='red'>}</font>
<a name='L678'> 678     <b>return</b> <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L679'> 679 <font color='red'>}</font>
<a name='L680'> 680 
<a name='L681'> 681 <b>int</b>
<a name='L682'> 682 <a href='../S/212.html#L67' title='Refered from 67 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>of_hw_flow_stats_get</a>(<a href='../S/183.html#L69' title='Defined at 69 in cbench/openflow/include/openflow/of_hw_api.h.'>of_hw_driver_t</a> *<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>, <b>struct</b> <a href='../Y/5195.html' title='Multiple used in 19 places.'>ofp_match</a> <a href='../Y/4341.html' title='Multiple used in 3 places.'>match</a>,
<a name='L683'> 683                       <b>struct</b> <a href='../Y/5156.html' title='Multiple used in 6 places.'>ofp_flow_stats</a> **<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>, <b>int</b> *<a href='../Y/2142.html' title='Multiple used in 329 places.'>count</a>)
<a name='L684'> 684 <font color='red'>{</font>
<a name='L685'> 685     <a href='../D/1153.html' title='Multiple defined in 4 places.'>DBG_WARN</a>("FIXME FLOW STATS GET\n");
<a name='L686'> 686     <b>return</b> 0;
<a name='L687'> 687 <font color='red'>}</font>
<a name='L688'> 688 
<a name='L689'> 689 <b>int</b>
<a name='L690'> 690 <a href='../S/212.html#L69' title='Refered from 69 in cbench/openflow/hw-lib/skeleton/hw_flow.h.'>of_hw_aggregate_stats_get</a>(<b>struct</b> <a href='../Y/5195.html' title='Multiple used in 19 places.'>ofp_match</a> <a href='../Y/4341.html' title='Multiple used in 3 places.'>match</a>,
<a name='L691'> 691                            <b>struct</b> <a href='../Y/5115.html' title='Multiple used in 5 places.'>ofp_aggregate_stats_reply</a> *<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>)
<a name='L692'> 692 <font color='red'>{</font>
<a name='L693'> 693     <a href='../D/1153.html' title='Multiple defined in 4 places.'>DBG_WARN</a>("FIXME AGGREGATE STATS GET\n");
<a name='L694'> 694     <b>return</b> 0;
<a name='L695'> 695 <font color='red'>}</font>
<a name='L696'> 696 
<a name='L697'> 697 <b>void</b>
<a name='L698'> 698 <a href='../R/3780.html' title='Multiple refered from 2 places.'>of_hw_flow_remove_all</a>(<a href='../S/222.html#L87' title='Defined at 87 in cbench/openflow/hw-lib/skeleton/hw_drv.h.'>of_hw_driver_int_t</a> *<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>)
<a name='L699'> 699 <font color='red'>{</font>
<a name='L700'> 700     <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a> *<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, *<a href='../Y/4560.html' title='Multiple used in 375 places.'>n</a>;
<a name='L701'> 701 
<a name='L702'> 702     <i><font color='green'>/* FIXME:  Other de-init?  Keep count of DPs? */</font></i>
<a name='L703'> 703     <a href='../S/916.html#L81' title='Defined at 81 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH_SAFE</a> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/4560.html' title='Multiple used in 375 places.'>n</a>, <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/3690.html' title='Multiple used in 96 places.'>hw_int</a>-&gt;<a href='../Y/3174.html' title='Multiple used in 129 places.'>flows</a>) <font color='red'>{</font>
<a name='L704'> 704         <a href='../D/5697.html' title='Multiple defined in 4 places.'>TRY_NR</a>(<a href='../S/215.html#L188' title='Defined at 188 in cbench/openflow/hw-lib/skeleton/hw_flow.c.'>hw_flow_remove</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>), "hw_flow_remove all");
<a name='L705'> 705         <a href='../S/845.html#L104' title='Defined at 104 in cbench/openflow/lib/list.c.'>list_remove</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>);
<a name='L706'> 706         <a href='../S/845.html#L104' title='Defined at 104 in cbench/openflow/lib/list.c.'>list_remove</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3960.html' title='Multiple used in 26 places.'>iter_node</a>);
<a name='L707'> 707     <font color='red'>}</font>
<a name='L708'> 708 <font color='red'>}</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L30'>[^]</a><a href='#L698'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
