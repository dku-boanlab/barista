<html>
<head>
<title>cbench/openflow/udatapath/datapath.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.7.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/1100.html'>cbench</a>/<a href='../files/1124.html'>openflow</a>/<a href='../files/1143.html'>udatapath</a>/datapath.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L78'>[^]</a><a href='#L2366'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L78' title='Defined at 78.'>enqueue_pkt</a>
<li><a href='#L104' title='Defined at 104.'>dequeue_pkt</a>
<li><a href='#L213' title='Defined at 213.'>dp_lookup_port</a>
<li><a href='#L221' title='Defined at 221.'>dp_lookup_queue</a>
<li><a href='#L235' title='Defined at 235.'>gen_datapath_id</a>
<li><a href='#L255' title='Defined at 255.'>hw_packet_in</a>
<li><a href='#L306' title='Defined at 306.'>dp_hw_drv_init</a>
<li><a href='#L329' title='Defined at 329.'>dp_new</a>
<li><a href='#L372' title='Defined at 372.'>new_port</a>
<li><a href='#L443' title='Defined at 443.'>dp_add_port</a>
<li><a href='#L484' title='Defined at 484.'>dp_add_port</a>
<li><a href='#L498' title='Defined at 498.'>dp_add_local_port</a>
<li><a href='#L520' title='Defined at 520.'>dp_add_pvconn</a>
<li><a href='#L528' title='Defined at 528.'>dp_run</a>
<li><a href='#L615' title='Defined at 615.'>remote_run</a>
<li><a href='#L667' title='Defined at 667.'>remote_wait</a>
<li><a href='#L674' title='Defined at 674.'>remote_destroy</a>
<li><a href='#L687' title='Defined at 687.'>remote_create</a>
<li><a href='#L712' title='Defined at 712.'>remote_start_dump</a>
<li><a href='#L724' title='Defined at 724.'>dp_wait</a>
<li><a href='#L748' title='Defined at 748.'>output_all</a>
<li><a href='#L776' title='Defined at 776.'>output_packet</a>
<li><a href='#L852' title='Defined at 852.'>dp_output_port</a>
<li><a href='#L895' title='Defined at 895.'>make_openflow_reply</a>
<li><a href='#L903' title='Defined at 903.'>send_openflow_buffer_to_remote</a>
<li><a href='#L915' title='Defined at 915.'>send_openflow_buffer</a>
<li><a href='#L946' title='Defined at 946.'>dp_output_control</a>
<li><a href='#L973' title='Defined at 973.'>fill_queue_desc</a>
<li><a href='#L994' title='Defined at 994.'>fill_port_desc</a>
<li><a href='#L1035' title='Defined at 1035.'>dp_send_features_reply</a>
<li><a href='#L1057' title='Defined at 1057.'>update_port_flags</a>
<li><a href='#L1076' title='Defined at 1076.'>send_port_status</a>
<li><a href='#L1089' title='Defined at 1089.'>dp_send_flow_end</a>
<li><a href='#L1127' title='Defined at 1127.'>dp_send_error_msg</a>
<li><a href='#L1140' title='Defined at 1140.'>fill_flow_stats</a>
<li><a href='#L1181' title='Defined at 1181.'>run_flow_through_tables</a>
<li><a href='#L1216' title='Defined at 1216.'>fwd_port_input</a>
<li><a href='#L1226' title='Defined at 1226.'>make_barrier_reply</a>
<li><a href='#L1237' title='Defined at 1237.'>recv_barrier_request</a>
<li><a href='#L1244' title='Defined at 1244.'>recv_features_request</a>
<li><a href='#L1252' title='Defined at 1252.'>recv_get_config_request</a>
<li><a href='#L1268' title='Defined at 1268.'>recv_set_config</a>
<li><a href='#L1285' title='Defined at 1285.'>recv_packet_out</a>
<li><a href='#L1330' title='Defined at 1330.'>recv_port_mod</a>
<li><a href='#L1341' title='Defined at 1341.'>add_flow</a>
<li><a href='#L1431' title='Defined at 1431.'>mod_flow</a>
<li><a href='#L1505' title='Defined at 1505.'>recv_flow</a>
<li><a href='#L1535' title='Defined at 1535.'>desc_stats_dump</a>
<li><a href='#L1562' title='Defined at 1562.'>flow_stats_init</a>
<li><a href='#L1573' title='Defined at 1573.'>flow_stats_dump_callback</a>
<li><a href='#L1580' title='Defined at 1580.'>flow_stats_dump</a>
<li><a href='#L1612' title='Defined at 1612.'>flow_stats_done</a>
<li><a href='#L1622' title='Defined at 1622.'>aggregate_stats_init</a>
<li><a href='#L1631' title='Defined at 1631.'>aggregate_stats_dump_callback</a>
<li><a href='#L1640' title='Defined at 1640.'>aggregate_stats_dump</a>
<li><a href='#L1687' title='Defined at 1687.'>aggregate_stats_done</a>
<li><a href='#L1693' title='Defined at 1693.'>table_stats_dump</a>
<li><a href='#L1724' title='Defined at 1724.'>port_stats_init</a>
<li><a href='#L1736' title='Defined at 1736.'>dump_port_stats</a>
<li><a href='#L1787' title='Defined at 1787.'>port_stats_dump</a>
<li><a href='#L1816' title='Defined at 1816.'>port_stats_done</a>
<li><a href='#L1822' title='Defined at 1822.'>queue_stats_init</a>
<li><a href='#L1833' title='Defined at 1833.'>dump_queue_stats</a>
<li><a href='#L1844' title='Defined at 1844.'>queue_stats_dump</a>
<li><a href='#L1889' title='Defined at 1889.'>queue_stats_done</a>
<li><a href='#L1908' title='Defined at 1908.'>vendor_stats_init</a>
<li><a href='#L1924' title='Defined at 1924.'>vendor_stats_dump</a>
<li><a href='#L1940' title='Defined at 1940.'>vendor_stats_done</a>
<li><a href='#L2047' title='Defined at 2047.'>stats_dump</a>
<li><a href='#L2083' title='Defined at 2083.'>stats_done</a>
<li><a href='#L2098' title='Defined at 2098.'>recv_stats_request</a>
<li><a href='#L2154' title='Defined at 2154.'>recv_echo_request</a>
<li><a href='#L2161' title='Defined at 2161.'>recv_echo_reply</a>
<li><a href='#L2168' title='Defined at 2168.'>recv_queue_get_config_request</a>
<li><a href='#L2209' title='Defined at 2209.'>recv_vendor</a>
<li><a href='#L2233' title='Defined at 2233.'>fwd_control_input</a>
<li><a href='#L2322' title='Defined at 2322.'>save_buffer</a>
<li><a href='#L2349' title='Defined at 2349.'>retrieve_buffer</a>
<li><a href='#L2366' title='Defined at 2366.'>discard_buffer</a>
</ol>
<hr>
<pre>
<a name='L1'>   1 <i><font color='green'>/* Copyright (c) 2008, 2009 The Board of Trustees of The Leland Stanford</font></i>
<a name='L2'>   2 <i><font color='green'> * Junior University</font></i>
<a name='L3'>   3 <i><font color='green'> *</font></i>
<a name='L4'>   4 <i><font color='green'> * We are making the OpenFlow specification and associated documentation</font></i>
<a name='L5'>   5 <i><font color='green'> * (Software) available for public use and benefit with the expectation</font></i>
<a name='L6'>   6 <i><font color='green'> * that others will use, modify and enhance the Software and contribute</font></i>
<a name='L7'>   7 <i><font color='green'> * those enhancements back to the community. However, since we would</font></i>
<a name='L8'>   8 <i><font color='green'> * like to make the Software available for broadest use, with as few</font></i>
<a name='L9'>   9 <i><font color='green'> * restrictions as possible permission is hereby granted, free of</font></i>
<a name='L10'>  10 <i><font color='green'> * charge, to any person obtaining a copy of this Software to deal in</font></i>
<a name='L11'>  11 <i><font color='green'> * the Software under the copyrights without restriction, including</font></i>
<a name='L12'>  12 <i><font color='green'> * without limitation the rights to use, copy, modify, merge, publish,</font></i>
<a name='L13'>  13 <i><font color='green'> * distribute, sublicense, and/or sell copies of the Software, and to</font></i>
<a name='L14'>  14 <i><font color='green'> * permit persons to whom the Software is furnished to do so, subject to</font></i>
<a name='L15'>  15 <i><font color='green'> * the following conditions:</font></i>
<a name='L16'>  16 <i><font color='green'> *</font></i>
<a name='L17'>  17 <i><font color='green'> * The above copyright notice and this permission notice shall be</font></i>
<a name='L18'>  18 <i><font color='green'> * included in all copies or substantial portions of the Software.</font></i>
<a name='L19'>  19 <i><font color='green'> *</font></i>
<a name='L20'>  20 <i><font color='green'> * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,</font></i>
<a name='L21'>  21 <i><font color='green'> * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</font></i>
<a name='L22'>  22 <i><font color='green'> * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</font></i>
<a name='L23'>  23 <i><font color='green'> * NONINFRINGEMENT.  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS</font></i>
<a name='L24'>  24 <i><font color='green'> * BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN</font></i>
<a name='L25'>  25 <i><font color='green'> * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN</font></i>
<a name='L26'>  26 <i><font color='green'> * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</font></i>
<a name='L27'>  27 <i><font color='green'> * SOFTWARE.</font></i>
<a name='L28'>  28 <i><font color='green'> *</font></i>
<a name='L29'>  29 <i><font color='green'> * The name and trademarks of copyright holder(s) may NOT be used in</font></i>
<a name='L30'>  30 <i><font color='green'> * advertising or publicity pertaining to the Software or any</font></i>
<a name='L31'>  31 <i><font color='green'> * derivatives without specific, written prior permission.</font></i>
<a name='L32'>  32 <i><font color='green'> */</font></i>
<a name='L33'>  33 
<a name='L34'>  34 <font color='darkred'>#include</font> "<a href='../I/91.html'>datapath.h</a>"
<a name='L35'>  35 <font color='darkred'>#include</font> &lt;arpa/inet.h&gt;
<a name='L36'>  36 <font color='darkred'>#include</font> &lt;assert.h&gt;
<a name='L37'>  37 <font color='darkred'>#include</font> &lt;errno.h&gt;
<a name='L38'>  38 <font color='darkred'>#include</font> &lt;inttypes.h&gt;
<a name='L39'>  39 <font color='darkred'>#include</font> &lt;stdlib.h&gt;
<a name='L40'>  40 <font color='darkred'>#include</font> &lt;string.h&gt;
<a name='L41'>  41 <font color='darkred'>#include</font> &lt;unistd.h&gt;
<a name='L42'>  42 <font color='darkred'>#include</font> "<a href='../I/86.html'>chain.h</a>"
<a name='L43'>  43 <font color='darkred'>#include</font> "<a href='837.html'>csum.h</a>"
<a name='L44'>  44 <font color='darkred'>#include</font> "<a href='../I/98.html'>flow.h</a>"
<a name='L45'>  45 <font color='darkred'>#include</font> "<a href='865.html'>ofpbuf.h</a>"
<a name='L46'>  46 <font color='darkred'>#include</font> "<a href='181.html'>openflow/openflow.h</a>"
<a name='L47'>  47 <font color='darkred'>#include</font> "<a href='186.html'>openflow/nicira-ext.h</a>"
<a name='L48'>  48 <font color='darkred'>#include</font> "<a href='185.html'>openflow/private-ext.h</a>"
<a name='L49'>  49 <font color='darkred'>#include</font> "<a href='../I/143.html'>openflow/openflow-ext.h</a>"
<a name='L50'>  50 <font color='darkred'>#include</font> "<a href='860.html'>packets.h</a>"
<a name='L51'>  51 <font color='darkred'>#include</font> "<a href='901.html'>poll-loop.h</a>"
<a name='L52'>  52 <font color='darkred'>#include</font> "<a href='883.html'>rconn.h</a>"
<a name='L53'>  53 <font color='darkred'>#include</font> "<a href='897.html'>stp.h</a>"
<a name='L54'>  54 <font color='darkred'>#include</font> "<a href='200.html'>switch-flow.h</a>"
<a name='L55'>  55 <font color='darkred'>#include</font> "<a href='../I/148.html'>table.h</a>"
<a name='L56'>  56 <font color='darkred'>#include</font> "<a href='906.html'>vconn.h</a>"
<a name='L57'>  57 <font color='darkred'>#include</font> "<a href='889.html'>xtoxll.h</a>"
<a name='L58'>  58 <font color='darkred'>#include</font> "<a href='../I/145.html'>private-msg.h</a>"
<a name='L59'>  59 <font color='darkred'>#include</font> "<a href='192.html'>of_ext_msg.h</a>"
<a name='L60'>  60 <font color='darkred'>#include</font> "<a href='../I/93.html'>dp_act.h</a>"
<a name='L61'>  61 
<a name='L62'>  62 <font color='darkred'>#define</font> <a href='../R/1643.html' title='Multiple refered from 13 places.'>THIS_MODULE</a> VLM_datapath
<a name='L63'>  63 <font color='darkred'>#include</font> "<a href='859.html'>vlog.h</a>"
<a name='L64'>  64 
<a name='L65'>  65 <font color='darkred'>#if</font> <b>defined</b>(<a href='../Y/623.html' title='Multiple used in 18 places.'>OF_HW_PLAT</a>)
<a name='L66'>  66 <font color='darkred'>#include</font> &lt;<a href='183.html'>openflow/of_hw_api.h</a>&gt;
<a name='L67'>  67 <font color='darkred'>#include</font> &lt;pthread.h&gt;
<a name='L68'>  68 <font color='darkred'>#endif</font>
<a name='L69'>  69 
<a name='L70'>  70 <font color='darkred'>#if</font> <b>defined</b>(<a href='../Y/623.html' title='Multiple used in 18 places.'>OF_HW_PLAT</a>) &amp;&amp; !<b>defined</b>(<a href='../Y/993.html' title='Multiple used in 11 places.'>USE_NETDEV</a>)
<a name='L71'>  71 <i><font color='green'>/* Queue to decouple receive packet thread from rconn control thread */</font></i>
<a name='L72'>  72 <i><font color='green'>/* Could make mutex per-DP */</font></i>
<a name='L73'>  73 <b>static</b> <a href='../Y/6137.html' title='Multiple used in 7 places.'>pthread_mutex_t</a> <a href='../Y/5754.html' title='Multiple used in 7 places.'>pkt_q_mutex</a> = PTHREAD_MUTEX_INITIALIZER;
<a name='L74'>  74 <font color='darkred'>#define</font> PKT_Q_LOCK <a href='../Y/6136.html' title='Multiple used in 31 places.'>pthread_mutex_lock</a>(&amp;<a href='../Y/5754.html' title='Multiple used in 7 places.'>pkt_q_mutex</a>)
<a name='L75'>  75 <font color='darkred'>#define</font> PKT_Q_UNLOCK <a href='../Y/6138.html' title='Multiple used in 31 places.'>pthread_mutex_unlock</a>(&amp;<a href='../Y/5754.html' title='Multiple used in 7 places.'>pkt_q_mutex</a>)
<a name='L76'>  76 
<a name='L77'>  77 <b>static</b> <b>void</b>
<a name='L78'>  78 <a href='../S/204.html#L296' title='Refered from 296 in cbench/openflow/udatapath/datapath.c.'>enqueue_pkt</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../S/183.html#L68' title='Defined at 68 in cbench/openflow/include/openflow/of_hw_api.h.'>of_port_t</a> <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>,
<a name='L79'>  79             <b>int</b> <a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>)
<a name='L80'>  80 <font color='red'>{</font>
<a name='L81'>  81     <b>struct</b> <a href='../S/201.html#L102' title='Defined at 102 in cbench/openflow/udatapath/datapath.h.'>hw_pkt_q_entry</a> *<a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a>;
<a name='L82'>  82 
<a name='L83'>  83     <b>if</b> ((<a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a> = <a href='../D/10153.html' title='Multiple defined in 2 places.'>xmalloc</a>(<b>sizeof</b>(*<a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a>))) == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L84'>  84         <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("Could not alloc q entry\n");
<a name='L85'>  85         <i><font color='green'>/* FIXME: Dealloc buffer */</font></i>
<a name='L86'>  86         <b>return</b>;
<a name='L87'>  87     <font color='red'>}</font>
<a name='L88'>  88     <a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a>-&gt;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L89'>  89     <a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a>-&gt;<a href='../S/838.html#L116' title='Defined at 116 in cbench/openflow/lib/port-array.c.'>next</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L90'>  90     <a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> = <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>;
<a name='L91'>  91     <a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a>-&gt;<a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a> = <a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>;
<a name='L92'>  92     <a href='../Y/6136.html' title='Multiple used in 31 places.'>pthread_mutex_lock</a>(&amp;<a href='../Y/5754.html' title='Multiple used in 7 places.'>pkt_q_mutex</a>);
<a name='L93'>  93     <b>if</b> (<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3694.html' title='Multiple used in 8 places.'>hw_pkt_list_head</a> == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L94'>  94         <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3694.html' title='Multiple used in 8 places.'>hw_pkt_list_head</a> = <a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a>;
<a name='L95'>  95     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L96'>  96         <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3695.html' title='Multiple used in 5 places.'>hw_pkt_list_tail</a>-&gt;<a href='../S/838.html#L116' title='Defined at 116 in cbench/openflow/lib/port-array.c.'>next</a> = <a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a>;
<a name='L97'>  97     <font color='red'>}</font>
<a name='L98'>  98     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3695.html' title='Multiple used in 5 places.'>hw_pkt_list_tail</a> = <a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a>;
<a name='L99'>  99     <a href='../Y/6138.html' title='Multiple used in 31 places.'>pthread_mutex_unlock</a>(&amp;<a href='../Y/5754.html' title='Multiple used in 7 places.'>pkt_q_mutex</a>);
<a name='L100'> 100 <font color='red'>}</font>
<a name='L101'> 101 
<a name='L102'> 102 <i><font color='green'>/* If queue non-empty, fill out params and return 1; else return 0 */</font></i>
<a name='L103'> 103 <b>static</b> <b>int</b>
<a name='L104'> 104 <a href='../S/204.html#L557' title='Refered from 557 in cbench/openflow/udatapath/datapath.c.'>dequeue_pkt</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> **<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../S/183.html#L68' title='Defined at 68 in cbench/openflow/include/openflow/of_hw_api.h.'>of_port_t</a> *<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>,
<a name='L105'> 105             <b>int</b> *<a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>)
<a name='L106'> 106 <font color='red'>{</font>
<a name='L107'> 107     <b>struct</b> <a href='../S/201.html#L102' title='Defined at 102 in cbench/openflow/udatapath/datapath.h.'>hw_pkt_q_entry</a> *<a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a>;
<a name='L108'> 108     <b>int</b> <a href='../Y/6512.html' title='Multiple used in 34 places.'>rv</a> = 0;
<a name='L109'> 109 
<a name='L110'> 110     <a href='../Y/6136.html' title='Multiple used in 31 places.'>pthread_mutex_lock</a>(&amp;<a href='../Y/5754.html' title='Multiple used in 7 places.'>pkt_q_mutex</a>);
<a name='L111'> 111     <a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a> = <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3694.html' title='Multiple used in 8 places.'>hw_pkt_list_head</a>;
<a name='L112'> 112     <b>if</b> (<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3694.html' title='Multiple used in 8 places.'>hw_pkt_list_head</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L113'> 113         <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3694.html' title='Multiple used in 8 places.'>hw_pkt_list_head</a> = <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3694.html' title='Multiple used in 8 places.'>hw_pkt_list_head</a>-&gt;<a href='../S/838.html#L116' title='Defined at 116 in cbench/openflow/lib/port-array.c.'>next</a>;
<a name='L114'> 114         <b>if</b> (<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3694.html' title='Multiple used in 8 places.'>hw_pkt_list_head</a> == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L115'> 115             <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3695.html' title='Multiple used in 5 places.'>hw_pkt_list_tail</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L116'> 116         <font color='red'>}</font>
<a name='L117'> 117     <font color='red'>}</font>
<a name='L118'> 118     <a href='../Y/6138.html' title='Multiple used in 31 places.'>pthread_mutex_unlock</a>(&amp;<a href='../Y/5754.html' title='Multiple used in 7 places.'>pkt_q_mutex</a>);
<a name='L119'> 119 
<a name='L120'> 120     <b>if</b> (<a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L121'> 121         <a href='../Y/6512.html' title='Multiple used in 34 places.'>rv</a> = 1;
<a name='L122'> 122         *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a>-&gt;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L123'> 123         *<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> = <a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>;
<a name='L124'> 124         *<a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a> = <a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a>-&gt;<a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>;
<a name='L125'> 125         <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/6188.html' title='Multiple used in 16 places.'>q_entry</a>);
<a name='L126'> 126     <font color='red'>}</font>
<a name='L127'> 127 
<a name='L128'> 128     <b>return</b> <a href='../Y/6512.html' title='Multiple used in 34 places.'>rv</a>;
<a name='L129'> 129 <font color='red'>}</font>
<a name='L130'> 130 <font color='darkred'>#endif</font>
<a name='L131'> 131 
<a name='L132'> 132 <b>extern</b> <b>char</b> <a href='../Y/4440.html' title='Multiple used in 24 places.'>mfr_desc</a>;
<a name='L133'> 133 <b>extern</b> <b>char</b> <a href='../Y/3683.html' title='Multiple used in 24 places.'>hw_desc</a>;
<a name='L134'> 134 <b>extern</b> <b>char</b> <a href='../Y/7176.html' title='Multiple used in 22 places.'>sw_desc</a>;
<a name='L135'> 135 <b>extern</b> <b>char</b> <a href='../Y/2506.html' title='Multiple used in 33 places.'>dp_desc</a>;
<a name='L136'> 136 <b>extern</b> <b>char</b> <a href='../Y/6673.html' title='Multiple used in 24 places.'>serial_num</a>;
<a name='L137'> 137 
<a name='L138'> 138 <i><font color='green'>/* Capabilities supported by this implementation. */</font></i>
<a name='L139'> 139 <font color='darkred'>#define</font> <a href='../R/1293.html' title='Multiple refered from 2 places.'>OFP_SUPPORTED_CAPABILITIES</a> ( <a href='../D/3375.html' title='Multiple defined in 3 places.'>OFPC_FLOW_STATS</a>        \
<a name='L140'> 140                                      | <a href='../D/3387.html' title='Multiple defined in 3 places.'>OFPC_TABLE_STATS</a>        \
<a name='L141'> 141                                      | <a href='../D/3383.html' title='Multiple defined in 3 places.'>OFPC_PORT_STATS</a>        \
<a name='L142'> 142                                      | <a href='../D/3384.html' title='Multiple defined in 3 places.'>OFPC_QUEUE_STATS</a>       \
<a name='L143'> 143                                      | <a href='../D/3374.html' title='Multiple defined in 2 places.'>OFPC_ARP_MATCH_IP</a> )
<a name='L144'> 144 
<a name='L145'> 145 <i><font color='green'>/* Actions supported by this implementation. */</font></i>
<a name='L146'> 146 <font color='darkred'>#define</font> <a href='../R/1292.html' title='Multiple refered from 2 places.'>OFP_SUPPORTED_ACTIONS</a> ( (1 &lt;&lt; <a href='../D/3289.html' title='Multiple defined in 3 places.'>OFPAT_OUTPUT</a>)         \
<a name='L147'> 147                                 | (1 &lt;&lt; <a href='../D/3308.html' title='Multiple defined in 2 places.'>OFPAT_SET_VLAN_VID</a>) \
<a name='L148'> 148                                 | (1 &lt;&lt; <a href='../D/3307.html' title='Multiple defined in 2 places.'>OFPAT_SET_VLAN_PCP</a>) \
<a name='L149'> 149                                 | (1 &lt;&lt; <a href='../D/3309.html' title='Multiple defined in 2 places.'>OFPAT_STRIP_VLAN</a>)   \
<a name='L150'> 150                                 | (1 &lt;&lt; <a href='../D/3297.html' title='Multiple defined in 2 places.'>OFPAT_SET_DL_SRC</a>)   \
<a name='L151'> 151                                 | (1 &lt;&lt; <a href='../D/3296.html' title='Multiple defined in 2 places.'>OFPAT_SET_DL_DST</a>)   \
<a name='L152'> 152                                 | (1 &lt;&lt; <a href='../D/3301.html' title='Multiple defined in 2 places.'>OFPAT_SET_NW_SRC</a>)   \
<a name='L153'> 153                                 | (1 &lt;&lt; <a href='../D/3300.html' title='Multiple defined in 2 places.'>OFPAT_SET_NW_DST</a>)   \
<a name='L154'> 154                                 | (1 &lt;&lt; <a href='../D/3306.html' title='Multiple defined in 2 places.'>OFPAT_SET_TP_SRC</a>)   \
<a name='L155'> 155                                 | (1 &lt;&lt; <a href='../D/3305.html' title='Multiple defined in 2 places.'>OFPAT_SET_TP_DST</a>)   \
<a name='L156'> 156                                 | (1 &lt;&lt; <a href='../D/3286.html' title='Multiple defined in 2 places.'>OFPAT_ENQUEUE</a>))
<a name='L157'> 157 
<a name='L158'> 158 <i><font color='green'>/* The origin of a received OpenFlow message, to enable sending a reply. */</font></i>
<a name='L159'> 159 <b>struct</b> <a href='../R/4420.html' title='Multiple refered from 108 places.'>sender</a> <font color='red'>{</font>
<a name='L160'> 160     <b>struct</b> <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> *<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>;      <i><font color='green'>/* The device that sent the message. */</font></i>
<a name='L161'> 161     <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a>;               <i><font color='green'>/* The OpenFlow transaction ID. */</font></i>
<a name='L162'> 162 <font color='red'>}</font>;
<a name='L163'> 163 
<a name='L164'> 164 <i><font color='green'>/* A connection to a secure channel. */</font></i>
<a name='L165'> 165 <b>struct</b> <a href='../R/4355.html' title='Multiple refered from 129 places.'>remote</a> <font color='red'>{</font>
<a name='L166'> 166     <b>struct</b> <a href='../S/916.html#L43' title='Defined at 43 in cbench/openflow/lib/list.h.'>list</a> <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>;
<a name='L167'> 167     <b>struct</b> <a href='../S/849.html#L79' title='Defined at 79 in cbench/openflow/lib/rconn.c.'>rconn</a> *<a href='../S/849.html#L79' title='Defined at 79 in cbench/openflow/lib/rconn.c.'>rconn</a>;
<a name='L168'> 168 <font color='darkred'>#define</font> <a href='../R/1661.html' title='Multiple refered from 2 places.'>TXQ_LIMIT</a> 128           <i><font color='green'>/* Max number of packets to queue for tx. */</font></i>
<a name='L169'> 169     <b>int</b> <a href='../Y/4623.html' title='Multiple used in 13 places.'>n_txq</a>;                  <i><font color='green'>/* Number of packets queued for tx on rconn. */</font></i>
<a name='L170'> 170 
<a name='L171'> 171     <i><font color='green'>/* Support for reliable, multi-message replies to requests.</font></i>
<a name='L172'> 172 <i><font color='green'>     *</font></i>
<a name='L173'> 173 <i><font color='green'>     * If an incoming request needs to have a reliable reply that might</font></i>
<a name='L174'> 174 <i><font color='green'>     * require multiple messages, it can use remote_start_dump() to set up</font></i>
<a name='L175'> 175 <i><font color='green'>     * a callback that will be called as buffer space for replies. */</font></i>
<a name='L176'> 176     <b>int</b> (*<a href='../Y/1822.html' title='Multiple used in 8 places.'>cb_dump</a>)(<b>struct</b> <a href='../D/7268.html' title='Multiple defined in 2 places.'>datapath</a> *, <b>void</b> *<a href='../Y/1539.html' title='Multiple used in 86 places.'>aux</a>);
<a name='L177'> 177     <b>void</b> (*<a href='../Y/1821.html' title='Multiple used in 5 places.'>cb_done</a>)(<b>void</b> *<a href='../Y/1539.html' title='Multiple used in 86 places.'>aux</a>);
<a name='L178'> 178     <b>void</b> *<a href='../Y/1820.html' title='Multiple used in 5 places.'>cb_aux</a>;
<a name='L179'> 179 <font color='red'>}</font>;
<a name='L180'> 180 
<a name='L181'> 181 <b>static</b> <b>struct</b> <a href='../D/10099.html' title='Multiple defined in 2 places.'>vlog_rate_limit</a> <a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a> = <a href='../S/859.html#L107' title='Defined at 107 in cbench/openflow/lib/vlog.h.'>VLOG_RATE_LIMIT_INIT</a>(60, 60);
<a name='L182'> 182 
<a name='L183'> 183 <b>static</b> <b>struct</b> <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> *<a href='../S/204.html#L687' title='Defined at 687 in cbench/openflow/udatapath/datapath.c.'>remote_create</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *, <b>struct</b> <a href='../Y/6260.html' title='Multiple used in 129 places.'>rconn</a> *);
<a name='L184'> 184 <b>static</b> <b>void</b> <a href='../S/204.html#L615' title='Defined at 615 in cbench/openflow/udatapath/datapath.c.'>remote_run</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *, <b>struct</b> <a href='../Y/6370.html' title='Multiple used in 18 places.'>remote</a> *);
<a name='L185'> 185 <b>static</b> <b>void</b> <a href='../S/204.html#L667' title='Defined at 667 in cbench/openflow/udatapath/datapath.c.'>remote_wait</a>(<b>struct</b> <a href='../Y/6370.html' title='Multiple used in 18 places.'>remote</a> *);
<a name='L186'> 186 <b>static</b> <b>void</b> <a href='../S/204.html#L674' title='Defined at 674 in cbench/openflow/udatapath/datapath.c.'>remote_destroy</a>(<b>struct</b> <a href='../Y/6370.html' title='Multiple used in 18 places.'>remote</a> *);
<a name='L187'> 187 
<a name='L188'> 188 <b>static</b> <b>void</b> <a href='../S/204.html#L1057' title='Defined at 1057 in cbench/openflow/udatapath/datapath.c.'>update_port_flags</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *, <b>const</b> <b>struct</b> <a href='../Y/5274.html' title='Multiple used in 7 places.'>ofp_port_mod</a> *);
<a name='L189'> 189 <b>static</b> <b>void</b> <a href='../S/204.html#L1076' title='Defined at 1076 in cbench/openflow/udatapath/datapath.c.'>send_port_status</a>(<b>struct</b> <a href='../Y/7182.html' title='Multiple used in 14 places.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/7040.html' title='Multiple used in 97 places.'>status</a>);
<a name='L190'> 190 
<a name='L191'> 191 <i><font color='green'>/* Buffers are identified by a 31-bit opaque ID.  We divide the ID</font></i>
<a name='L192'> 192 <i><font color='green'> * into a buffer number (low bits) and a cookie (high bits).  The buffer number</font></i>
<a name='L193'> 193 <i><font color='green'> * is an index into an array of buffers.  The cookie distinguishes between</font></i>
<a name='L194'> 194 <i><font color='green'> * different packets that have occupied a single buffer.  Thus, the more</font></i>
<a name='L195'> 195 <i><font color='green'> * buffers we have, the lower-quality the cookie... */</font></i>
<a name='L196'> 196 <font color='darkred'>#define</font> <a href='../R/1424.html' title='Multiple refered from 12 places.'>PKT_BUFFER_BITS</a> 8
<a name='L197'> 197 <font color='darkred'>#define</font> <a href='../R/1032.html' title='Multiple refered from 7 places.'>N_PKT_BUFFERS</a> (1 &lt;&lt; <a href='../D/4722.html' title='Multiple defined in 2 places.'>PKT_BUFFER_BITS</a>)
<a name='L198'> 198 <font color='darkred'>#define</font> <a href='../R/1425.html' title='Multiple refered from 6 places.'>PKT_BUFFER_MASK</a> (<a href='../D/3245.html' title='Multiple defined in 2 places.'>N_PKT_BUFFERS</a> - 1)
<a name='L199'> 199 
<a name='L200'> 200 <font color='darkred'>#define</font> <a href='../R/1426.html' title='Multiple refered from 2 places.'>PKT_COOKIE_BITS</a> (32 - <a href='../D/4722.html' title='Multiple defined in 2 places.'>PKT_BUFFER_BITS</a>)
<a name='L201'> 201 
<a name='L202'> 202 <b>int</b> <a href='../D/9437.html' title='Multiple defined in 2 places.'>run_flow_through_tables</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *,
<a name='L203'> 203                             <b>struct</b> <a href='../Y/7182.html' title='Multiple used in 14 places.'>sw_port</a> *);
<a name='L204'> 204 <b>void</b> <a href='../D/7910.html' title='Multiple defined in 2 places.'>fwd_port_input</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *, <b>struct</b> <a href='../Y/7182.html' title='Multiple used in 14 places.'>sw_port</a> *);
<a name='L205'> 205 <b>int</b> <a href='../D/7907.html' title='Multiple defined in 2 places.'>fwd_control_input</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *,
<a name='L206'> 206                       <b>const</b> <b>void</b> *, <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a>);
<a name='L207'> 207 
<a name='L208'> 208 <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../S/204.html#L2322' title='Defined at 2322 in cbench/openflow/udatapath/datapath.c.'>save_buffer</a>(<b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *);
<a name='L209'> 209 <b>static</b> <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../S/204.html#L2349' title='Defined at 2349 in cbench/openflow/udatapath/datapath.c.'>retrieve_buffer</a>(<a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a>);
<a name='L210'> 210 <b>static</b> <b>void</b> <a href='../S/204.html#L2366' title='Defined at 2366 in cbench/openflow/udatapath/datapath.c.'>discard_buffer</a>(<a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a>);
<a name='L211'> 211 
<a name='L212'> 212 <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *
<a name='L213'> 213 <a href='../R/2795.html' title='Multiple refered from 11 places.'>dp_lookup_port</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>)
<a name='L214'> 214 <font color='red'>{</font>
<a name='L215'> 215     <b>return</b> (<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> &lt; <a href='../D/1464.html' title='Multiple defined in 2 places.'>DP_MAX_PORTS</a> ? &amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>[<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>]
<a name='L216'> 216             : <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> == <a href='../D/3585.html' title='Multiple defined in 3 places.'>OFPP_LOCAL</a> ? <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4196.html' title='Multiple used in 23 places.'>local_port</a>
<a name='L217'> 217             : <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L218'> 218 <font color='red'>}</font>
<a name='L219'> 219 
<a name='L220'> 220 <b>struct</b> <a href='../S/201.html#L57' title='Defined at 57 in cbench/openflow/udatapath/datapath.h.'>sw_queue</a> *
<a name='L221'> 221 <a href='../R/2796.html' title='Multiple refered from 7 places.'>dp_lookup_queue</a>(<b>struct</b> <a href='../Y/7182.html' title='Multiple used in 14 places.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>)
<a name='L222'> 222 <font color='red'>{</font>
<a name='L223'> 223     <b>struct</b> <a href='../S/201.html#L57' title='Defined at 57 in cbench/openflow/udatapath/datapath.h.'>sw_queue</a> *<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>;
<a name='L224'> 224 
<a name='L225'> 225     <a href='../S/916.html#L73' title='Defined at 73 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>, <b>struct</b> <a href='../S/201.html#L57' title='Defined at 57 in cbench/openflow/udatapath/datapath.h.'>sw_queue</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/6212.html' title='Multiple used in 8 places.'>queue_list</a>) <font color='red'>{</font>
<a name='L226'> 226         <b>if</b> ((<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) &amp;&amp; (<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>-&gt;<a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a> == <a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>)) <font color='red'>{</font>
<a name='L227'> 227             <b>return</b> <a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>;
<a name='L228'> 228         <font color='red'>}</font>
<a name='L229'> 229     <font color='red'>}</font>
<a name='L230'> 230     <b>return</b> <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L231'> 231 <font color='red'>}</font>
<a name='L232'> 232 
<a name='L233'> 233 <i><font color='green'>/* Generates and returns a random datapath id. */</font></i>
<a name='L234'> 234 <b>static</b> <a href='../Y/7623.html' title='Multiple used in 568 places.'>uint64_t</a>
<a name='L235'> 235 <a href='../S/204.html#L342' title='Refered from 342 in cbench/openflow/udatapath/datapath.c.'>gen_datapath_id</a>(<b>void</b>)
<a name='L236'> 236 <font color='red'>{</font>
<a name='L237'> 237     <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/2621.html' title='Multiple used in 55 places.'>ea</a>[<a href='../S/860.html#L42' title='Defined at 42 in cbench/openflow/lib/packets.h.'>ETH_ADDR_LEN</a>];
<a name='L238'> 238     <a href='../S/860.html#L86' title='Defined at 86 in cbench/openflow/lib/packets.h.'>eth_addr_random</a>(<a href='../Y/2621.html' title='Multiple used in 55 places.'>ea</a>);
<a name='L239'> 239     <a href='../Y/2621.html' title='Multiple used in 55 places.'>ea</a>[0] = 0x00;               <i><font color='green'>/* Set Nicira OUI. */</font></i>
<a name='L240'> 240     <a href='../Y/2621.html' title='Multiple used in 55 places.'>ea</a>[1] = 0x23;
<a name='L241'> 241     <a href='../Y/2621.html' title='Multiple used in 55 places.'>ea</a>[2] = 0x20;
<a name='L242'> 242     <b>return</b> <a href='../S/860.html#L68' title='Defined at 68 in cbench/openflow/lib/packets.h.'>eth_addr_to_uint64</a>(<a href='../Y/2621.html' title='Multiple used in 55 places.'>ea</a>);
<a name='L243'> 243 <font color='red'>}</font>
<a name='L244'> 244 
<a name='L245'> 245 <i><font color='green'>/* FIXME: Should not depend on udatapath_as_lib */</font></i>
<a name='L246'> 246 <font color='darkred'>#if</font> <b>defined</b>(<a href='../Y/623.html' title='Multiple used in 18 places.'>OF_HW_PLAT</a>) &amp;&amp; !<b>defined</b>(<a href='../Y/993.html' title='Multiple used in 11 places.'>USE_NETDEV</a>) &amp;&amp; <b>defined</b>(<a href='../Y/984.html' title='Multiple used in 4 places.'>UDATAPATH_AS_LIB</a>)
<a name='L247'> 247 <i><font color='green'>/*</font></i>
<a name='L248'> 248 <i><font color='green'> * Receive packet handling for hardware driver controlled ports</font></i>
<a name='L249'> 249 <i><font color='green'> *</font></i>
<a name='L250'> 250 <i><font color='green'> * FIXME:  For now, call the pkt fwding directly; eventually may</font></i>
<a name='L251'> 251 <i><font color='green'> * want to enqueue packets at this layer; at that point must</font></i>
<a name='L252'> 252 <i><font color='green'> * make sure poll event is registered or timer kicked</font></i>
<a name='L253'> 253 <i><font color='green'> */</font></i>
<a name='L254'> 254 <b>static</b> <b>int</b>
<a name='L255'> 255 <a href='../S/204.html#L318' title='Refered from 318 in cbench/openflow/udatapath/datapath.c.'>hw_packet_in</a>(<a href='../S/183.html#L68' title='Defined at 68 in cbench/openflow/include/openflow/of_hw_api.h.'>of_port_t</a> <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>, <a href='../S/183.html#L81' title='Defined at 81 in cbench/openflow/include/openflow/of_hw_api.h.'>of_packet_t</a> *<a href='../Y/5592.html' title='Multiple used in 61 places.'>packet</a>, <b>int</b> <a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>,
<a name='L256'> 256              <b>void</b> *<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a>)
<a name='L257'> 257 <font color='red'>{</font>
<a name='L258'> 258     <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>;
<a name='L259'> 259     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L260'> 260     <b>struct</b> <a href='../D/7268.html' title='Multiple defined in 2 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a> = (<b>struct</b> <a href='../D/7268.html' title='Multiple defined in 2 places.'>datapath</a> *)<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a>;
<a name='L261'> 261     <b>const</b> <b>int</b> <a href='../Y/3598.html' title='Multiple used in 13 places.'>headroom</a> = 128 + 2;
<a name='L262'> 262     <b>const</b> <b>int</b> <a href='../Y/3539.html' title='Multiple used in 4 places.'>hard_header</a> = <a href='../S/860.html#L166' title='Defined at 166 in cbench/openflow/lib/packets.h.'>VLAN_ETH_HEADER_LEN</a>;
<a name='L263'> 263     <b>const</b> <b>int</b> <a href='../Y/7240.html' title='Multiple used in 2 places.'>tail_room</a> = <b>sizeof</b>(<a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a>);  <i><font color='green'>/* For crc if needed later */</font></i>
<a name='L264'> 264 
<a name='L265'> 265     <a href='../S/859.html#L152' title='Defined at 152 in cbench/openflow/lib/vlog.h.'>VLOG_INFO</a>("dp rcv packet on port %d, size %d\n",
<a name='L266'> 266               <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>, <a href='../Y/5592.html' title='Multiple used in 61 places.'>packet</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>);
<a name='L267'> 267     <b>if</b> ((<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> &lt; 1) || <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> &gt; <a href='../D/1464.html' title='Multiple defined in 2 places.'>DP_MAX_PORTS</a>) <font color='red'>{</font>
<a name='L268'> 268         <a href='../S/859.html#L150' title='Defined at 150 in cbench/openflow/lib/vlog.h.'>VLOG_ERR</a>("Bad receive port %d\n", <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L269'> 269         <i><font color='green'>/* TODO increment error counter */</font></i>
<a name='L270'> 270         <b>return</b> -1;
<a name='L271'> 271     <font color='red'>}</font>
<a name='L272'> 272     <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> = &amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>[<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>];
<a name='L273'> 273     <b>if</b> (!<a href='../S/201.html#L81' title='Defined at 81 in cbench/openflow/udatapath/datapath.h.'>PORT_IN_USE</a>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>)) <font color='red'>{</font>
<a name='L274'> 274         <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("Receive port not active: %d\n", <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L275'> 275         <b>return</b> -1;
<a name='L276'> 276     <font color='red'>}</font>
<a name='L277'> 277     <b>if</b> (!<a href='../D/2291.html' title='Multiple defined in 2 places.'>IS_HW_PORT</a>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>)) <font color='red'>{</font>
<a name='L278'> 278         <a href='../S/859.html#L150' title='Defined at 150 in cbench/openflow/lib/vlog.h.'>VLOG_ERR</a>("Receive port not controlled by HW: %d\n", <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L279'> 279         <b>return</b> -1;
<a name='L280'> 280     <font color='red'>}</font>
<a name='L281'> 281     <i><font color='green'>/* Note:  We're really not counting these for port stats as they</font></i>
<a name='L282'> 282 <i><font color='green'>     * should be gotten directly from the HW */</font></i>
<a name='L283'> 283     <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/6526.html' title='Multiple used in 32 places.'>rx_packets</a>++;
<a name='L284'> 284     <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/6515.html' title='Multiple used in 32 places.'>rx_bytes</a> += <a href='../Y/5592.html' title='Multiple used in 61 places.'>packet</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>;
<a name='L285'> 285     <i><font color='green'>/* For now, copy data into OFP buffer; eventually may steal packet</font></i>
<a name='L286'> 286 <i><font color='green'>     * from RX to avoid copy.  As per dp_run, add headroom and offset bytes.</font></i>
<a name='L287'> 287 <i><font color='green'>     */</font></i>
<a name='L288'> 288     <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../S/887.html#L87' title='Defined at 87 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_new</a>(<a href='../Y/3598.html' title='Multiple used in 13 places.'>headroom</a> + <a href='../Y/3539.html' title='Multiple used in 4 places.'>hard_header</a> + <a href='../Y/5592.html' title='Multiple used in 61 places.'>packet</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a> + <a href='../Y/7240.html' title='Multiple used in 2 places.'>tail_room</a>);
<a name='L289'> 289     <b>if</b> (<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L290'> 290         <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("Could not alloc ofpbuf on hw pkt in\n");
<a name='L291'> 291         <a href='../Y/3207.html' title='Multiple used in 289 places.'>fprintf</a>(<a href='../Y/7049.html' title='Multiple used in 246 places.'>stderr</a>, "Could not alloc ofpbuf on hw pkt in\n");
<a name='L292'> 292     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L293'> 293         <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a> = (<b>char</b>*)<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a> + <a href='../Y/3598.html' title='Multiple used in 13 places.'>headroom</a>;
<a name='L294'> 294         <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> = <a href='../Y/5592.html' title='Multiple used in 61 places.'>packet</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>;
<a name='L295'> 295         <a href='../Y/4417.html' title='Multiple used in 205 places.'>memcpy</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>, <a href='../Y/5592.html' title='Multiple used in 61 places.'>packet</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>, <a href='../Y/5592.html' title='Multiple used in 61 places.'>packet</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>);
<a name='L296'> 296         <a href='../S/204.html#L78' title='Defined at 78 in cbench/openflow/udatapath/datapath.c.'>enqueue_pkt</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>, <a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>);
<a name='L297'> 297         <a href='../S/854.html#L119' title='Defined at 119 in cbench/openflow/lib/poll-loop.c.'>poll_immediate_wake</a>();
<a name='L298'> 298     <font color='red'>}</font>
<a name='L299'> 299 
<a name='L300'> 300     <b>return</b> 0;
<a name='L301'> 301 <font color='red'>}</font>
<a name='L302'> 302 <font color='darkred'>#endif</font>
<a name='L303'> 303 
<a name='L304'> 304 <font color='darkred'>#if</font> <b>defined</b>(<a href='../Y/623.html' title='Multiple used in 18 places.'>OF_HW_PLAT</a>)
<a name='L305'> 305 <b>static</b> <b>int</b>
<a name='L306'> 306 <a href='../S/204.html#L345' title='Refered from 345 in cbench/openflow/udatapath/datapath.c.'>dp_hw_drv_init</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>)
<a name='L307'> 307 <font color='red'>{</font>
<a name='L308'> 308     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3694.html' title='Multiple used in 8 places.'>hw_pkt_list_head</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L309'> 309     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3695.html' title='Multiple used in 5 places.'>hw_pkt_list_tail</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L310'> 310 
<a name='L311'> 311     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a> = <a href='../D/8482.html' title='Multiple defined in 2 places.'>new_of_hw_driver</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>);
<a name='L312'> 312     <b>if</b> (<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a> == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L313'> 313         <a href='../S/859.html#L150' title='Defined at 150 in cbench/openflow/lib/vlog.h.'>VLOG_ERR</a>("Could not create HW driver");
<a name='L314'> 314         <b>return</b> -1;
<a name='L315'> 315     <font color='red'>}</font>
<a name='L316'> 316 <font color='darkred'>#if</font> !<b>defined</b>(<a href='../Y/993.html' title='Multiple used in 11 places.'>USE_NETDEV</a>)
<a name='L317'> 317     <b>if</b> (<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>-&gt;<a href='../Y/5619.html' title='Multiple used in 4 places.'>packet_receive_register</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>,
<a name='L318'> 318                                             <a href='../S/204.html#L255' title='Defined at 255 in cbench/openflow/udatapath/datapath.c.'>hw_packet_in</a>, <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>) &lt; 0) <font color='red'>{</font>
<a name='L319'> 319         <a href='../S/859.html#L150' title='Defined at 150 in cbench/openflow/lib/vlog.h.'>VLOG_ERR</a>("Could not register with HW driver to receive pkts");
<a name='L320'> 320     <font color='red'>}</font>
<a name='L321'> 321 <font color='darkred'>#endif</font>
<a name='L322'> 322 
<a name='L323'> 323     <b>return</b> 0;
<a name='L324'> 324 <font color='red'>}</font>
<a name='L325'> 325 
<a name='L326'> 326 <font color='darkred'>#endif</font>
<a name='L327'> 327 
<a name='L328'> 328 <b>int</b>
<a name='L329'> 329 <a href='../R/2799.html' title='Multiple refered from 2 places.'>dp_new</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> **<a href='../Y/2500.html' title='Multiple used in 2 places.'>dp_</a>, <a href='../Y/7623.html' title='Multiple used in 568 places.'>uint64_t</a> <a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a>)
<a name='L330'> 330 <font color='red'>{</font>
<a name='L331'> 331     <b>struct</b> <a href='../D/7268.html' title='Multiple defined in 2 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>;
<a name='L332'> 332 
<a name='L333'> 333     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a> = <a href='../Y/1781.html' title='Multiple used in 32 places.'>calloc</a>(1, <b>sizeof</b> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>);
<a name='L334'> 334     <b>if</b> (!<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>) <font color='red'>{</font>
<a name='L335'> 335         <b>return</b> <a href='../Y/276.html' title='Multiple used in 35 places.'>ENOMEM</a>;
<a name='L336'> 336     <font color='red'>}</font>
<a name='L337'> 337 
<a name='L338'> 338     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4094.html' title='Multiple used in 4 places.'>last_timeout</a> = <a href='../S/902.html#L108' title='Defined at 108 in cbench/openflow/lib/timeval.c.'>time_now</a>();
<a name='L339'> 339     <a href='../S/845.html#L39' title='Defined at 39 in cbench/openflow/lib/list.c.'>list_init</a>(&amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/6375.html' title='Multiple used in 6 places.'>remotes</a>);
<a name='L340'> 340     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4172.html' title='Multiple used in 18 places.'>listeners</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L341'> 341     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4597.html' title='Multiple used in 33 places.'>n_listeners</a> = 0;
<a name='L342'> 342     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a> = <a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a> &lt;= <a href='../Y/986.html' title='Multiple used in 6 places.'>UINT64_C</a>(0xffffffffffff) ? <a href='../Y/2531.html' title='Multiple used in 319 places.'>dpid</a> : <a href='../S/204.html#L235' title='Defined at 235 in cbench/openflow/udatapath/datapath.c.'>gen_datapath_id</a>();
<a name='L343'> 343 <i><font color='green'>/* FIXME: Should not depend on udatapath_as_lib */</font></i>
<a name='L344'> 344 <font color='darkred'>#if</font> <b>defined</b>(<a href='../Y/623.html' title='Multiple used in 18 places.'>OF_HW_PLAT</a>) &amp;&amp; (<b>defined</b>(<a href='../Y/984.html' title='Multiple used in 4 places.'>UDATAPATH_AS_LIB</a>) || <b>defined</b>(<a href='../Y/993.html' title='Multiple used in 11 places.'>USE_NETDEV</a>))
<a name='L345'> 345     <a href='../S/204.html#L306' title='Defined at 306 in cbench/openflow/udatapath/datapath.c.'>dp_hw_drv_init</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>);
<a name='L346'> 346 <font color='darkred'>#endif</font>
<a name='L347'> 347     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a> = <a href='../D/7042.html' title='Multiple defined in 2 places.'>chain_create</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>);
<a name='L348'> 348     <b>if</b> (!<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>) <font color='red'>{</font>
<a name='L349'> 349         <a href='../S/859.html#L150' title='Defined at 150 in cbench/openflow/lib/vlog.h.'>VLOG_ERR</a>("could not create chain");
<a name='L350'> 350         <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>);
<a name='L351'> 351         <b>return</b> <a href='../Y/276.html' title='Multiple used in 35 places.'>ENOMEM</a>;
<a name='L352'> 352     <font color='red'>}</font>
<a name='L353'> 353 
<a name='L354'> 354     <a href='../S/845.html#L39' title='Defined at 39 in cbench/openflow/lib/list.c.'>list_init</a>(&amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/5817.html' title='Multiple used in 29 places.'>port_list</a>);
<a name='L355'> 355     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> = 0;
<a name='L356'> 356     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4473.html' title='Multiple used in 19 places.'>miss_send_len</a> = <a href='../D/3747.html' title='Multiple defined in 3 places.'>OFP_DEFAULT_MISS_SEND_LEN</a>;
<a name='L357'> 357 
<a name='L358'> 358     <b>if</b>(<a href='../Y/7098.html' title='Multiple used in 203 places.'>strlen</a>(&amp;<a href='../Y/2506.html' title='Multiple used in 33 places.'>dp_desc</a>) &gt; 0)    <i><font color='green'>/* use the comment, if specified */</font></i>
<a name='L359'> 359             <a href='../Y/7102.html' title='Multiple used in 59 places.'>strncpy</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/2506.html' title='Multiple used in 33 places.'>dp_desc</a>, &amp;<a href='../Y/2506.html' title='Multiple used in 33 places.'>dp_desc</a>, <b>sizeof</b> <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/2506.html' title='Multiple used in 33 places.'>dp_desc</a>);
<a name='L360'> 360     <b>else</b>                                    <i><font color='green'>/* else, just use "$HOSTNAME pid=$$" */</font></i>
<a name='L361'> 361     <font color='red'>{</font>
<a name='L362'> 362         <b>char</b> <a href='../Y/3672.html' title='Multiple used in 3 places.'>hostnametmp</a>[<a href='../D/1200.html' title='Multiple defined in 3 places.'>DESC_STR_LEN</a>];
<a name='L363'> 363             gethostname(<a href='../Y/3672.html' title='Multiple used in 3 places.'>hostnametmp</a>,<b>sizeof</b> <a href='../Y/3672.html' title='Multiple used in 3 places.'>hostnametmp</a>);
<a name='L364'> 364         <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/2506.html' title='Multiple used in 33 places.'>dp_desc</a>, <b>sizeof</b> <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/2506.html' title='Multiple used in 33 places.'>dp_desc</a>,"%s pid=%u",<a href='../Y/3672.html' title='Multiple used in 3 places.'>hostnametmp</a>, <a href='../Y/3426.html' title='Multiple used in 12 places.'>getpid</a>());
<a name='L365'> 365     <font color='red'>}</font>
<a name='L366'> 366 
<a name='L367'> 367     *<a href='../Y/2500.html' title='Multiple used in 2 places.'>dp_</a> = <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>;
<a name='L368'> 368     <b>return</b> 0;
<a name='L369'> 369 <font color='red'>}</font>
<a name='L370'> 370 
<a name='L371'> 371 <b>static</b> <b>int</b>
<a name='L372'> 372 <a href='../R/3618.html' title='Multiple refered from 3 places.'>new_port</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/7182.html' title='Multiple used in 14 places.'>sw_port</a> *<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>, <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>,
<a name='L373'> 373          <b>const</b> <b>char</b> *<a href='../Y/4716.html' title='Multiple used in 32 places.'>netdev_name</a>, <b>const</b> <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> *<a href='../Y/4764.html' title='Multiple used in 4 places.'>new_mac</a>, <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/4996.html' title='Multiple used in 24 places.'>num_queues</a>)
<a name='L374'> 374 <font color='red'>{</font>
<a name='L375'> 375     <b>struct</b> <a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a> *<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>;
<a name='L376'> 376     <b>struct</b> <a href='../Y/3762.html' title='Multiple used in 7 places.'>in6_addr</a> <a href='../Y/3761.html' title='Multiple used in 15 places.'>in6</a>;
<a name='L377'> 377     <b>struct</b> <a href='../Y/3768.html' title='Multiple used in 89 places.'>in_addr</a> <a href='../Y/3760.html' title='Multiple used in 6 places.'>in4</a>;
<a name='L378'> 378     <b>int</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L379'> 379 
<a name='L380'> 380     <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../S/851.html#L628' title='Defined at 628 in cbench/openflow/lib/netdev.c.'>netdev_open</a>(<a href='../Y/4716.html' title='Multiple used in 32 places.'>netdev_name</a>, <a href='../S/814.html#L67' title='Defined at 67 in cbench/openflow/lib/netdev.h.'>NETDEV_ETH_TYPE_ANY</a>, &amp;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>);
<a name='L381'> 381     <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>) <font color='red'>{</font>
<a name='L382'> 382         <b>return</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L383'> 383     <font color='red'>}</font>
<a name='L384'> 384     <b>if</b> (<a href='../Y/4764.html' title='Multiple used in 4 places.'>new_mac</a> &amp;&amp; !<a href='../S/860.html#L63' title='Defined at 63 in cbench/openflow/lib/packets.h.'>eth_addr_equals</a>(<a href='../S/851.html#L1036' title='Defined at 1036 in cbench/openflow/lib/netdev.c.'>netdev_get_etheraddr</a>(<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>), <a href='../Y/4764.html' title='Multiple used in 4 places.'>new_mac</a>)) <font color='red'>{</font>
<a name='L385'> 385         <i><font color='green'>/* Generally the device has to be down before we change its hardware</font></i>
<a name='L386'> 386 <i><font color='green'>         * address.  Don't bother to check for an error because it's really</font></i>
<a name='L387'> 387 <i><font color='green'>         * the netdev_set_etheraddr() call below that we care about. */</font></i>
<a name='L388'> 388         <a href='../S/851.html#L1231' title='Defined at 1231 in cbench/openflow/lib/netdev.c.'>netdev_set_flags</a>(<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>, 0, <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>);
<a name='L389'> 389         <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../S/851.html#L1016' title='Defined at 1016 in cbench/openflow/lib/netdev.c.'>netdev_set_etheraddr</a>(<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>, <a href='../Y/4764.html' title='Multiple used in 4 places.'>new_mac</a>);
<a name='L390'> 390         <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>) <font color='red'>{</font>
<a name='L391'> 391             <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("failed to change %s Ethernet address "
<a name='L392'> 392                       "to "<a href='../S/860.html#L104' title='Defined at 104 in cbench/openflow/lib/packets.h.'>ETH_ADDR_FMT</a>": %s",
<a name='L393'> 393                       <a href='../Y/4716.html' title='Multiple used in 32 places.'>netdev_name</a>, <a href='../S/860.html#L106' title='Defined at 106 in cbench/openflow/lib/packets.h.'>ETH_ADDR_ARGS</a>(<a href='../Y/4764.html' title='Multiple used in 4 places.'>new_mac</a>), <a href='../Y/7090.html' title='Multiple used in 143 places.'>strerror</a>(<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>));
<a name='L394'> 394         <font color='red'>}</font>
<a name='L395'> 395     <font color='red'>}</font>
<a name='L396'> 396     <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../S/851.html#L1231' title='Defined at 1231 in cbench/openflow/lib/netdev.c.'>netdev_set_flags</a>(<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>, <a href='../S/814.html#L60' title='Defined at 60 in cbench/openflow/lib/netdev.h.'>NETDEV_UP</a> | <a href='../S/814.html#L61' title='Defined at 61 in cbench/openflow/lib/netdev.h.'>NETDEV_PROMISC</a>, <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>);
<a name='L397'> 397     <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>) <font color='red'>{</font>
<a name='L398'> 398         <a href='../S/859.html#L150' title='Defined at 150 in cbench/openflow/lib/vlog.h.'>VLOG_ERR</a>("failed to set promiscuous mode on %s device", <a href='../Y/4716.html' title='Multiple used in 32 places.'>netdev_name</a>);
<a name='L399'> 399         <a href='../S/851.html#L821' title='Defined at 821 in cbench/openflow/lib/netdev.c.'>netdev_close</a>(<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>);
<a name='L400'> 400         <b>return</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L401'> 401     <font color='red'>}</font>
<a name='L402'> 402     <b>if</b> (<a href='../S/851.html#L1082' title='Defined at 1082 in cbench/openflow/lib/netdev.c.'>netdev_get_in4</a>(<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>, &amp;<a href='../Y/3760.html' title='Multiple used in 6 places.'>in4</a>)) <font color='red'>{</font>
<a name='L403'> 403         <a href='../S/859.html#L150' title='Defined at 150 in cbench/openflow/lib/vlog.h.'>VLOG_ERR</a>("%s device has assigned IP address %s",
<a name='L404'> 404                  <a href='../Y/4716.html' title='Multiple used in 32 places.'>netdev_name</a>, <a href='../Y/3805.html' title='Multiple used in 52 places.'>inet_ntoa</a>(<a href='../Y/3760.html' title='Multiple used in 6 places.'>in4</a>));
<a name='L405'> 405     <font color='red'>}</font>
<a name='L406'> 406     <b>if</b> (<a href='../S/851.html#L1171' title='Defined at 1171 in cbench/openflow/lib/netdev.c.'>netdev_get_in6</a>(<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>, &amp;<a href='../Y/3761.html' title='Multiple used in 15 places.'>in6</a>)) <font color='red'>{</font>
<a name='L407'> 407         <b>char</b> <a href='../Y/3763.html' title='Multiple used in 3 places.'>in6_name</a>[INET6_ADDRSTRLEN + 1];
<a name='L408'> 408         <a href='../Y/3806.html' title='Multiple used in 2 places.'>inet_ntop</a>(<a href='../S/559.html#L42' title='Defined at 42 in cbench/openflow/utilities/wireshark_dissectors/wireshark-1.0.0-includes/inet_v6defs.h.'>AF_INET6</a>, &amp;<a href='../Y/3761.html' title='Multiple used in 15 places.'>in6</a>, <a href='../Y/3763.html' title='Multiple used in 3 places.'>in6_name</a>, <b>sizeof</b> <a href='../Y/3763.html' title='Multiple used in 3 places.'>in6_name</a>);
<a name='L409'> 409         <a href='../S/859.html#L150' title='Defined at 150 in cbench/openflow/lib/vlog.h.'>VLOG_ERR</a>("%s device has assigned IPv6 address %s",
<a name='L410'> 410                  <a href='../Y/4716.html' title='Multiple used in 32 places.'>netdev_name</a>, <a href='../Y/3763.html' title='Multiple used in 3 places.'>in6_name</a>);
<a name='L411'> 411     <font color='red'>}</font>
<a name='L412'> 412 
<a name='L413'> 413     <b>if</b> (<a href='../Y/4996.html' title='Multiple used in 24 places.'>num_queues</a> &gt; 0) <font color='red'>{</font>
<a name='L414'> 414         <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../S/851.html#L431' title='Defined at 431 in cbench/openflow/lib/netdev.c.'>netdev_setup_slicing</a>(<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>, <a href='../Y/4996.html' title='Multiple used in 24 places.'>num_queues</a>);
<a name='L415'> 415         <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>) <font color='red'>{</font>
<a name='L416'> 416             <a href='../S/859.html#L150' title='Defined at 150 in cbench/openflow/lib/vlog.h.'>VLOG_ERR</a>("failed to configure slicing on %s device: "\
<a name='L417'> 417                      "check INSTALL for dependencies, or rerun "\
<a name='L418'> 418                      "using --no-slicing option to disable slicing",
<a name='L419'> 419                      <a href='../Y/4716.html' title='Multiple used in 32 places.'>netdev_name</a>);
<a name='L420'> 420             <a href='../S/851.html#L821' title='Defined at 821 in cbench/openflow/lib/netdev.c.'>netdev_close</a>(<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>);
<a name='L421'> 421             <b>return</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L422'> 422         <font color='red'>}</font>
<a name='L423'> 423     <font color='red'>}</font>
<a name='L424'> 424 
<a name='L425'> 425     <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>, '\0', <b>sizeof</b> *<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>);
<a name='L426'> 426 
<a name='L427'> 427     <a href='../S/845.html#L39' title='Defined at 39 in cbench/openflow/lib/list.c.'>list_init</a>(&amp;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/6212.html' title='Multiple used in 8 places.'>queue_list</a>);
<a name='L428'> 428     <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a> = <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>;
<a name='L429'> 429     <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> |= <a href='../S/201.html#L72' title='Defined at 72 in cbench/openflow/udatapath/datapath.h.'>SWP_USED</a>;
<a name='L430'> 430     <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a> = <a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>;
<a name='L431'> 431     <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> = <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>;
<a name='L432'> 432     <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/4996.html' title='Multiple used in 24 places.'>num_queues</a> = <a href='../Y/4996.html' title='Multiple used in 24 places.'>num_queues</a>;
<a name='L433'> 433     <a href='../S/845.html#L85' title='Defined at 85 in cbench/openflow/lib/list.c.'>list_push_back</a>(&amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/5817.html' title='Multiple used in 29 places.'>port_list</a>, &amp;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>);
<a name='L434'> 434 
<a name='L435'> 435     <i><font color='green'>/* Notify the ctlpath that this port has been added */</font></i>
<a name='L436'> 436     <a href='../S/204.html#L1076' title='Defined at 1076 in cbench/openflow/udatapath/datapath.c.'>send_port_status</a>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>, <a href='../D/3569.html' title='Multiple defined in 3 places.'>OFPPR_ADD</a>);
<a name='L437'> 437 
<a name='L438'> 438     <b>return</b> 0;
<a name='L439'> 439 <font color='red'>}</font>
<a name='L440'> 440 
<a name='L441'> 441 <font color='darkred'>#if</font> <b>defined</b>(<a href='../Y/623.html' title='Multiple used in 18 places.'>OF_HW_PLAT</a>) &amp;&amp; !<b>defined</b>(<a href='../Y/993.html' title='Multiple used in 11 places.'>USE_NETDEV</a>)
<a name='L442'> 442 <b>int</b>
<a name='L443'> 443 <a href='../R/2766.html' title='Multiple refered from 2 places.'>dp_add_port</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>char</b> *<a href='../Y/5821.html' title='Multiple used in 7 places.'>port_name</a>, <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/4996.html' title='Multiple used in 24 places.'>num_queues</a>)
<a name='L444'> 444 <font color='red'>{</font>
<a name='L445'> 445     <b>int</b> <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>;
<a name='L446'> 446     <b>int</b> <a href='../Y/6257.html' title='Multiple used in 293 places.'>rc</a> = 0;
<a name='L447'> 447     <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>;
<a name='L448'> 448 
<a name='L449'> 449     <a href='../Y/3207.html' title='Multiple used in 289 places.'>fprintf</a>(<a href='../Y/7049.html' title='Multiple used in 246 places.'>stderr</a>, "Adding port %s. hw_drv is %p\n", <a href='../Y/5821.html' title='Multiple used in 7 places.'>port_name</a>, <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>);
<a name='L450'> 450     <b>if</b> (<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a> &amp;&amp; <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>-&gt;<a href='../Y/5795.html' title='Multiple used in 5 places.'>port_add</a>) <font color='red'>{</font>
<a name='L451'> 451         <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> = <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>-&gt;<a href='../Y/5795.html' title='Multiple used in 5 places.'>port_add</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>, -1, <a href='../Y/5821.html' title='Multiple used in 7 places.'>port_name</a>);
<a name='L452'> 452         <b>if</b> (<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> &gt;= 0) <font color='red'>{</font>
<a name='L453'> 453             <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> = &amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>[<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>];
<a name='L454'> 454             <b>if</b> (<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> &amp; <a href='../S/201.html#L72' title='Defined at 72 in cbench/openflow/udatapath/datapath.h.'>SWP_USED</a>) <font color='red'>{</font>
<a name='L455'> 455                 <a href='../S/859.html#L150' title='Defined at 150 in cbench/openflow/lib/vlog.h.'>VLOG_ERR</a>("HW port %s (%d) already created\n",
<a name='L456'> 456                           <a href='../Y/5821.html' title='Multiple used in 7 places.'>port_name</a>, <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L457'> 457                 <a href='../Y/6257.html' title='Multiple used in 293 places.'>rc</a> = -1;
<a name='L458'> 458             <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L459'> 459                 <a href='../Y/3207.html' title='Multiple used in 289 places.'>fprintf</a>(<a href='../Y/7049.html' title='Multiple used in 246 places.'>stderr</a>, "Adding HW port %s as OF port number %d\n",
<a name='L460'> 460                        <a href='../Y/5821.html' title='Multiple used in 7 places.'>port_name</a>, <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L461'> 461                 <i><font color='green'>/* FIXME: Determine and record HW addr, etc */</font></i>
<a name='L462'> 462                 <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> |= <a href='../S/201.html#L72' title='Defined at 72 in cbench/openflow/udatapath/datapath.h.'>SWP_USED</a> | <a href='../S/201.html#L73' title='Defined at 73 in cbench/openflow/udatapath/datapath.h.'>SWP_HW_DRV_PORT</a>;
<a name='L463'> 463                 <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a> = <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>;
<a name='L464'> 464                 <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> = <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>;
<a name='L465'> 465                 <a href='../S/845.html#L39' title='Defined at 39 in cbench/openflow/lib/list.c.'>list_init</a>(&amp;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/6212.html' title='Multiple used in 8 places.'>queue_list</a>);
<a name='L466'> 466                 <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/4996.html' title='Multiple used in 24 places.'>num_queues</a> = <a href='../Y/4996.html' title='Multiple used in 24 places.'>num_queues</a>;
<a name='L467'> 467                 <a href='../Y/7102.html' title='Multiple used in 59 places.'>strncpy</a>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/3691.html' title='Multiple used in 8 places.'>hw_name</a>, <a href='../Y/5821.html' title='Multiple used in 7 places.'>port_name</a>, <b>sizeof</b>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/3691.html' title='Multiple used in 8 places.'>hw_name</a>));
<a name='L468'> 468                 <a href='../S/845.html#L85' title='Defined at 85 in cbench/openflow/lib/list.c.'>list_push_back</a>(&amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/5817.html' title='Multiple used in 29 places.'>port_list</a>, &amp;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>);
<a name='L469'> 469                 <a href='../S/204.html#L1076' title='Defined at 1076 in cbench/openflow/udatapath/datapath.c.'>send_port_status</a>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>, <a href='../D/3569.html' title='Multiple defined in 3 places.'>OFPPR_ADD</a>);
<a name='L470'> 470             <font color='red'>}</font>
<a name='L471'> 471         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L472'> 472             <a href='../S/859.html#L150' title='Defined at 150 in cbench/openflow/lib/vlog.h.'>VLOG_ERR</a>("Port %s not recognized by hardware driver", <a href='../Y/5821.html' title='Multiple used in 7 places.'>port_name</a>);
<a name='L473'> 473             <a href='../Y/6257.html' title='Multiple used in 293 places.'>rc</a> = -1;
<a name='L474'> 474         <font color='red'>}</font>
<a name='L475'> 475     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L476'> 476         <a href='../S/859.html#L150' title='Defined at 150 in cbench/openflow/lib/vlog.h.'>VLOG_ERR</a>("No hardware driver support; can't add ports");
<a name='L477'> 477         <a href='../Y/6257.html' title='Multiple used in 293 places.'>rc</a> = -1;
<a name='L478'> 478     <font color='red'>}</font>
<a name='L479'> 479 
<a name='L480'> 480     <b>return</b> <a href='../Y/6257.html' title='Multiple used in 293 places.'>rc</a>;
<a name='L481'> 481 <font color='red'>}</font>
<a name='L482'> 482 <font color='darkred'>#else</font> <i><font color='green'>/* Not HW platform support */</font></i>
<a name='L483'> 483 <b>int</b>
<a name='L484'> 484 <a href='../R/2766.html' title='Multiple refered from 2 places.'>dp_add_port</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>char</b> *<a href='../Y/4709.html' title='Multiple used in 79 places.'>netdev</a>, <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/4996.html' title='Multiple used in 24 places.'>num_queues</a>)
<a name='L485'> 485 <font color='red'>{</font>
<a name='L486'> 486     <b>int</b> <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>;
<a name='L487'> 487     <b>for</b> (<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> = 1; <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> &lt; <a href='../D/1464.html' title='Multiple defined in 2 places.'>DP_MAX_PORTS</a>; <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>++) <font color='red'>{</font>
<a name='L488'> 488         <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> = &amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>[<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>];
<a name='L489'> 489         <b>if</b> (!<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>) <font color='red'>{</font>
<a name='L490'> 490             <b>return</b> <a href='../D/8483.html' title='Multiple defined in 2 places.'>new_port</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>, <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>, <a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>, <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>, <a href='../Y/4996.html' title='Multiple used in 24 places.'>num_queues</a>);
<a name='L491'> 491         <font color='red'>}</font>
<a name='L492'> 492     <font color='red'>}</font>
<a name='L493'> 493     <b>return</b> <a href='../Y/312.html' title='Multiple used in 5 places.'>EXFULL</a>;
<a name='L494'> 494 <font color='red'>}</font>
<a name='L495'> 495 <font color='darkred'>#endif</font> <i><font color='green'>/* OF_HW_PLAT */</font></i>
<a name='L496'> 496 
<a name='L497'> 497 <b>int</b>
<a name='L498'> 498 <a href='../R/2765.html' title='Multiple refered from 2 places.'>dp_add_local_port</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>char</b> *<a href='../Y/4709.html' title='Multiple used in 79 places.'>netdev</a>, <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/4996.html' title='Multiple used in 24 places.'>num_queues</a>)
<a name='L499'> 499 <font color='red'>{</font>
<a name='L500'> 500     <b>if</b> (!<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4196.html' title='Multiple used in 23 places.'>local_port</a>) <font color='red'>{</font>
<a name='L501'> 501         <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/2621.html' title='Multiple used in 55 places.'>ea</a>[<a href='../S/860.html#L42' title='Defined at 42 in cbench/openflow/lib/packets.h.'>ETH_ADDR_LEN</a>];
<a name='L502'> 502         <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>;
<a name='L503'> 503         <b>int</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L504'> 504 
<a name='L505'> 505         <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> = <a href='../S/878.html#L51' title='Defined at 51 in cbench/openflow/lib/util.c.'>xcalloc</a>(1, <b>sizeof</b> *<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>);
<a name='L506'> 506         <a href='../S/860.html#L77' title='Defined at 77 in cbench/openflow/lib/packets.h.'>eth_addr_from_uint64</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a>, <a href='../Y/2621.html' title='Multiple used in 55 places.'>ea</a>);
<a name='L507'> 507         <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../D/8483.html' title='Multiple defined in 2 places.'>new_port</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>, <a href='../D/3585.html' title='Multiple defined in 3 places.'>OFPP_LOCAL</a>, <a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>, <a href='../Y/2621.html' title='Multiple used in 55 places.'>ea</a>, <a href='../Y/4996.html' title='Multiple used in 24 places.'>num_queues</a>);
<a name='L508'> 508         <b>if</b> (!<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>) <font color='red'>{</font>
<a name='L509'> 509             <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4196.html' title='Multiple used in 23 places.'>local_port</a> = <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>;
<a name='L510'> 510         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L511'> 511             <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>);
<a name='L512'> 512         <font color='red'>}</font>
<a name='L513'> 513         <b>return</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L514'> 514     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L515'> 515         <b>return</b> <a href='../Y/312.html' title='Multiple used in 5 places.'>EXFULL</a>;
<a name='L516'> 516     <font color='red'>}</font>
<a name='L517'> 517 <font color='red'>}</font>
<a name='L518'> 518 
<a name='L519'> 519 <b>void</b>
<a name='L520'> 520 <a href='../R/2767.html' title='Multiple refered from 2 places.'>dp_add_pvconn</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/6174.html' title='Multiple used in 31 places.'>pvconn</a> *<a href='../Y/6174.html' title='Multiple used in 31 places.'>pvconn</a>)
<a name='L521'> 521 <font color='red'>{</font>
<a name='L522'> 522     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4172.html' title='Multiple used in 18 places.'>listeners</a> = <a href='../S/878.html#L71' title='Defined at 71 in cbench/openflow/lib/util.c.'>xrealloc</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4172.html' title='Multiple used in 18 places.'>listeners</a>,
<a name='L523'> 523                              <b>sizeof</b> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4172.html' title='Multiple used in 18 places.'>listeners</a> * (<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4597.html' title='Multiple used in 33 places.'>n_listeners</a> + 1));
<a name='L524'> 524     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4172.html' title='Multiple used in 18 places.'>listeners</a>[<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4597.html' title='Multiple used in 33 places.'>n_listeners</a>++] = <a href='../S/895.html#L134' title='Defined at 134 in cbench/openflow/lib/vconn-provider.h.'>pvconn</a>;
<a name='L525'> 525 <font color='red'>}</font>
<a name='L526'> 526 
<a name='L527'> 527 <b>void</b>
<a name='L528'> 528 <a href='../R/2802.html' title='Multiple refered from 2 places.'>dp_run</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>)
<a name='L529'> 529 <font color='red'>{</font>
<a name='L530'> 530     <a href='../Y/7369.html' title='Multiple used in 80 places.'>time_t</a> <a href='../Y/4938.html' title='Multiple used in 566 places.'>now</a> = <a href='../S/902.html#L108' title='Defined at 108 in cbench/openflow/lib/timeval.c.'>time_now</a>();
<a name='L531'> 531     <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, *<a href='../Y/5775.html' title='Multiple used in 3 places.'>pn</a>;
<a name='L532'> 532     <b>struct</b> <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> *<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>, *<a href='../Y/6454.html' title='Multiple used in 3 places.'>rn</a>;
<a name='L533'> 533     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L534'> 534     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>;
<a name='L535'> 535 
<a name='L536'> 536     <b>if</b> (<a href='../Y/4938.html' title='Multiple used in 566 places.'>now</a> != <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4094.html' title='Multiple used in 4 places.'>last_timeout</a>) <font color='red'>{</font>
<a name='L537'> 537         <b>struct</b> <a href='../S/916.html#L43' title='Defined at 43 in cbench/openflow/lib/list.h.'>list</a> <a href='../Y/2322.html' title='Multiple used in 29 places.'>deleted</a> = <a href='../S/916.html#L49' title='Defined at 49 in cbench/openflow/lib/list.h.'>LIST_INITIALIZER</a>(&amp;<a href='../Y/2322.html' title='Multiple used in 29 places.'>deleted</a>);
<a name='L538'> 538         <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a> *<a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>, *<a href='../Y/4560.html' title='Multiple used in 375 places.'>n</a>;
<a name='L539'> 539 
<a name='L540'> 540         <a href='../D/7050.html' title='Multiple defined in 2 places.'>chain_timeout</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>, &amp;<a href='../Y/2322.html' title='Multiple used in 29 places.'>deleted</a>);
<a name='L541'> 541         <a href='../S/916.html#L81' title='Defined at 81 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH_SAFE</a> (<a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>, <a href='../Y/4560.html' title='Multiple used in 375 places.'>n</a>, <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/2322.html' title='Multiple used in 29 places.'>deleted</a>) <font color='red'>{</font>
<a name='L542'> 542             <a href='../D/7551.html' title='Multiple defined in 2 places.'>dp_send_flow_end</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>, <a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>-&gt;<a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>);
<a name='L543'> 543             <a href='../S/845.html#L104' title='Defined at 104 in cbench/openflow/lib/list.c.'>list_remove</a>(&amp;<a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>);
<a name='L544'> 544             <a href='../D/7843.html' title='Multiple defined in 2 places.'>flow_free</a>(<a href='../Y/2979.html' title='Multiple used in 135 places.'>f</a>);
<a name='L545'> 545         <font color='red'>}</font>
<a name='L546'> 546         <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4094.html' title='Multiple used in 4 places.'>last_timeout</a> = <a href='../Y/4938.html' title='Multiple used in 566 places.'>now</a>;
<a name='L547'> 547     <font color='red'>}</font>
<a name='L548'> 548     <a href='../S/854.html#L106' title='Defined at 106 in cbench/openflow/lib/poll-loop.c.'>poll_timer_wait</a>(1000);
<a name='L549'> 549 
<a name='L550'> 550 <font color='darkred'>#if</font> <b>defined</b>(<a href='../Y/623.html' title='Multiple used in 18 places.'>OF_HW_PLAT</a>) &amp;&amp; !<b>defined</b>(<a href='../Y/993.html' title='Multiple used in 11 places.'>USE_NETDEV</a>)
<a name='L551'> 551     <font color='red'>{</font> <i><font color='green'>/* Process packets received from callback thread */</font></i>
<a name='L552'> 552         <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L553'> 553         <a href='../S/183.html#L68' title='Defined at 68 in cbench/openflow/include/openflow/of_hw_api.h.'>of_port_t</a> <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>;
<a name='L554'> 554         <b>int</b> <a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>;
<a name='L555'> 555         <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L556'> 556 
<a name='L557'> 557         <b>while</b> (<a href='../S/204.html#L104' title='Defined at 104 in cbench/openflow/udatapath/datapath.c.'>dequeue_pkt</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, &amp;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, &amp;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>, &amp;<a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>)) <font color='red'>{</font>
<a name='L558'> 558             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = <a href='../S/204.html#L213' title='Defined at 213 in cbench/openflow/udatapath/datapath.c.'>dp_lookup_port</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L559'> 559             <i><font color='green'>/* FIXME:  We're throwing away the reason that came from HW */</font></i>
<a name='L560'> 560             <a href='../D/7910.html' title='Multiple defined in 2 places.'>fwd_port_input</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L561'> 561         <font color='red'>}</font>
<a name='L562'> 562     <font color='red'>}</font>
<a name='L563'> 563 <font color='darkred'>#endif</font>
<a name='L564'> 564 
<a name='L565'> 565     <a href='../S/916.html#L81' title='Defined at 81 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH_SAFE</a> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../Y/5775.html' title='Multiple used in 3 places.'>pn</a>, <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/5817.html' title='Multiple used in 29 places.'>port_list</a>) <font color='red'>{</font>
<a name='L566'> 566         <b>int</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L567'> 567 
<a name='L568'> 568         <b>if</b> (<a href='../D/2291.html' title='Multiple defined in 2 places.'>IS_HW_PORT</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L569'> 569             <b>continue</b>;
<a name='L570'> 570         <font color='red'>}</font>
<a name='L571'> 571         <b>if</b> (!<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>) <font color='red'>{</font>
<a name='L572'> 572             <i><font color='green'>/* Allocate buffer with some headroom to add headers in forwarding</font></i>
<a name='L573'> 573 <i><font color='green'>             * to the controller or adding a vlan tag, plus an extra 2 bytes to</font></i>
<a name='L574'> 574 <i><font color='green'>             * allow IP headers to be aligned on a 4-byte boundary.  */</font></i>
<a name='L575'> 575             <b>const</b> <b>int</b> <a href='../Y/3598.html' title='Multiple used in 13 places.'>headroom</a> = 128 + 2;
<a name='L576'> 576             <b>const</b> <b>int</b> <a href='../Y/3539.html' title='Multiple used in 4 places.'>hard_header</a> = <a href='../S/860.html#L166' title='Defined at 166 in cbench/openflow/lib/packets.h.'>VLAN_ETH_HEADER_LEN</a>;
<a name='L577'> 577             <b>const</b> <b>int</b> <a href='../Y/4539.html' title='Multiple used in 9 places.'>mtu</a> = <a href='../S/851.html#L1053' title='Defined at 1053 in cbench/openflow/lib/netdev.c.'>netdev_get_mtu</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>);
<a name='L578'> 578             <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../S/887.html#L87' title='Defined at 87 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_new</a>(<a href='../Y/3598.html' title='Multiple used in 13 places.'>headroom</a> + <a href='../Y/3539.html' title='Multiple used in 4 places.'>hard_header</a> + <a href='../Y/4539.html' title='Multiple used in 9 places.'>mtu</a>);
<a name='L579'> 579             <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a> = (<b>char</b>*)<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a> + <a href='../Y/3598.html' title='Multiple used in 13 places.'>headroom</a>;
<a name='L580'> 580         <font color='red'>}</font>
<a name='L581'> 581         <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../S/851.html#L875' title='Defined at 875 in cbench/openflow/lib/netdev.c.'>netdev_recv</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L582'> 582         <b>if</b> (!<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>) <font color='red'>{</font>
<a name='L583'> 583             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/6526.html' title='Multiple used in 32 places.'>rx_packets</a>++;
<a name='L584'> 584             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/6515.html' title='Multiple used in 32 places.'>rx_bytes</a> += <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>;
<a name='L585'> 585             <a href='../D/7910.html' title='Multiple defined in 2 places.'>fwd_port_input</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L586'> 586             <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L587'> 587         <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> != <a href='../Y/259.html' title='Multiple used in 75 places.'>EAGAIN</a>) <font color='red'>{</font>
<a name='L588'> 588             <a href='../S/859.html#L170' title='Defined at 170 in cbench/openflow/lib/vlog.h.'>VLOG_ERR_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "error receiving data from %s: %s",
<a name='L589'> 589                         <a href='../S/851.html#L1044' title='Defined at 1044 in cbench/openflow/lib/netdev.c.'>netdev_get_name</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>), <a href='../Y/7090.html' title='Multiple used in 143 places.'>strerror</a>(<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>));
<a name='L590'> 590         <font color='red'>}</font>
<a name='L591'> 591     <font color='red'>}</font>
<a name='L592'> 592     <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L593'> 593 
<a name='L594'> 594     <i><font color='green'>/* Talk to remotes. */</font></i>
<a name='L595'> 595     <a href='../S/916.html#L81' title='Defined at 81 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH_SAFE</a> (<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>, <a href='../Y/6454.html' title='Multiple used in 3 places.'>rn</a>, <b>struct</b> <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/6375.html' title='Multiple used in 6 places.'>remotes</a>) <font color='red'>{</font>
<a name='L596'> 596         <a href='../S/204.html#L615' title='Defined at 615 in cbench/openflow/udatapath/datapath.c.'>remote_run</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>);
<a name='L597'> 597     <font color='red'>}</font>
<a name='L598'> 598 
<a name='L599'> 599     <b>for</b> (<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> = 0; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> &lt; <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4597.html' title='Multiple used in 33 places.'>n_listeners</a>; ) <font color='red'>{</font>
<a name='L600'> 600         <b>struct</b> <a href='../S/895.html#L134' title='Defined at 134 in cbench/openflow/lib/vconn-provider.h.'>pvconn</a> *<a href='../S/895.html#L134' title='Defined at 134 in cbench/openflow/lib/vconn-provider.h.'>pvconn</a> = <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4172.html' title='Multiple used in 18 places.'>listeners</a>[<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>];
<a name='L601'> 601         <b>struct</b> <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a> *<a href='../Y/4790.html' title='Multiple used in 12 places.'>new_vconn</a>;
<a name='L602'> 602         <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../S/881.html#L749' title='Defined at 749 in cbench/openflow/lib/vconn.c.'>pvconn_accept</a>(<a href='../S/895.html#L134' title='Defined at 134 in cbench/openflow/lib/vconn-provider.h.'>pvconn</a>, <a href='../Y/621.html' title='Multiple used in 78 places.'>OFP_VERSION</a>, &amp;<a href='../Y/4790.html' title='Multiple used in 12 places.'>new_vconn</a>);
<a name='L603'> 603         <b>if</b> (!<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>) <font color='red'>{</font>
<a name='L604'> 604             <a href='../S/204.html#L687' title='Defined at 687 in cbench/openflow/udatapath/datapath.c.'>remote_create</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../S/849.html#L167' title='Defined at 167 in cbench/openflow/lib/rconn.c.'>rconn_new_from_vconn</a>("passive", <a href='../Y/4790.html' title='Multiple used in 12 places.'>new_vconn</a>));
<a name='L605'> 605         <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> != <a href='../Y/259.html' title='Multiple used in 75 places.'>EAGAIN</a>) <font color='red'>{</font>
<a name='L606'> 606             <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "accept failed (%s)", <a href='../Y/7090.html' title='Multiple used in 143 places.'>strerror</a>(<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>));
<a name='L607'> 607             <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4172.html' title='Multiple used in 18 places.'>listeners</a>[<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>] = <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4172.html' title='Multiple used in 18 places.'>listeners</a>[--<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4597.html' title='Multiple used in 33 places.'>n_listeners</a>];
<a name='L608'> 608             <b>continue</b>;
<a name='L609'> 609         <font color='red'>}</font>
<a name='L610'> 610         <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>++;
<a name='L611'> 611     <font color='red'>}</font>
<a name='L612'> 612 <font color='red'>}</font>
<a name='L613'> 613 
<a name='L614'> 614 <b>static</b> <b>void</b>
<a name='L615'> 615 <a href='../R/4358.html' title='Multiple refered from 2 places.'>remote_run</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/6370.html' title='Multiple used in 18 places.'>remote</a> *<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>)
<a name='L616'> 616 <font color='red'>{</font>
<a name='L617'> 617     <b>int</b> <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>;
<a name='L618'> 618 
<a name='L619'> 619     <a href='../S/849.html#L438' title='Defined at 438 in cbench/openflow/lib/rconn.c.'>rconn_run</a>(<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../S/849.html#L79' title='Defined at 79 in cbench/openflow/lib/rconn.c.'>rconn</a>);
<a name='L620'> 620 
<a name='L621'> 621     <i><font color='green'>/* Do some remote processing, but cap it at a reasonable amount so that</font></i>
<a name='L622'> 622 <i><font color='green'>     * other processing doesn't starve. */</font></i>
<a name='L623'> 623     <b>for</b> (<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> = 0; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> &lt; 50; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>++) <font color='red'>{</font>
<a name='L624'> 624         <b>if</b> (!<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../Y/1822.html' title='Multiple used in 8 places.'>cb_dump</a>) <font color='red'>{</font>
<a name='L625'> 625             <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L626'> 626             <b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>;
<a name='L627'> 627 
<a name='L628'> 628             <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../S/849.html#L474' title='Defined at 474 in cbench/openflow/lib/rconn.c.'>rconn_recv</a>(<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../S/849.html#L79' title='Defined at 79 in cbench/openflow/lib/rconn.c.'>rconn</a>);
<a name='L629'> 629             <b>if</b> (!<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>) <font color='red'>{</font>
<a name='L630'> 630                 <b>break</b>;
<a name='L631'> 631             <font color='red'>}</font>
<a name='L632'> 632 
<a name='L633'> 633             <b>if</b> (<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> &gt;= <b>sizeof</b> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>) <font color='red'>{</font>
<a name='L634'> 634                 <b>struct</b> <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a> <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>;
<a name='L635'> 635 
<a name='L636'> 636                 <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a> = (<b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a> *)<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>;
<a name='L637'> 637                 <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>.<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> = <a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>;
<a name='L638'> 638                 <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>.<a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a> = <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a>;
<a name='L639'> 639                 <a href='../D/7907.html' title='Multiple defined in 2 places.'>fwd_control_input</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, &amp;<a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L640'> 640             <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L641'> 641                 <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "received too-short OpenFlow message");
<a name='L642'> 642             <font color='red'>}</font>
<a name='L643'> 643             <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L644'> 644         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L645'> 645             <b>if</b> (<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../Y/4623.html' title='Multiple used in 13 places.'>n_txq</a> &lt; <a href='../S/204.html#L168' title='Defined at 168 in cbench/openflow/udatapath/datapath.c.'>TXQ_LIMIT</a>) <font color='red'>{</font>
<a name='L646'> 646                 <b>int</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../Y/1822.html' title='Multiple used in 8 places.'>cb_dump</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../Y/1820.html' title='Multiple used in 5 places.'>cb_aux</a>);
<a name='L647'> 647                 <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> &lt;= 0) <font color='red'>{</font>
<a name='L648'> 648                     <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>) <font color='red'>{</font>
<a name='L649'> 649                         <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "dump callback error: %s",
<a name='L650'> 650                                      <a href='../Y/7090.html' title='Multiple used in 143 places.'>strerror</a>(-<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>));
<a name='L651'> 651                     <font color='red'>}</font>
<a name='L652'> 652                     <a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../Y/1821.html' title='Multiple used in 5 places.'>cb_done</a>(<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../Y/1820.html' title='Multiple used in 5 places.'>cb_aux</a>);
<a name='L653'> 653                     <a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../Y/1822.html' title='Multiple used in 8 places.'>cb_dump</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L654'> 654                 <font color='red'>}</font>
<a name='L655'> 655             <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L656'> 656                 <b>break</b>;
<a name='L657'> 657             <font color='red'>}</font>
<a name='L658'> 658         <font color='red'>}</font>
<a name='L659'> 659     <font color='red'>}</font>
<a name='L660'> 660 
<a name='L661'> 661     <b>if</b> (!<a href='../S/849.html#L617' title='Defined at 617 in cbench/openflow/lib/rconn.c.'>rconn_is_alive</a>(<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../S/849.html#L79' title='Defined at 79 in cbench/openflow/lib/rconn.c.'>rconn</a>)) <font color='red'>{</font>
<a name='L662'> 662         <a href='../S/204.html#L674' title='Defined at 674 in cbench/openflow/udatapath/datapath.c.'>remote_destroy</a>(<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>);
<a name='L663'> 663     <font color='red'>}</font>
<a name='L664'> 664 <font color='red'>}</font>
<a name='L665'> 665 
<a name='L666'> 666 <b>static</b> <b>void</b>
<a name='L667'> 667 <a href='../R/4360.html' title='Multiple refered from 2 places.'>remote_wait</a>(<b>struct</b> <a href='../Y/6370.html' title='Multiple used in 18 places.'>remote</a> *<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>)
<a name='L668'> 668 <font color='red'>{</font>
<a name='L669'> 669     <a href='../S/849.html#L456' title='Defined at 456 in cbench/openflow/lib/rconn.c.'>rconn_run_wait</a>(<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../S/849.html#L79' title='Defined at 79 in cbench/openflow/lib/rconn.c.'>rconn</a>);
<a name='L670'> 670     <a href='../S/849.html#L515' title='Defined at 515 in cbench/openflow/lib/rconn.c.'>rconn_recv_wait</a>(<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../S/849.html#L79' title='Defined at 79 in cbench/openflow/lib/rconn.c.'>rconn</a>);
<a name='L671'> 671 <font color='red'>}</font>
<a name='L672'> 672 
<a name='L673'> 673 <b>static</b> <b>void</b>
<a name='L674'> 674 <a href='../R/4357.html' title='Multiple refered from 2 places.'>remote_destroy</a>(<b>struct</b> <a href='../Y/6370.html' title='Multiple used in 18 places.'>remote</a> *<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>)
<a name='L675'> 675 <font color='red'>{</font>
<a name='L676'> 676     <b>if</b> (<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>) <font color='red'>{</font>
<a name='L677'> 677         <b>if</b> (<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../Y/1822.html' title='Multiple used in 8 places.'>cb_dump</a> &amp;&amp; <a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../Y/1821.html' title='Multiple used in 5 places.'>cb_done</a>) <font color='red'>{</font>
<a name='L678'> 678             <a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../Y/1821.html' title='Multiple used in 5 places.'>cb_done</a>(<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../Y/1820.html' title='Multiple used in 5 places.'>cb_aux</a>);
<a name='L679'> 679         <font color='red'>}</font>
<a name='L680'> 680         <a href='../S/845.html#L104' title='Defined at 104 in cbench/openflow/lib/list.c.'>list_remove</a>(&amp;<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>);
<a name='L681'> 681         <a href='../S/849.html#L278' title='Defined at 278 in cbench/openflow/lib/rconn.c.'>rconn_destroy</a>(<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>-&gt;<a href='../S/849.html#L79' title='Defined at 79 in cbench/openflow/lib/rconn.c.'>rconn</a>);
<a name='L682'> 682         <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>);
<a name='L683'> 683     <font color='red'>}</font>
<a name='L684'> 684 <font color='red'>}</font>
<a name='L685'> 685 
<a name='L686'> 686 <b>static</b> <b>struct</b> <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> *
<a name='L687'> 687 <a href='../R/4356.html' title='Multiple refered from 2 places.'>remote_create</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/6260.html' title='Multiple used in 129 places.'>rconn</a> *<a href='../Y/6260.html' title='Multiple used in 129 places.'>rconn</a>)
<a name='L688'> 688 <font color='red'>{</font>
<a name='L689'> 689     <b>struct</b> <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> *<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> = <a href='../D/10153.html' title='Multiple defined in 2 places.'>xmalloc</a>(<b>sizeof</b> *<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>);
<a name='L690'> 690     <a href='../S/845.html#L85' title='Defined at 85 in cbench/openflow/lib/list.c.'>list_push_back</a>(&amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/6375.html' title='Multiple used in 6 places.'>remotes</a>, &amp;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>-&gt;<a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>);
<a name='L691'> 691     <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>-&gt;<a href='../S/849.html#L79' title='Defined at 79 in cbench/openflow/lib/rconn.c.'>rconn</a> = <a href='../S/849.html#L79' title='Defined at 79 in cbench/openflow/lib/rconn.c.'>rconn</a>;
<a name='L692'> 692     <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>-&gt;<a href='../Y/1822.html' title='Multiple used in 8 places.'>cb_dump</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L693'> 693     <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>-&gt;<a href='../Y/4623.html' title='Multiple used in 13 places.'>n_txq</a> = 0;
<a name='L694'> 694     <b>return</b> <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>;
<a name='L695'> 695 <font color='red'>}</font>
<a name='L696'> 696 
<a name='L697'> 697 <i><font color='green'>/* Starts a callback-based, reliable, possibly multi-message reply to a</font></i>
<a name='L698'> 698 <i><font color='green'> * request made by 'remote'.</font></i>
<a name='L699'> 699 <i><font color='green'> *</font></i>
<a name='L700'> 700 <i><font color='green'> * 'dump' designates a function that will be called when the 'remote' send</font></i>
<a name='L701'> 701 <i><font color='green'> * queue has an empty slot.  It should compose a message and send it on</font></i>
<a name='L702'> 702 <i><font color='green'> * 'remote'.  On success, it should return 1 if it should be called again when</font></i>
<a name='L703'> 703 <i><font color='green'> * another send queue slot opens up, 0 if its transmissions are complete, or a</font></i>
<a name='L704'> 704 <i><font color='green'> * negative errno value on failure.</font></i>
<a name='L705'> 705 <i><font color='green'> *</font></i>
<a name='L706'> 706 <i><font color='green'> * 'done' designates a function to clean up any resources allocated for the</font></i>
<a name='L707'> 707 <i><font color='green'> * dump.  It must handle being called before the dump is complete (which will</font></i>
<a name='L708'> 708 <i><font color='green'> * happen if 'remote' is closed unexpectedly).</font></i>
<a name='L709'> 709 <i><font color='green'> *</font></i>
<a name='L710'> 710 <i><font color='green'> * 'aux' is passed to 'dump' and 'done'. */</font></i>
<a name='L711'> 711 <b>static</b> <b>void</b>
<a name='L712'> 712 <a href='../S/204.html#L2144' title='Refered from 2144 in cbench/openflow/udatapath/datapath.c.'>remote_start_dump</a>(<b>struct</b> <a href='../Y/6370.html' title='Multiple used in 18 places.'>remote</a> *<a href='../Y/6370.html' title='Multiple used in 18 places.'>remote</a>,
<a name='L713'> 713                   <b>int</b> (*dump)(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *, <b>void</b> *),
<a name='L714'> 714                   <b>void</b> (*<a href='../Y/2494.html' title='Multiple used in 87 places.'>done</a>)(<b>void</b> *),
<a name='L715'> 715                   <b>void</b> *<a href='../Y/1539.html' title='Multiple used in 86 places.'>aux</a>)
<a name='L716'> 716 <font color='red'>{</font>
<a name='L717'> 717     <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(!<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>-&gt;<a href='../Y/1822.html' title='Multiple used in 8 places.'>cb_dump</a>);
<a name='L718'> 718     <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>-&gt;<a href='../Y/1822.html' title='Multiple used in 8 places.'>cb_dump</a> = <a href='../S/252.html#L203' title='Defined at 203 in cbench/openflow/tests/test-stp.c.'>dump</a>;
<a name='L719'> 719     <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>-&gt;<a href='../Y/1821.html' title='Multiple used in 5 places.'>cb_done</a> = <a href='../Y/2494.html' title='Multiple used in 87 places.'>done</a>;
<a name='L720'> 720     <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>-&gt;<a href='../Y/1820.html' title='Multiple used in 5 places.'>cb_aux</a> = <a href='../Y/1539.html' title='Multiple used in 86 places.'>aux</a>;
<a name='L721'> 721 <font color='red'>}</font>
<a name='L722'> 722 
<a name='L723'> 723 <b>void</b>
<a name='L724'> 724 <a href='../R/2814.html' title='Multiple refered from 2 places.'>dp_wait</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>)
<a name='L725'> 725 <font color='red'>{</font>
<a name='L726'> 726     <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L727'> 727     <b>struct</b> <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> *<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>;
<a name='L728'> 728     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>;
<a name='L729'> 729 
<a name='L730'> 730     <a href='../S/916.html#L73' title='Defined at 73 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH</a> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/5817.html' title='Multiple used in 29 places.'>port_list</a>) <font color='red'>{</font>
<a name='L731'> 731         <b>if</b> (<a href='../D/2291.html' title='Multiple defined in 2 places.'>IS_HW_PORT</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L732'> 732             <b>continue</b>;
<a name='L733'> 733         <font color='red'>}</font>
<a name='L734'> 734         <a href='../S/851.html#L932' title='Defined at 932 in cbench/openflow/lib/netdev.c.'>netdev_recv_wait</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>);
<a name='L735'> 735     <font color='red'>}</font>
<a name='L736'> 736     <a href='../S/916.html#L73' title='Defined at 73 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH</a> (<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>, <b>struct</b> <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/6375.html' title='Multiple used in 6 places.'>remotes</a>) <font color='red'>{</font>
<a name='L737'> 737         <a href='../S/204.html#L667' title='Defined at 667 in cbench/openflow/udatapath/datapath.c.'>remote_wait</a>(<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>);
<a name='L738'> 738     <font color='red'>}</font>
<a name='L739'> 739     <b>for</b> (<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> = 0; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> &lt; <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4597.html' title='Multiple used in 33 places.'>n_listeners</a>; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>++) <font color='red'>{</font>
<a name='L740'> 740         <a href='../S/881.html#L763' title='Defined at 763 in cbench/openflow/lib/vconn.c.'>pvconn_wait</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4172.html' title='Multiple used in 18 places.'>listeners</a>[<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>]);
<a name='L741'> 741     <font color='red'>}</font>
<a name='L742'> 742 <font color='red'>}</font>
<a name='L743'> 743 
<a name='L744'> 744 <i><font color='green'>/* Send packets out all the ports except the originating one.  If the</font></i>
<a name='L745'> 745 <i><font color='green'> * "flood" argument is set, don't send out ports with flooding disabled.</font></i>
<a name='L746'> 746 <i><font color='green'> */</font></i>
<a name='L747'> 747 <b>static</b> <b>int</b>
<a name='L748'> 748 <a href='../R/3993.html' title='Multiple refered from 4 places.'>output_all</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <b>int</b> <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>, <b>int</b> <a href='../Y/3128.html' title='Multiple used in 4 places.'>flood</a>)
<a name='L749'> 749 <font color='red'>{</font>
<a name='L750'> 750     <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L751'> 751     <b>int</b> <a href='../Y/5878.html' title='Multiple used in 33 places.'>prev_port</a>; <i><font color='green'>/* Buffer is cloned for multiple transmits */</font></i>
<a name='L752'> 752 
<a name='L753'> 753     <a href='../Y/5878.html' title='Multiple used in 33 places.'>prev_port</a> = -1;
<a name='L754'> 754     <a href='../S/916.html#L73' title='Defined at 73 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH</a> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/5817.html' title='Multiple used in 29 places.'>port_list</a>) <font color='red'>{</font>
<a name='L755'> 755         <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> == <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>) <font color='red'>{</font>
<a name='L756'> 756             <b>continue</b>;
<a name='L757'> 757         <font color='red'>}</font>
<a name='L758'> 758         <b>if</b> (<a href='../Y/3128.html' title='Multiple used in 4 places.'>flood</a> &amp;&amp; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a> &amp; <a href='../D/3541.html' title='Multiple defined in 2 places.'>OFPPC_NO_FLOOD</a>) <font color='red'>{</font>
<a name='L759'> 759             <b>continue</b>;
<a name='L760'> 760         <font color='red'>}</font>
<a name='L761'> 761         <b>if</b> (<a href='../Y/5878.html' title='Multiple used in 33 places.'>prev_port</a> != -1) <font color='red'>{</font>
<a name='L762'> 762             <a href='../D/7544.html' title='Multiple defined in 2 places.'>dp_output_port</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../S/887.html#L95' title='Defined at 95 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_clone</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>), <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>, <a href='../Y/5878.html' title='Multiple used in 33 places.'>prev_port</a>,
<a name='L763'> 763                            0,<a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>);
<a name='L764'> 764         <font color='red'>}</font>
<a name='L765'> 765         <a href='../Y/5878.html' title='Multiple used in 33 places.'>prev_port</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>;
<a name='L766'> 766     <font color='red'>}</font>
<a name='L767'> 767     <b>if</b> (<a href='../Y/5878.html' title='Multiple used in 33 places.'>prev_port</a> != -1)
<a name='L768'> 768         <a href='../D/7544.html' title='Multiple defined in 2 places.'>dp_output_port</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>, <a href='../Y/5878.html' title='Multiple used in 33 places.'>prev_port</a>, 0, <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>);
<a name='L769'> 769     <b>else</b>
<a name='L770'> 770         <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L771'> 771 
<a name='L772'> 772     <b>return</b> 0;
<a name='L773'> 773 <font color='red'>}</font>
<a name='L774'> 774 
<a name='L775'> 775 <b>static</b> <b>void</b>
<a name='L776'> 776 <a href='../R/3995.html' title='Multiple refered from 2 places.'>output_packet</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>,
<a name='L777'> 777               <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>)
<a name='L778'> 778 <font color='red'>{</font>
<a name='L779'> 779     <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/1892.html' title='Multiple used in 28 places.'>class_id</a>;
<a name='L780'> 780     <b>struct</b> <a href='../S/201.html#L57' title='Defined at 57 in cbench/openflow/udatapath/datapath.h.'>sw_queue</a> * <a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>;
<a name='L781'> 781     <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L782'> 782 
<a name='L783'> 783     <a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L784'> 784     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = <a href='../S/204.html#L213' title='Defined at 213 in cbench/openflow/udatapath/datapath.c.'>dp_lookup_port</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>);
<a name='L785'> 785 
<a name='L786'> 786 <i><font color='green'>/* FIXME:  Needs update for queuing */</font></i>
<a name='L787'> 787 <font color='darkred'>#if</font> <b>defined</b>(<a href='../Y/623.html' title='Multiple used in 18 places.'>OF_HW_PLAT</a>) &amp;&amp; !<b>defined</b>(<a href='../Y/993.html' title='Multiple used in 11 places.'>USE_NETDEV</a>)
<a name='L788'> 788     <b>if</b> ((<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) &amp;&amp; <a href='../D/2291.html' title='Multiple defined in 2 places.'>IS_HW_PORT</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L789'> 789         <b>if</b> (<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a> &amp;&amp; <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>) <font color='red'>{</font>
<a name='L790'> 790             <b>if</b> (<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>-&gt;<a href='../Y/5816.html' title='Multiple used in 5 places.'>port_link_get</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>)) <font color='red'>{</font>
<a name='L791'> 791                 <a href='../S/183.html#L81' title='Defined at 81 in cbench/openflow/include/openflow/of_hw_api.h.'>of_packet_t</a> *<a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a>;
<a name='L792'> 792                 <b>int</b> <a href='../Y/6512.html' title='Multiple used in 34 places.'>rv</a>;
<a name='L793'> 793 
<a name='L794'> 794                 <a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a> = <a href='../Y/1781.html' title='Multiple used in 32 places.'>calloc</a>(1, <b>sizeof</b>(*<a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a>));
<a name='L795'> 795                 <a href='../S/183.html#L84' title='Defined at 84 in cbench/openflow/include/openflow/of_hw_api.h.'>OF_PKT_INIT</a>(<a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L796'> 796                 <a href='../Y/6512.html' title='Multiple used in 34 places.'>rv</a> = <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>-&gt;<a href='../Y/5621.html' title='Multiple used in 4 places.'>packet_send</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>, <a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>, <a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a>, 0);
<a name='L797'> 797                 <b>if</b> ((<a href='../Y/6512.html' title='Multiple used in 34 places.'>rv</a> &lt; 0) &amp;&amp; (<a href='../Y/6512.html' title='Multiple used in 34 places.'>rv</a> != <a href='../S/183.html#L310' title='Defined at 310 in cbench/openflow/include/openflow/of_hw_api.h.'>OF_HW_PORT_DOWN</a>)) <font color='red'>{</font>
<a name='L798'> 798                     <a href='../S/859.html#L150' title='Defined at 150 in cbench/openflow/lib/vlog.h.'>VLOG_ERR</a>("Error %d sending pkt on HW port %d\n",
<a name='L799'> 799                              <a href='../Y/6512.html' title='Multiple used in 34 places.'>rv</a>, <a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>);
<a name='L800'> 800                     <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L801'> 801                     <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a>);
<a name='L802'> 802                 <font color='red'>}</font>
<a name='L803'> 803             <font color='red'>}</font>
<a name='L804'> 804         <font color='red'>}</font>
<a name='L805'> 805         <b>return</b>;
<a name='L806'> 806     <font color='red'>}</font>
<a name='L807'> 807 
<a name='L808'> 808     <i><font color='green'>/* Fall through to software controlled ports if not HW port */</font></i>
<a name='L809'> 809 <font color='darkred'>#endif</font>
<a name='L810'> 810 
<a name='L811'> 811     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> &amp;&amp; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L812'> 812         <b>if</b> (!(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a> &amp; <a href='../D/3547.html' title='Multiple defined in 3 places.'>OFPPC_PORT_DOWN</a>)) <font color='red'>{</font>
<a name='L813'> 813             <i><font color='green'>/* avoid the queue lookup for best-effort traffic */</font></i>
<a name='L814'> 814             <b>if</b> (<a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a> == 0) <font color='red'>{</font>
<a name='L815'> 815                 <a href='../Y/1892.html' title='Multiple used in 28 places.'>class_id</a> = 0;
<a name='L816'> 816             <font color='red'>}</font>
<a name='L817'> 817             <b>else</b> <font color='red'>{</font>
<a name='L818'> 818                 <i><font color='green'>/* silently drop the packet if queue doesn't exist */</font></i>
<a name='L819'> 819                 <a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a> = <a href='../S/204.html#L221' title='Defined at 221 in cbench/openflow/udatapath/datapath.c.'>dp_lookup_queue</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>);
<a name='L820'> 820                 <b>if</b> (<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>) <font color='red'>{</font>
<a name='L821'> 821                     <a href='../Y/1892.html' title='Multiple used in 28 places.'>class_id</a> = <a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>-&gt;<a href='../Y/1892.html' title='Multiple used in 28 places.'>class_id</a>;
<a name='L822'> 822                 <font color='red'>}</font>
<a name='L823'> 823                 <b>else</b> <font color='red'>{</font>
<a name='L824'> 824                     <b>goto</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L825'> 825                 <font color='red'>}</font>
<a name='L826'> 826             <font color='red'>}</font>
<a name='L827'> 827 
<a name='L828'> 828             <b>if</b> (!<a href='../S/851.html#L963' title='Defined at 963 in cbench/openflow/lib/netdev.c.'>netdev_send</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/1892.html' title='Multiple used in 28 places.'>class_id</a>)) <font color='red'>{</font>
<a name='L829'> 829                 <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/7534.html' title='Multiple used in 38 places.'>tx_packets</a>++;
<a name='L830'> 830                 <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/7530.html' title='Multiple used in 38 places.'>tx_bytes</a> += <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>;
<a name='L831'> 831                 <b>if</b> (<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>) <font color='red'>{</font>
<a name='L832'> 832                     <a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>-&gt;<a href='../Y/7534.html' title='Multiple used in 38 places.'>tx_packets</a>++;
<a name='L833'> 833                     <a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>-&gt;<a href='../Y/7530.html' title='Multiple used in 38 places.'>tx_bytes</a> += <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>;
<a name='L834'> 834                 <font color='red'>}</font>
<a name='L835'> 835             <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L836'> 836                 <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/7531.html' title='Multiple used in 15 places.'>tx_dropped</a>++;
<a name='L837'> 837             <font color='red'>}</font>
<a name='L838'> 838         <font color='red'>}</font>
<a name='L839'> 839         <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L840'> 840         <b>return</b>;
<a name='L841'> 841     <font color='red'>}</font>
<a name='L842'> 842 
<a name='L843'> 843  <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>:
<a name='L844'> 844     <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L845'> 845     <a href='../S/859.html#L173' title='Defined at 173 in cbench/openflow/lib/vlog.h.'>VLOG_DBG_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "can't forward to bad port:queue(%d:%d)\n", <a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>,
<a name='L846'> 846                 <a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>);
<a name='L847'> 847 <font color='red'>}</font>
<a name='L848'> 848 
<a name='L849'> 849 <i><font color='green'>/** Takes ownership of 'buffer' and transmits it to 'out_port' on 'dp'.</font></i>
<a name='L850'> 850 <i><font color='green'> */</font></i>
<a name='L851'> 851 <b>void</b>
<a name='L852'> 852 <a href='../R/2801.html' title='Multiple refered from 8 places.'>dp_output_port</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>,
<a name='L853'> 853                <b>int</b> <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>, <b>int</b> <a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>, <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>,
<a name='L854'> 854                <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/3755.html' title='Multiple used in 17 places.'>ignore_no_fwd</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>)
<a name='L855'> 855 <font color='red'>{</font>
<a name='L856'> 856 
<a name='L857'> 857     <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L858'> 858     <b>switch</b> (<a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>) <font color='red'>{</font>
<a name='L859'> 859     <b>case</b> <a href='../D/3584.html' title='Multiple defined in 3 places.'>OFPP_IN_PORT</a>:
<a name='L860'> 860         <a href='../S/204.html#L776' title='Defined at 776 in cbench/openflow/udatapath/datapath.c.'>output_packet</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>, <a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>);
<a name='L861'> 861         <b>break</b>;
<a name='L862'> 862 
<a name='L863'> 863     <b>case</b> <a href='../D/3589.html' title='Multiple defined in 3 places.'>OFPP_TABLE</a>: <font color='red'>{</font>
<a name='L864'> 864         <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = <a href='../S/204.html#L213' title='Defined at 213 in cbench/openflow/udatapath/datapath.c.'>dp_lookup_port</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>);
<a name='L865'> 865         <b>if</b> (<a href='../D/9437.html' title='Multiple defined in 2 places.'>run_flow_through_tables</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L866'> 866             <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L867'> 867         <font color='red'>}</font>
<a name='L868'> 868         <b>break</b>;
<a name='L869'> 869     <font color='red'>}</font>
<a name='L870'> 870 
<a name='L871'> 871     <b>case</b> <a href='../D/3583.html' title='Multiple defined in 3 places.'>OFPP_FLOOD</a>:
<a name='L872'> 872         <a href='../D/8984.html' title='Multiple defined in 2 places.'>output_all</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>, 1);
<a name='L873'> 873         <b>break</b>;
<a name='L874'> 874 
<a name='L875'> 875     <b>case</b> <a href='../D/3580.html' title='Multiple defined in 3 places.'>OFPP_ALL</a>:
<a name='L876'> 876         <a href='../D/8984.html' title='Multiple defined in 2 places.'>output_all</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>, 0);
<a name='L877'> 877         <b>break</b>;
<a name='L878'> 878 
<a name='L879'> 879     <b>case</b> <a href='../D/3582.html' title='Multiple defined in 3 places.'>OFPP_CONTROLLER</a>:
<a name='L880'> 880         <a href='../D/7543.html' title='Multiple defined in 2 places.'>dp_output_control</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>, <a href='../S/294.html#L24' title='Defined at 24 in cbench/openflow/datapath/forward.h.'>UINT16_MAX</a>, <a href='../D/3613.html' title='Multiple defined in 3 places.'>OFPR_ACTION</a>);
<a name='L881'> 881         <b>break</b>;
<a name='L882'> 882 
<a name='L883'> 883     <b>case</b> <a href='../D/3585.html' title='Multiple defined in 3 places.'>OFPP_LOCAL</a>:
<a name='L884'> 884     <b>default</b>:
<a name='L885'> 885         <b>if</b> (<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a> == <a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>) <font color='red'>{</font>
<a name='L886'> 886             <a href='../S/859.html#L173' title='Defined at 173 in cbench/openflow/lib/vlog.h.'>VLOG_DBG_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "can't directly forward to input port");
<a name='L887'> 887             <b>return</b>;
<a name='L888'> 888         <font color='red'>}</font>
<a name='L889'> 889         <a href='../S/204.html#L776' title='Defined at 776 in cbench/openflow/udatapath/datapath.c.'>output_packet</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>, <a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>);
<a name='L890'> 890         <b>break</b>;
<a name='L891'> 891     <font color='red'>}</font>
<a name='L892'> 892 <font color='red'>}</font>
<a name='L893'> 893 
<a name='L894'> 894 <b>static</b> <b>void</b> *
<a name='L895'> 895 <a href='../R/3490.html' title='Multiple refered from 5 places.'>make_openflow_reply</a>(<a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a>, <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>,
<a name='L896'> 896                     <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> **<a href='../Y/1711.html' title='Multiple used in 21 places.'>bufferp</a>)
<a name='L897'> 897 <font color='red'>{</font>
<a name='L898'> 898     <b>return</b> <a href='../S/881.html#L810' title='Defined at 810 in cbench/openflow/lib/vconn.c.'>make_openflow_xid</a>(<a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a>, <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a> ? <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>-&gt;<a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a> : 0,
<a name='L899'> 899                              <a href='../Y/1711.html' title='Multiple used in 21 places.'>bufferp</a>);
<a name='L900'> 900 <font color='red'>}</font>
<a name='L901'> 901 
<a name='L902'> 902 <b>static</b> <b>int</b>
<a name='L903'> 903 <a href='../R/4412.html' title='Multiple refered from 3 places.'>send_openflow_buffer_to_remote</a>(<b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <b>struct</b> <a href='../Y/6370.html' title='Multiple used in 18 places.'>remote</a> *<a href='../Y/6370.html' title='Multiple used in 18 places.'>remote</a>)
<a name='L904'> 904 <font color='red'>{</font>
<a name='L905'> 905     <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../S/849.html#L572' title='Defined at 572 in cbench/openflow/lib/rconn.c.'>rconn_send_with_limit</a>(<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>-&gt;<a href='../S/849.html#L79' title='Defined at 79 in cbench/openflow/lib/rconn.c.'>rconn</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, &amp;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>-&gt;<a href='../Y/4623.html' title='Multiple used in 13 places.'>n_txq</a>,
<a name='L906'> 906                                        <a href='../S/204.html#L168' title='Defined at 168 in cbench/openflow/udatapath/datapath.c.'>TXQ_LIMIT</a>);
<a name='L907'> 907     <b>if</b> (<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>) <font color='red'>{</font>
<a name='L908'> 908         <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "send to %s failed: %s",
<a name='L909'> 909                      <a href='../S/849.html#L609' title='Defined at 609 in cbench/openflow/lib/rconn.c.'>rconn_get_name</a>(<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>-&gt;<a href='../S/849.html#L79' title='Defined at 79 in cbench/openflow/lib/rconn.c.'>rconn</a>), <a href='../Y/7090.html' title='Multiple used in 143 places.'>strerror</a>(<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>));
<a name='L910'> 910     <font color='red'>}</font>
<a name='L911'> 911     <b>return</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L912'> 912 <font color='red'>}</font>
<a name='L913'> 913 
<a name='L914'> 914 <b>static</b> <b>int</b>
<a name='L915'> 915 <a href='../R/4411.html' title='Multiple refered from 18 places.'>send_openflow_buffer</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>,
<a name='L916'> 916                      <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>)
<a name='L917'> 917 <font color='red'>{</font>
<a name='L918'> 918     <a href='../S/881.html#L862' title='Defined at 862 in cbench/openflow/lib/vconn.c.'>update_openflow_length</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L919'> 919     <b>if</b> (<a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>) <font color='red'>{</font>
<a name='L920'> 920         <i><font color='green'>/* Send back to the sender. */</font></i>
<a name='L921'> 921         <b>return</b> <a href='../S/204.html#L903' title='Defined at 903 in cbench/openflow/udatapath/datapath.c.'>send_openflow_buffer_to_remote</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>);
<a name='L922'> 922     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L923'> 923         <i><font color='green'>/* Broadcast to all remotes. */</font></i>
<a name='L924'> 924         <b>struct</b> <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a> *<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>, *<a href='../Y/5873.html' title='Multiple used in 287 places.'>prev</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L925'> 925         <a href='../S/916.html#L73' title='Defined at 73 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH</a> (<a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>, <b>struct</b> <a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/6375.html' title='Multiple used in 6 places.'>remotes</a>) <font color='red'>{</font>
<a name='L926'> 926             <b>if</b> (<a href='../Y/5873.html' title='Multiple used in 287 places.'>prev</a>) <font color='red'>{</font>
<a name='L927'> 927                 <a href='../S/204.html#L903' title='Defined at 903 in cbench/openflow/udatapath/datapath.c.'>send_openflow_buffer_to_remote</a>(<a href='../S/887.html#L95' title='Defined at 95 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_clone</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>), <a href='../Y/5873.html' title='Multiple used in 287 places.'>prev</a>);
<a name='L928'> 928             <font color='red'>}</font>
<a name='L929'> 929             <a href='../Y/5873.html' title='Multiple used in 287 places.'>prev</a> = <a href='../Y/6224.html' title='Multiple used in 137 places.'>r</a>;
<a name='L930'> 930         <font color='red'>}</font>
<a name='L931'> 931         <b>if</b> (<a href='../Y/5873.html' title='Multiple used in 287 places.'>prev</a>) <font color='red'>{</font>
<a name='L932'> 932             <a href='../S/204.html#L903' title='Defined at 903 in cbench/openflow/udatapath/datapath.c.'>send_openflow_buffer_to_remote</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/5873.html' title='Multiple used in 287 places.'>prev</a>);
<a name='L933'> 933         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L934'> 934             <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L935'> 935         <font color='red'>}</font>
<a name='L936'> 936         <b>return</b> 0;
<a name='L937'> 937     <font color='red'>}</font>
<a name='L938'> 938 <font color='red'>}</font>
<a name='L939'> 939 
<a name='L940'> 940 <i><font color='green'>/* Takes ownership of 'buffer' and transmits it to 'dp''s controller.  If the</font></i>
<a name='L941'> 941 <i><font color='green'> * packet can be saved in a buffer, then only the first max_len bytes of</font></i>
<a name='L942'> 942 <i><font color='green'> * 'buffer' are sent; otherwise, all of 'buffer' is sent.  'reason' indicates</font></i>
<a name='L943'> 943 <i><font color='green'> * why 'buffer' is being sent. 'max_len' sets the maximum number of bytes that</font></i>
<a name='L944'> 944 <i><font color='green'> * the caller wants to be sent. */</font></i>
<a name='L945'> 945 <b>void</b>
<a name='L946'> 946 <a href='../R/2800.html' title='Multiple refered from 8 places.'>dp_output_control</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <b>int</b> <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>,
<a name='L947'> 947                   <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/4375.html' title='Multiple used in 47 places.'>max_len</a>, <b>int</b> <a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>)
<a name='L948'> 948 <font color='red'>{</font>
<a name='L949'> 949     <b>struct</b> <a href='../D/8847.html' title='Multiple defined in 4 places.'>ofp_packet_in</a> *<a href='../Y/5484.html' title='Multiple used in 55 places.'>opi</a>;
<a name='L950'> 950     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/7436.html' title='Multiple used in 79 places.'>total_len</a>;
<a name='L951'> 951     <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>;
<a name='L952'> 952 
<a name='L953'> 953     <a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a> = <a href='../S/204.html#L2322' title='Defined at 2322 in cbench/openflow/udatapath/datapath.c.'>save_buffer</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L954'> 954     <a href='../Y/7436.html' title='Multiple used in 79 places.'>total_len</a> = <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>;
<a name='L955'> 955     <b>if</b> (<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a> != <a href='../S/294.html#L23' title='Defined at 23 in cbench/openflow/datapath/forward.h.'>UINT32_MAX</a> &amp;&amp; <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> &gt; <a href='../Y/4375.html' title='Multiple used in 47 places.'>max_len</a>) <font color='red'>{</font>
<a name='L956'> 956         <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> = <a href='../Y/4375.html' title='Multiple used in 47 places.'>max_len</a>;
<a name='L957'> 957     <font color='red'>}</font>
<a name='L958'> 958 
<a name='L959'> 959     <a href='../Y/5484.html' title='Multiple used in 55 places.'>opi</a> = <a href='../S/887.html#L217' title='Defined at 217 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_push_uninit</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/5075.html' title='Multiple used in 34 places.'>offsetof</a>(<b>struct</b> <a href='../D/8847.html' title='Multiple defined in 4 places.'>ofp_packet_in</a>, <a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>));
<a name='L960'> 960     <a href='../Y/5484.html' title='Multiple used in 55 places.'>opi</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a> = <a href='../Y/621.html' title='Multiple used in 78 places.'>OFP_VERSION</a>;
<a name='L961'> 961     <a href='../Y/5484.html' title='Multiple used in 55 places.'>opi</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>    = <a href='../D/3680.html' title='Multiple defined in 3 places.'>OFPT_PACKET_IN</a>;
<a name='L962'> 962     <a href='../Y/5484.html' title='Multiple used in 55 places.'>opi</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>  = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L963'> 963     <a href='../Y/5484.html' title='Multiple used in 55 places.'>opi</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a>     = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(0);
<a name='L964'> 964     <a href='../Y/5484.html' title='Multiple used in 55 places.'>opi</a>-&gt;<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>      = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>);
<a name='L965'> 965     <a href='../Y/5484.html' title='Multiple used in 55 places.'>opi</a>-&gt;<a href='../Y/7436.html' title='Multiple used in 79 places.'>total_len</a>      = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/7436.html' title='Multiple used in 79 places.'>total_len</a>);
<a name='L966'> 966     <a href='../Y/5484.html' title='Multiple used in 55 places.'>opi</a>-&gt;<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>        = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>);
<a name='L967'> 967     <a href='../Y/5484.html' title='Multiple used in 55 places.'>opi</a>-&gt;<a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>         = <a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>;
<a name='L968'> 968     <a href='../Y/5484.html' title='Multiple used in 55 places.'>opi</a>-&gt;<a href='../Y/5627.html' title='Multiple used in 143 places.'>pad</a>            = 0;
<a name='L969'> 969     <a href='../D/9482.html' title='Multiple defined in 2 places.'>send_openflow_buffer</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L970'> 970 <font color='red'>}</font>
<a name='L971'> 971 
<a name='L972'> 972 <b>static</b> <b>void</b>
<a name='L973'> 973 <a href='../S/204.html#L2196' title='Refered from 2196 in cbench/openflow/udatapath/datapath.c.'>fill_queue_desc</a>(<b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <b>struct</b> <a href='../Y/7184.html' title='Multiple used in 4 places.'>sw_queue</a> *<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>,
<a name='L974'> 974                 <b>struct</b> <a href='../Y/5240.html' title='Multiple used in 5 places.'>ofp_packet_queue</a> *<a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>)
<a name='L975'> 975 <font color='red'>{</font>
<a name='L976'> 976     <b>struct</b> <a href='../D/8888.html' title='Multiple defined in 3 places.'>ofp_queue_prop_min_rate</a> *<a href='../Y/4514.html' title='Multiple used in 19 places.'>mr</a>;
<a name='L977'> 977     <b>int</b> <a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a>;
<a name='L978'> 978 
<a name='L979'> 979     <a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a> = <b>sizeof</b>(<b>struct</b> <a href='../D/8850.html' title='Multiple defined in 3 places.'>ofp_packet_queue</a>) +
<a name='L980'> 980         <b>sizeof</b>(<b>struct</b> <a href='../D/8888.html' title='Multiple defined in 3 places.'>ofp_queue_prop_min_rate</a>);
<a name='L981'> 981     <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>-&gt;<a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>);
<a name='L982'> 982     <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a>);
<a name='L983'> 983 
<a name='L984'> 984     <i><font color='green'>/* Property list */</font></i>
<a name='L985'> 985     <a href='../Y/4514.html' title='Multiple used in 19 places.'>mr</a> = <a href='../S/887.html#L188' title='Defined at 188 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_zeros</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <b>sizeof</b> *<a href='../Y/4514.html' title='Multiple used in 19 places.'>mr</a>);
<a name='L986'> 986     <a href='../Y/4514.html' title='Multiple used in 19 places.'>mr</a>-&gt;<a href='../Y/5950.html' title='Multiple used in 15 places.'>prop_header</a>.<a href='../Y/5953.html' title='Multiple used in 9 places.'>property</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/3600.html' title='Multiple defined in 3 places.'>OFPQT_MIN_RATE</a>);
<a name='L987'> 987     <a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a> = <b>sizeof</b>(<b>struct</b> <a href='../D/8888.html' title='Multiple defined in 3 places.'>ofp_queue_prop_min_rate</a>);
<a name='L988'> 988     <a href='../Y/4514.html' title='Multiple used in 19 places.'>mr</a>-&gt;<a href='../Y/5950.html' title='Multiple used in 15 places.'>prop_header</a>.<a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a>);
<a name='L989'> 989     <a href='../Y/4514.html' title='Multiple used in 19 places.'>mr</a>-&gt;<a href='../Y/6242.html' title='Multiple used in 26 places.'>rate</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>-&gt;<a href='../Y/4461.html' title='Multiple used in 14 places.'>min_rate</a>);
<a name='L990'> 990 <font color='red'>}</font>
<a name='L991'> 991 
<a name='L992'> 992 
<a name='L993'> 993 <b>static</b> <b>void</b>
<a name='L994'> 994 <a href='../R/3032.html' title='Multiple refered from 4 places.'>fill_port_desc</a>(<b>struct</b> <a href='../Y/7182.html' title='Multiple used in 14 places.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <b>struct</b> <a href='../Y/5253.html' title='Multiple used in 22 places.'>ofp_phy_port</a> *<a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>)
<a name='L995'> 995 <font color='red'>{</font>
<a name='L996'> 996     <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L997'> 997     <b>if</b> (<a href='../D/2291.html' title='Multiple defined in 2 places.'>IS_HW_PORT</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L998'> 998 <font color='darkred'>#if</font> <b>defined</b>(<a href='../Y/623.html' title='Multiple used in 18 places.'>OF_HW_PLAT</a>) &amp;&amp; !<b>defined</b>(<a href='../Y/993.html' title='Multiple used in 11 places.'>USE_NETDEV</a>)
<a name='L999'> 999         <a href='../S/183.html#L69' title='Defined at 69 in cbench/openflow/include/openflow/of_hw_api.h.'>of_hw_driver_t</a> *<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>;
<a name='L1000'>1000 
<a name='L1001'>1001         <a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>;
<a name='L1002'>1002         <a href='../Y/7102.html' title='Multiple used in 59 places.'>strncpy</a>((<b>char</b> *) <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/3691.html' title='Multiple used in 8 places.'>hw_name</a>, <b>sizeof</b> <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>);
<a name='L1003'>1003         <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>[<b>sizeof</b> <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a> - 1] = '\0';
<a name='L1004'>1004         <i><font color='green'>/* Update local port state */</font></i>
<a name='L1005'>1005         <b>if</b> (<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>-&gt;<a href='../Y/5816.html' title='Multiple used in 5 places.'>port_link_get</a>(<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>)) <font color='red'>{</font>
<a name='L1006'>1006             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> &amp;= ~<a href='../D/3573.html' title='Multiple defined in 3 places.'>OFPPS_LINK_DOWN</a>;
<a name='L1007'>1007         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1008'>1008             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> |= <a href='../D/3573.html' title='Multiple defined in 3 places.'>OFPPS_LINK_DOWN</a>;
<a name='L1009'>1009         <font color='red'>}</font>
<a name='L1010'>1010         <b>if</b> (<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>-&gt;<a href='../Y/5810.html' title='Multiple used in 4 places.'>port_enable_get</a>(<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>)) <font color='red'>{</font>
<a name='L1011'>1011             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a> &amp;= ~<a href='../D/3547.html' title='Multiple defined in 3 places.'>OFPPC_PORT_DOWN</a>;
<a name='L1012'>1012         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1013'>1013             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a> |= <a href='../D/3547.html' title='Multiple defined in 3 places.'>OFPPC_PORT_DOWN</a>;
<a name='L1014'>1014         <font color='red'>}</font>
<a name='L1015'>1015         <i><font color='green'>/* FIXME:  Add current, supported and advertised features */</font></i>
<a name='L1016'>1016 <font color='darkred'>#endif</font>
<a name='L1017'>1017     <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>) <font color='red'>{</font>
<a name='L1018'>1018         <a href='../Y/7102.html' title='Multiple used in 59 places.'>strncpy</a>((<b>char</b> *) <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../S/851.html#L1044' title='Defined at 1044 in cbench/openflow/lib/netdev.c.'>netdev_get_name</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>),
<a name='L1019'>1019                 <b>sizeof</b> <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>);
<a name='L1020'>1020         <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>[<b>sizeof</b> <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a> - 1] = '\0';
<a name='L1021'>1021         <a href='../Y/4417.html' title='Multiple used in 205 places.'>memcpy</a>(<a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../Y/3680.html' title='Multiple used in 27 places.'>hw_addr</a>, <a href='../S/851.html#L1036' title='Defined at 1036 in cbench/openflow/lib/netdev.c.'>netdev_get_etheraddr</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>), <a href='../S/860.html#L42' title='Defined at 42 in cbench/openflow/lib/packets.h.'>ETH_ADDR_LEN</a>);
<a name='L1022'>1022         <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../Y/2219.html' title='Multiple used in 811 places.'>curr</a>= <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../S/851.html#L1061' title='Defined at 1061 in cbench/openflow/lib/netdev.c.'>netdev_get_features</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>,
<a name='L1023'>1023             <a href='../S/814.html#L53' title='Defined at 53 in cbench/openflow/lib/netdev.h.'>NETDEV_FEAT_CURRENT</a>));
<a name='L1024'>1024         <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../Y/7167.html' title='Multiple used in 79 places.'>supported</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../S/851.html#L1061' title='Defined at 1061 in cbench/openflow/lib/netdev.c.'>netdev_get_features</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>,
<a name='L1025'>1025             <a href='../S/814.html#L55' title='Defined at 55 in cbench/openflow/lib/netdev.h.'>NETDEV_FEAT_SUPPORTED</a>));
<a name='L1026'>1026         <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../Y/1343.html' title='Multiple used in 51 places.'>advertised</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../S/851.html#L1061' title='Defined at 1061 in cbench/openflow/lib/netdev.c.'>netdev_get_features</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>,
<a name='L1027'>1027             <a href='../S/814.html#L54' title='Defined at 54 in cbench/openflow/lib/netdev.h.'>NETDEV_FEAT_ADVERTISED</a>));
<a name='L1028'>1028         <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../Y/5700.html' title='Multiple used in 46 places.'>peer</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../S/851.html#L1061' title='Defined at 1061 in cbench/openflow/lib/netdev.c.'>netdev_get_features</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>, <a href='../S/814.html#L56' title='Defined at 56 in cbench/openflow/lib/netdev.h.'>NETDEV_FEAT_PEER</a>));
<a name='L1029'>1029     <font color='red'>}</font>
<a name='L1030'>1030     <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>);
<a name='L1031'>1031     <a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>);
<a name='L1032'>1032 <font color='red'>}</font>
<a name='L1033'>1033 
<a name='L1034'>1034 <b>static</b> <b>void</b>
<a name='L1035'>1035 <a href='../R/2807.html' title='Multiple refered from 3 places.'>dp_send_features_reply</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>)
<a name='L1036'>1036 <font color='red'>{</font>
<a name='L1037'>1037     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L1038'>1038     <b>struct</b> <a href='../D/8902.html' title='Multiple defined in 3 places.'>ofp_switch_features</a> *<a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>;
<a name='L1039'>1039     <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L1040'>1040 
<a name='L1041'>1041     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a> = <a href='../S/204.html#L895' title='Defined at 895 in cbench/openflow/udatapath/datapath.c.'>make_openflow_reply</a>(<b>sizeof</b> *<a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>, <a href='../D/3665.html' title='Multiple defined in 3 places.'>OFPT_FEATURES_REPLY</a>,
<a name='L1042'>1042                                <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, &amp;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1043'>1043     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>-&gt;<a href='../Y/2281.html' title='Multiple used in 28 places.'>datapath_id</a>  = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a>);
<a name='L1044'>1044     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>-&gt;<a href='../Y/4620.html' title='Multiple used in 45 places.'>n_tables</a>     = <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>-&gt;<a href='../Y/4620.html' title='Multiple used in 45 places.'>n_tables</a>;
<a name='L1045'>1045     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>-&gt;<a href='../Y/4573.html' title='Multiple used in 18 places.'>n_buffers</a>    = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../D/3245.html' title='Multiple defined in 2 places.'>N_PKT_BUFFERS</a>);
<a name='L1046'>1046     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>-&gt;<a href='../Y/1792.html' title='Multiple used in 28 places.'>capabilities</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../D/3762.html' title='Multiple defined in 2 places.'>OFP_SUPPORTED_CAPABILITIES</a>);
<a name='L1047'>1047     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>      = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../D/3761.html' title='Multiple defined in 2 places.'>OFP_SUPPORTED_ACTIONS</a>);
<a name='L1048'>1048     <a href='../S/916.html#L73' title='Defined at 73 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH</a> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/5817.html' title='Multiple used in 29 places.'>port_list</a>) <font color='red'>{</font>
<a name='L1049'>1049         <b>struct</b> <a href='../D/8852.html' title='Multiple defined in 2 places.'>ofp_phy_port</a> *<a href='../Y/5490.html' title='Multiple used in 25 places.'>opp</a> = <a href='../S/887.html#L175' title='Defined at 175 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_uninit</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <b>sizeof</b> *<a href='../Y/5490.html' title='Multiple used in 25 places.'>opp</a>);
<a name='L1050'>1050         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/5490.html' title='Multiple used in 25 places.'>opp</a>, 0, <b>sizeof</b> *<a href='../Y/5490.html' title='Multiple used in 25 places.'>opp</a>);
<a name='L1051'>1051         <a href='../D/7819.html' title='Multiple defined in 2 places.'>fill_port_desc</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../Y/5490.html' title='Multiple used in 25 places.'>opp</a>);
<a name='L1052'>1052     <font color='red'>}</font>
<a name='L1053'>1053     <a href='../D/9482.html' title='Multiple defined in 2 places.'>send_openflow_buffer</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>);
<a name='L1054'>1054 <font color='red'>}</font>
<a name='L1055'>1055 
<a name='L1056'>1056 <b>void</b>
<a name='L1057'>1057 <a href='../R/4884.html' title='Multiple refered from 2 places.'>update_port_flags</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/5274.html' title='Multiple used in 7 places.'>ofp_port_mod</a> *<a href='../Y/5488.html' title='Multiple used in 48 places.'>opm</a>)
<a name='L1058'>1058 <font color='red'>{</font>
<a name='L1059'>1059     <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = <a href='../S/204.html#L213' title='Defined at 213 in cbench/openflow/udatapath/datapath.c.'>dp_lookup_port</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5488.html' title='Multiple used in 48 places.'>opm</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>));
<a name='L1060'>1060 
<a name='L1061'>1061     <i><font color='green'>/* Make sure the port id hasn't changed since this was sent */</font></i>
<a name='L1062'>1062     <b>if</b> (!<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> || <a href='../Y/4416.html' title='Multiple used in 69 places.'>memcmp</a>(<a href='../Y/5488.html' title='Multiple used in 48 places.'>opm</a>-&gt;<a href='../Y/3680.html' title='Multiple used in 27 places.'>hw_addr</a>, <a href='../S/851.html#L1036' title='Defined at 1036 in cbench/openflow/lib/netdev.c.'>netdev_get_etheraddr</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/851.html#L98' title='Defined at 98 in cbench/openflow/lib/netdev.c.'>netdev</a>),
<a name='L1063'>1063                      <a href='../S/860.html#L42' title='Defined at 42 in cbench/openflow/lib/packets.h.'>ETH_ADDR_LEN</a>) != 0) <font color='red'>{</font>
<a name='L1064'>1064         <b>return</b>;
<a name='L1065'>1065     <font color='red'>}</font>
<a name='L1066'>1066 
<a name='L1067'>1067 
<a name='L1068'>1068     <b>if</b> (<a href='../Y/5488.html' title='Multiple used in 48 places.'>opm</a>-&gt;<a href='../Y/4338.html' title='Multiple used in 220 places.'>mask</a>) <font color='red'>{</font>
<a name='L1069'>1069         <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/2060.html' title='Multiple used in 6 places.'>config_mask</a> = <a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/5488.html' title='Multiple used in 48 places.'>opm</a>-&gt;<a href='../Y/4338.html' title='Multiple used in 220 places.'>mask</a>);
<a name='L1070'>1070         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a> &amp;= ~<a href='../Y/2060.html' title='Multiple used in 6 places.'>config_mask</a>;
<a name='L1071'>1071         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a> |= <a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/5488.html' title='Multiple used in 48 places.'>opm</a>-&gt;<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>) &amp; <a href='../Y/2060.html' title='Multiple used in 6 places.'>config_mask</a>;
<a name='L1072'>1072     <font color='red'>}</font>
<a name='L1073'>1073 <font color='red'>}</font>
<a name='L1074'>1074 
<a name='L1075'>1075 <b>static</b> <b>void</b>
<a name='L1076'>1076 <a href='../R/4418.html' title='Multiple refered from 3 places.'>send_port_status</a>(<b>struct</b> <a href='../Y/7182.html' title='Multiple used in 14 places.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/7040.html' title='Multiple used in 97 places.'>status</a>)
<a name='L1077'>1077 <font color='red'>{</font>
<a name='L1078'>1078     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L1079'>1079     <b>struct</b> <a href='../D/8863.html' title='Multiple defined in 3 places.'>ofp_port_status</a> *<a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>;
<a name='L1080'>1080     <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a> = <a href='../S/881.html#L810' title='Defined at 810 in cbench/openflow/lib/vconn.c.'>make_openflow_xid</a>(<b>sizeof</b> *<a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>, <a href='../D/3684.html' title='Multiple defined in 3 places.'>OFPT_PORT_STATUS</a>, 0, &amp;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1081'>1081     <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a> = <a href='../Y/7040.html' title='Multiple used in 97 places.'>status</a>;
<a name='L1082'>1082     <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/5627.html' title='Multiple used in 143 places.'>pad</a>, 0, <b>sizeof</b> <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/5627.html' title='Multiple used in 143 places.'>pad</a>);
<a name='L1083'>1083     <a href='../D/7819.html' title='Multiple defined in 2 places.'>fill_port_desc</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, &amp;<a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/2332.html' title='Multiple used in 133 places.'>desc</a>);
<a name='L1084'>1084 
<a name='L1085'>1085     <a href='../D/9482.html' title='Multiple defined in 2 places.'>send_openflow_buffer</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L1086'>1086 <font color='red'>}</font>
<a name='L1087'>1087 
<a name='L1088'>1088 <b>void</b>
<a name='L1089'>1089 <a href='../R/2808.html' title='Multiple refered from 12 places.'>dp_send_flow_end</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/7178.html' title='Multiple used in 120 places.'>sw_flow</a> *<a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a>,
<a name='L1090'>1090               <b>enum</b> <a href='../Y/5155.html' title='Multiple used in 10 places.'>ofp_flow_removed_reason</a> <a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>)
<a name='L1091'>1091 <font color='red'>{</font>
<a name='L1092'>1092     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L1093'>1093     <b>struct</b> <a href='../D/8783.html' title='Multiple defined in 3 places.'>ofp_flow_removed</a> *<a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>;
<a name='L1094'>1094     <a href='../Y/7623.html' title='Multiple used in 568 places.'>uint64_t</a> <a href='../Y/7294.html' title='Multiple used in 6 places.'>tdiff</a> = <a href='../S/902.html#L116' title='Defined at 116 in cbench/openflow/lib/timeval.c.'>time_msec</a>() - <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2191.html' title='Multiple used in 11 places.'>created</a>;
<a name='L1095'>1095     <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/6623.html' title='Multiple used in 39 places.'>sec</a> = <a href='../Y/7294.html' title='Multiple used in 6 places.'>tdiff</a> / 1000;
<a name='L1096'>1096 
<a name='L1097'>1097     <b>if</b> (!<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6656.html' title='Multiple used in 10 places.'>send_flow_rem</a>) <font color='red'>{</font>
<a name='L1098'>1098         <b>return</b>;
<a name='L1099'>1099     <font color='red'>}</font>
<a name='L1100'>1100 
<a name='L1101'>1101     <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2657.html' title='Multiple used in 14 places.'>emerg_flow</a>) <font color='red'>{</font>
<a name='L1102'>1102         <b>return</b>;
<a name='L1103'>1103     <font color='red'>}</font>
<a name='L1104'>1104 
<a name='L1105'>1105     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a> = <a href='../S/881.html#L810' title='Defined at 810 in cbench/openflow/lib/vconn.c.'>make_openflow_xid</a>(<b>sizeof</b> *<a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>, <a href='../D/3669.html' title='Multiple defined in 3 places.'>OFPT_FLOW_REMOVED</a>, 0, &amp;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1106'>1106     <b>if</b> (!<a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>) <font color='red'>{</font>
<a name='L1107'>1107         <b>return</b>;
<a name='L1108'>1108     <font color='red'>}</font>
<a name='L1109'>1109 
<a name='L1110'>1110     <a href='../D/7842.html' title='Multiple defined in 2 places.'>flow_fill_match</a>(&amp;<a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>, &amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../Y/7877.html' title='Multiple used in 308 places.'>wildcards</a>);
<a name='L1111'>1111 
<a name='L1112'>1112     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>-&gt;<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a> = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a>);
<a name='L1113'>1113     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>);
<a name='L1114'>1114     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>-&gt;<a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a> = <a href='../Y/6294.html' title='Multiple used in 94 places.'>reason</a>;
<a name='L1115'>1115 
<a name='L1116'>1116     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>-&gt;<a href='../Y/2614.html' title='Multiple used in 24 places.'>duration_sec</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../Y/6623.html' title='Multiple used in 39 places.'>sec</a>);
<a name='L1117'>1117     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>-&gt;<a href='../Y/2613.html' title='Multiple used in 24 places.'>duration_nsec</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>((<a href='../Y/7294.html' title='Multiple used in 6 places.'>tdiff</a> - (<a href='../Y/6623.html' title='Multiple used in 39 places.'>sec</a> * 1000)) * 1000000);
<a name='L1118'>1118     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>-&gt;<a href='../S/935.html#L773' title='Defined at 773 in src/cli.c.'>idle_timeout</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../S/935.html#L773' title='Defined at 773 in src/cli.c.'>idle_timeout</a>);
<a name='L1119'>1119 
<a name='L1120'>1120     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>-&gt;<a href='../Y/5595.html' title='Multiple used in 48 places.'>packet_count</a> = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5595.html' title='Multiple used in 48 places.'>packet_count</a>);
<a name='L1121'>1121     <a href='../Y/5413.html' title='Multiple used in 44 places.'>ofr</a>-&gt;<a href='../Y/1732.html' title='Multiple used in 68 places.'>byte_count</a>   = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/1732.html' title='Multiple used in 68 places.'>byte_count</a>);
<a name='L1122'>1122 
<a name='L1123'>1123     <a href='../D/9482.html' title='Multiple defined in 2 places.'>send_openflow_buffer</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L1124'>1124 <font color='red'>}</font>
<a name='L1125'>1125 
<a name='L1126'>1126 <b>void</b>
<a name='L1127'>1127 <a href='../R/2806.html' title='Multiple refered from 33 places.'>dp_send_error_msg</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>,
<a name='L1128'>1128                   <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/1956.html' title='Multiple used in 147 places.'>code</a>, <b>const</b> <b>void</b> *<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>, <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a>)
<a name='L1129'>1129 <font color='red'>{</font>
<a name='L1130'>1130     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L1131'>1131     <b>struct</b> <a href='../D/8772.html' title='Multiple defined in 3 places.'>ofp_error_msg</a> *<a href='../Y/5043.html' title='Multiple used in 17 places.'>oem</a>;
<a name='L1132'>1132     <a href='../Y/5043.html' title='Multiple used in 17 places.'>oem</a> = <a href='../S/204.html#L895' title='Defined at 895 in cbench/openflow/udatapath/datapath.c.'>make_openflow_reply</a>(<b>sizeof</b>(*<a href='../Y/5043.html' title='Multiple used in 17 places.'>oem</a>)+<a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a>, <a href='../D/3662.html' title='Multiple defined in 3 places.'>OFPT_ERROR</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, &amp;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1133'>1133     <a href='../Y/5043.html' title='Multiple used in 17 places.'>oem</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>);
<a name='L1134'>1134     <a href='../Y/5043.html' title='Multiple used in 17 places.'>oem</a>-&gt;<a href='../Y/1956.html' title='Multiple used in 147 places.'>code</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/1956.html' title='Multiple used in 147 places.'>code</a>);
<a name='L1135'>1135     <a href='../Y/4417.html' title='Multiple used in 205 places.'>memcpy</a>(<a href='../Y/5043.html' title='Multiple used in 17 places.'>oem</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>, <a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>, <a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a>);
<a name='L1136'>1136     <a href='../D/9482.html' title='Multiple defined in 2 places.'>send_openflow_buffer</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>);
<a name='L1137'>1137 <font color='red'>}</font>
<a name='L1138'>1138 
<a name='L1139'>1139 <b>static</b> <b>void</b>
<a name='L1140'>1140 <a href='../S/204.html#L1576' title='Refered from 1576 in cbench/openflow/udatapath/datapath.c.'>fill_flow_stats</a>(<b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <b>struct</b> <a href='../Y/7178.html' title='Multiple used in 120 places.'>sw_flow</a> *<a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a>,
<a name='L1141'>1141                 <b>int</b> <a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a>, <a href='../Y/7623.html' title='Multiple used in 568 places.'>uint64_t</a> <a href='../Y/4938.html' title='Multiple used in 566 places.'>now</a>)
<a name='L1142'>1142 <font color='red'>{</font>
<a name='L1143'>1143     <b>struct</b> <a href='../D/8785.html' title='Multiple defined in 3 places.'>ofp_flow_stats</a> *<a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>;
<a name='L1144'>1144     <b>int</b> <a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a> = <b>sizeof</b> *<a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a> + <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6724.html' title='Multiple used in 48 places.'>sf_acts</a>-&gt;<a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>;
<a name='L1145'>1145     <a href='../Y/7623.html' title='Multiple used in 568 places.'>uint64_t</a> <a href='../Y/7294.html' title='Multiple used in 6 places.'>tdiff</a> = <a href='../Y/4938.html' title='Multiple used in 566 places.'>now</a> - <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2191.html' title='Multiple used in 11 places.'>created</a>;
<a name='L1146'>1146     <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/6623.html' title='Multiple used in 39 places.'>sec</a> = <a href='../Y/7294.html' title='Multiple used in 6 places.'>tdiff</a> / 1000;
<a name='L1147'>1147     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a> = <a href='../S/887.html#L175' title='Defined at 175 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_uninit</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>);
<a name='L1148'>1148     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>          = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>);
<a name='L1149'>1149     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../Y/7227.html' title='Multiple used in 65 places.'>table_id</a>        = <a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a>;
<a name='L1150'>1150     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../Y/5627.html' title='Multiple used in 143 places.'>pad</a>             = 0;
<a name='L1151'>1151     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/7877.html' title='Multiple used in 308 places.'>wildcards</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../Y/7877.html' title='Multiple used in 308 places.'>wildcards</a>);
<a name='L1152'>1152     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>   = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>.<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>;
<a name='L1153'>1153     <a href='../Y/4417.html' title='Multiple used in 205 places.'>memcpy</a>(<a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/2462.html' title='Multiple used in 77 places.'>dl_src</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>.<a href='../Y/2462.html' title='Multiple used in 77 places.'>dl_src</a>, <a href='../S/860.html#L42' title='Defined at 42 in cbench/openflow/lib/packets.h.'>ETH_ADDR_LEN</a>);
<a name='L1154'>1154     <a href='../Y/4417.html' title='Multiple used in 205 places.'>memcpy</a>(<a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/2461.html' title='Multiple used in 96 places.'>dl_dst</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>.<a href='../Y/2461.html' title='Multiple used in 96 places.'>dl_dst</a>, <a href='../S/860.html#L42' title='Defined at 42 in cbench/openflow/lib/packets.h.'>ETH_ADDR_LEN</a>);
<a name='L1155'>1155     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/2464.html' title='Multiple used in 65 places.'>dl_vlan</a>   = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>.<a href='../Y/2464.html' title='Multiple used in 65 places.'>dl_vlan</a>;
<a name='L1156'>1156     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/2463.html' title='Multiple used in 81 places.'>dl_type</a>   = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>.<a href='../Y/2463.html' title='Multiple used in 81 places.'>dl_type</a>;
<a name='L1157'>1157     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/5020.html' title='Multiple used in 36 places.'>nw_tos</a>    = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>.<a href='../Y/5020.html' title='Multiple used in 36 places.'>nw_tos</a>;
<a name='L1158'>1158     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/5018.html' title='Multiple used in 62 places.'>nw_src</a>    = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>.<a href='../Y/5018.html' title='Multiple used in 62 places.'>nw_src</a>;
<a name='L1159'>1159     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/5015.html' title='Multiple used in 78 places.'>nw_dst</a>    = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>.<a href='../Y/5015.html' title='Multiple used in 78 places.'>nw_dst</a>;
<a name='L1160'>1160     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/5017.html' title='Multiple used in 95 places.'>nw_proto</a>  = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>.<a href='../Y/5017.html' title='Multiple used in 95 places.'>nw_proto</a>;
<a name='L1161'>1161     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/2465.html' title='Multiple used in 33 places.'>dl_vlan_pcp</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>.<a href='../Y/2465.html' title='Multiple used in 33 places.'>dl_vlan_pcp</a>;
<a name='L1162'>1162     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/7446.html' title='Multiple used in 54 places.'>tp_src</a>    = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>.<a href='../Y/7446.html' title='Multiple used in 54 places.'>tp_src</a>;
<a name='L1163'>1163     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/7444.html' title='Multiple used in 55 places.'>tp_dst</a>    = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>.<a href='../Y/7444.html' title='Multiple used in 55 places.'>tp_dst</a>;
<a name='L1164'>1164     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../Y/2614.html' title='Multiple used in 24 places.'>duration_sec</a>    = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../Y/6623.html' title='Multiple used in 39 places.'>sec</a>);
<a name='L1165'>1165     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../Y/2613.html' title='Multiple used in 24 places.'>duration_nsec</a>   = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>((<a href='../Y/7294.html' title='Multiple used in 6 places.'>tdiff</a> - (<a href='../Y/6623.html' title='Multiple used in 39 places.'>sec</a> * 1000)) * 1000000);
<a name='L1166'>1166     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a>          = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a>);
<a name='L1167'>1167     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>        = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>);
<a name='L1168'>1168     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../S/935.html#L773' title='Defined at 773 in src/cli.c.'>idle_timeout</a>    = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../S/935.html#L773' title='Defined at 773 in src/cli.c.'>idle_timeout</a>);
<a name='L1169'>1169     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../Y/3541.html' title='Multiple used in 76 places.'>hard_timeout</a>    = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3541.html' title='Multiple used in 76 places.'>hard_timeout</a>);
<a name='L1170'>1170     <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(&amp;<a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../Y/5629.html' title='Multiple used in 15 places.'>pad2</a>, 0, <b>sizeof</b> <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../Y/5629.html' title='Multiple used in 15 places.'>pad2</a>);
<a name='L1171'>1171     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../Y/5595.html' title='Multiple used in 48 places.'>packet_count</a>    = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5595.html' title='Multiple used in 48 places.'>packet_count</a>);
<a name='L1172'>1172     <a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../Y/1732.html' title='Multiple used in 68 places.'>byte_count</a>      = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/1732.html' title='Multiple used in 68 places.'>byte_count</a>);
<a name='L1173'>1173     <a href='../Y/4417.html' title='Multiple used in 205 places.'>memcpy</a>(<a href='../Y/5415.html' title='Multiple used in 73 places.'>ofs</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6724.html' title='Multiple used in 48 places.'>sf_acts</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6724.html' title='Multiple used in 48 places.'>sf_acts</a>-&gt;<a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>);
<a name='L1174'>1174 <font color='red'>}</font>
<a name='L1175'>1175 
<a name='L1176'>1176 
<a name='L1177'>1177 <i><font color='green'>/* 'buffer' was received on 'p', which may be a a physical switch port or a</font></i>
<a name='L1178'>1178 <i><font color='green'> * null pointer.  Process it according to 'dp''s flow table.  Returns 0 if</font></i>
<a name='L1179'>1179 <i><font color='green'> * successful, in which case 'buffer' is destroyed, or -ESRCH if there is no</font></i>
<a name='L1180'>1180 <i><font color='green'> * matching flow, in which case 'buffer' still belongs to the caller. */</font></i>
<a name='L1181'>1181 <b>int</b> <a href='../R/4387.html' title='Multiple refered from 6 places.'>run_flow_through_tables</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>,
<a name='L1182'>1182                             <b>struct</b> <a href='../Y/7182.html' title='Multiple used in 14 places.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L1183'>1183 <font color='red'>{</font>
<a name='L1184'>1184     <b>struct</b> <a href='../D/9770.html' title='Multiple defined in 2 places.'>sw_flow_key</a> <a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>;
<a name='L1185'>1185     <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a> *<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>;
<a name='L1186'>1186 
<a name='L1187'>1187     <a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../Y/7877.html' title='Multiple used in 308 places.'>wildcards</a> = 0;
<a name='L1188'>1188     <b>if</b> (<a href='../D/7839.html' title='Multiple defined in 2 places.'>flow_extract</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> ? <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> : <a href='../D/3587.html' title='Multiple defined in 2 places.'>OFPP_NONE</a>, &amp;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>)
<a name='L1189'>1189         &amp;&amp; (<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> &amp; <a href='../D/3377.html' title='Multiple defined in 3 places.'>OFPC_FRAG_MASK</a>) == <a href='../D/3376.html' title='Multiple defined in 3 places.'>OFPC_FRAG_DROP</a>) <font color='red'>{</font>
<a name='L1190'>1190         <i><font color='green'>/* Drop fragment. */</font></i>
<a name='L1191'>1191         <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1192'>1192         <b>return</b> 0;
<a name='L1193'>1193     <font color='red'>}</font>
<a name='L1194'>1194 
<a name='L1195'>1195     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> &amp;&amp; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a> &amp; (<a href='../D/3544.html' title='Multiple defined in 3 places.'>OFPPC_NO_RECV</a> | <a href='../D/3545.html' title='Multiple defined in 2 places.'>OFPPC_NO_RECV_STP</a>)
<a name='L1196'>1196         &amp;&amp; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a> &amp; (!<a href='../S/860.html#L63' title='Defined at 63 in cbench/openflow/lib/packets.h.'>eth_addr_equals</a>(<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>.<a href='../Y/2461.html' title='Multiple used in 96 places.'>dl_dst</a>, <a href='../Y/7062.html' title='Multiple used in 7 places.'>stp_eth_addr</a>)
<a name='L1197'>1197                        ? <a href='../D/3544.html' title='Multiple defined in 3 places.'>OFPPC_NO_RECV</a> : <a href='../D/3545.html' title='Multiple defined in 2 places.'>OFPPC_NO_RECV_STP</a>)) <font color='red'>{</font>
<a name='L1198'>1198         <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1199'>1199         <b>return</b> 0;
<a name='L1200'>1200     <font color='red'>}</font>
<a name='L1201'>1201 
<a name='L1202'>1202     <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a> = <a href='../D/7047.html' title='Multiple defined in 2 places.'>chain_lookup</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>, &amp;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, 0);
<a name='L1203'>1203     <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L1204'>1204         <a href='../D/7881.html' title='Multiple defined in 2 places.'>flow_used</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1205'>1205         <a href='../D/7762.html' title='Multiple defined in 2 places.'>execute_actions</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, &amp;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6724.html' title='Multiple used in 48 places.'>sf_acts</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>,
<a name='L1206'>1206                         <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6724.html' title='Multiple used in 48 places.'>sf_acts</a>-&gt;<a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>, <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>);
<a name='L1207'>1207         <b>return</b> 0;
<a name='L1208'>1208     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1209'>1209         <b>return</b> -<a href='../Y/298.html' title='Multiple used in 19 places.'>ESRCH</a>;
<a name='L1210'>1210     <font color='red'>}</font>
<a name='L1211'>1211 <font color='red'>}</font>
<a name='L1212'>1212 
<a name='L1213'>1213 <i><font color='green'>/* 'buffer' was received on 'p', which may be a a physical switch port or a</font></i>
<a name='L1214'>1214 <i><font color='green'> * null pointer.  Process it according to 'dp''s flow table, sending it up to</font></i>
<a name='L1215'>1215 <i><font color='green'> * the controller if no flow matches.  Takes ownership of 'buffer'. */</font></i>
<a name='L1216'>1216 <b>void</b> <a href='../R/3114.html' title='Multiple refered from 6 places.'>fwd_port_input</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>,
<a name='L1217'>1217                     <b>struct</b> <a href='../Y/7182.html' title='Multiple used in 14 places.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L1218'>1218 <font color='red'>{</font>
<a name='L1219'>1219     <b>if</b> (<a href='../D/9437.html' title='Multiple defined in 2 places.'>run_flow_through_tables</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L1220'>1220         <a href='../D/7543.html' title='Multiple defined in 2 places.'>dp_output_control</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>,
<a name='L1221'>1221                           <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4473.html' title='Multiple used in 19 places.'>miss_send_len</a>, <a href='../D/3615.html' title='Multiple defined in 3 places.'>OFPR_NO_MATCH</a>);
<a name='L1222'>1222     <font color='red'>}</font>
<a name='L1223'>1223 <font color='red'>}</font>
<a name='L1224'>1224 
<a name='L1225'>1225 <b>static</b> <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *
<a name='L1226'>1226 <a href='../S/204.html#L1240' title='Refered from 1240 in cbench/openflow/udatapath/datapath.c.'>make_barrier_reply</a>(<b>const</b> <b>struct</b> <a href='../Y/5176.html' title='Multiple used in 54 places.'>ofp_header</a> *<a href='../Y/6391.html' title='Multiple used in 52 places.'>req</a>)
<a name='L1227'>1227 <font color='red'>{</font>
<a name='L1228'>1228     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/6391.html' title='Multiple used in 52 places.'>req</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>);
<a name='L1229'>1229     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1693.html' title='Multiple used in 469 places.'>buf</a> = <a href='../S/887.html#L87' title='Defined at 87 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_new</a>(<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L1230'>1230     <b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a> *<a href='../Y/6383.html' title='Multiple used in 144 places.'>reply</a> = <a href='../S/887.html#L199' title='Defined at 199 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put</a>(<a href='../Y/1693.html' title='Multiple used in 469 places.'>buf</a>, <a href='../Y/6391.html' title='Multiple used in 52 places.'>req</a>, <a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L1231'>1231 
<a name='L1232'>1232     <a href='../Y/6383.html' title='Multiple used in 144 places.'>reply</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../D/3656.html' title='Multiple defined in 3 places.'>OFPT_BARRIER_REPLY</a>;
<a name='L1233'>1233     <b>return</b> <a href='../Y/1693.html' title='Multiple used in 469 places.'>buf</a>;
<a name='L1234'>1234 <font color='red'>}</font>
<a name='L1235'>1235 
<a name='L1236'>1236 <b>static</b> <b>int</b>
<a name='L1237'>1237 <a href='../R/4323.html' title='Multiple refered from 2 places.'>recv_barrier_request</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>,
<a name='L1238'>1238                      <b>const</b> <b>void</b> *<a href='../Y/5378.html' title='Multiple used in 178 places.'>ofph</a>)
<a name='L1239'>1239 <font color='red'>{</font>
<a name='L1240'>1240     <b>return</b> <a href='../D/9482.html' title='Multiple defined in 2 places.'>send_openflow_buffer</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../S/204.html#L1226' title='Defined at 1226 in cbench/openflow/udatapath/datapath.c.'>make_barrier_reply</a>(<a href='../Y/5378.html' title='Multiple used in 178 places.'>ofph</a>), <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>);
<a name='L1241'>1241 <font color='red'>}</font>
<a name='L1242'>1242 
<a name='L1243'>1243 <b>static</b> <b>int</b>
<a name='L1244'>1244 <a href='../R/4327.html' title='Multiple refered from 2 places.'>recv_features_request</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>,
<a name='L1245'>1245                       <b>const</b> <b>void</b> *<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>)
<a name='L1246'>1246 <font color='red'>{</font>
<a name='L1247'>1247     <a href='../D/7550.html' title='Multiple defined in 2 places.'>dp_send_features_reply</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>);
<a name='L1248'>1248     <b>return</b> 0;
<a name='L1249'>1249 <font color='red'>}</font>
<a name='L1250'>1250 
<a name='L1251'>1251 <b>static</b> <b>int</b>
<a name='L1252'>1252 <a href='../R/4329.html' title='Multiple refered from 2 places.'>recv_get_config_request</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>,
<a name='L1253'>1253                         <b>const</b> <b>void</b> *<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>)
<a name='L1254'>1254 <font color='red'>{</font>
<a name='L1255'>1255     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L1256'>1256     <b>struct</b> <a href='../D/8900.html' title='Multiple defined in 3 places.'>ofp_switch_config</a> *<a href='../Y/5520.html' title='Multiple used in 22 places.'>osc</a>;
<a name='L1257'>1257 
<a name='L1258'>1258     <a href='../Y/5520.html' title='Multiple used in 22 places.'>osc</a> = <a href='../S/204.html#L895' title='Defined at 895 in cbench/openflow/udatapath/datapath.c.'>make_openflow_reply</a>(<b>sizeof</b> *<a href='../Y/5520.html' title='Multiple used in 22 places.'>osc</a>, <a href='../D/3672.html' title='Multiple defined in 3 places.'>OFPT_GET_CONFIG_REPLY</a>,
<a name='L1259'>1259                               <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, &amp;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1260'>1260 
<a name='L1261'>1261     <a href='../Y/5520.html' title='Multiple used in 22 places.'>osc</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>);
<a name='L1262'>1262     <a href='../Y/5520.html' title='Multiple used in 22 places.'>osc</a>-&gt;<a href='../Y/4473.html' title='Multiple used in 19 places.'>miss_send_len</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4473.html' title='Multiple used in 19 places.'>miss_send_len</a>);
<a name='L1263'>1263 
<a name='L1264'>1264     <b>return</b> <a href='../D/9482.html' title='Multiple defined in 2 places.'>send_openflow_buffer</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>);
<a name='L1265'>1265 <font color='red'>}</font>
<a name='L1266'>1266 
<a name='L1267'>1267 <b>static</b> <b>int</b>
<a name='L1268'>1268 <a href='../R/4337.html' title='Multiple refered from 2 places.'>recv_set_config</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>,
<a name='L1269'>1269                 <b>const</b> <b>void</b> *<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>)
<a name='L1270'>1270 <font color='red'>{</font>
<a name='L1271'>1271     <b>const</b> <b>struct</b> <a href='../D/8900.html' title='Multiple defined in 3 places.'>ofp_switch_config</a> *<a href='../Y/5520.html' title='Multiple used in 22 places.'>osc</a> = <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>;
<a name='L1272'>1272     <b>int</b> <a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>;
<a name='L1273'>1273 
<a name='L1274'>1274     <a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5520.html' title='Multiple used in 22 places.'>osc</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>) &amp; <a href='../D/3377.html' title='Multiple defined in 3 places.'>OFPC_FRAG_MASK</a>;
<a name='L1275'>1275     <b>if</b> ((<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> &amp; <a href='../D/3377.html' title='Multiple defined in 3 places.'>OFPC_FRAG_MASK</a>) != <a href='../D/3378.html' title='Multiple defined in 3 places.'>OFPC_FRAG_NORMAL</a>
<a name='L1276'>1276         &amp;&amp; (<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> &amp; <a href='../D/3377.html' title='Multiple defined in 3 places.'>OFPC_FRAG_MASK</a>) != <a href='../D/3376.html' title='Multiple defined in 3 places.'>OFPC_FRAG_DROP</a>) <font color='red'>{</font>
<a name='L1277'>1277         <a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> = (<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> &amp; ~<a href='../D/3377.html' title='Multiple defined in 3 places.'>OFPC_FRAG_MASK</a>) | <a href='../D/3376.html' title='Multiple defined in 3 places.'>OFPC_FRAG_DROP</a>;
<a name='L1278'>1278     <font color='red'>}</font>
<a name='L1279'>1279     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> = <a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>;
<a name='L1280'>1280     <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4473.html' title='Multiple used in 19 places.'>miss_send_len</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5520.html' title='Multiple used in 22 places.'>osc</a>-&gt;<a href='../Y/4473.html' title='Multiple used in 19 places.'>miss_send_len</a>);
<a name='L1281'>1281     <b>return</b> 0;
<a name='L1282'>1282 <font color='red'>}</font>
<a name='L1283'>1283 
<a name='L1284'>1284 <b>static</b> <b>int</b>
<a name='L1285'>1285 <a href='../R/4334.html' title='Multiple refered from 2 places.'>recv_packet_out</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>,
<a name='L1286'>1286                 <b>const</b> <b>void</b> *<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>)
<a name='L1287'>1287 <font color='red'>{</font>
<a name='L1288'>1288     <b>const</b> <b>struct</b> <a href='../D/8849.html' title='Multiple defined in 4 places.'>ofp_packet_out</a> *<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a> = <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>;
<a name='L1289'>1289     <b>struct</b> <a href='../D/9770.html' title='Multiple defined in 2 places.'>sw_flow_key</a> <a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>;
<a name='L1290'>1290     <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/7706.html' title='Multiple used in 24 places.'>v_code</a>;
<a name='L1291'>1291     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L1292'>1292     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>);
<a name='L1293'>1293 
<a name='L1294'>1294     <b>if</b> (<a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a> &gt; (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>) - <b>sizeof</b> *<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>)) <font color='red'>{</font>
<a name='L1295'>1295         <a href='../S/859.html#L173' title='Defined at 173 in cbench/openflow/lib/vlog.h.'>VLOG_DBG_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "message too short for number of actions");
<a name='L1296'>1296         <b>return</b> -<a href='../Y/267.html' title='Multiple used in 50 places.'>EINVAL</a>;
<a name='L1297'>1297     <font color='red'>}</font>
<a name='L1298'>1298 
<a name='L1299'>1299     <b>if</b> (<a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>) == (<a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a>) -1) <font color='red'>{</font>
<a name='L1300'>1300         <i><font color='green'>/* FIXME: can we avoid copying data here? */</font></i>
<a name='L1301'>1301         <b>int</b> <a href='../Y/2262.html' title='Multiple used in 50 places.'>data_len</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>) - <b>sizeof</b> *<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a> - <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>;
<a name='L1302'>1302         <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../S/887.html#L87' title='Defined at 87 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_new</a>(<a href='../Y/2262.html' title='Multiple used in 50 places.'>data_len</a>);
<a name='L1303'>1303         <a href='../S/887.html#L199' title='Defined at 199 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, (<a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> *)<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a> + <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>, <a href='../Y/2262.html' title='Multiple used in 50 places.'>data_len</a>);
<a name='L1304'>1304     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1305'>1305         <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../S/204.html#L2349' title='Defined at 2349 in cbench/openflow/udatapath/datapath.c.'>retrieve_buffer</a>(<a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>));
<a name='L1306'>1306         <b>if</b> (!<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>) <font color='red'>{</font>
<a name='L1307'>1307             <b>return</b> -<a href='../Y/298.html' title='Multiple used in 19 places.'>ESRCH</a>;
<a name='L1308'>1308         <font color='red'>}</font>
<a name='L1309'>1309     <font color='red'>}</font>
<a name='L1310'>1310 
<a name='L1311'>1311     <a href='../D/7839.html' title='Multiple defined in 2 places.'>flow_extract</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>), &amp;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>);
<a name='L1312'>1312 
<a name='L1313'>1313     <a href='../Y/7706.html' title='Multiple used in 24 places.'>v_code</a> = <a href='../D/9997.html' title='Multiple defined in 2 places.'>validate_actions</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, &amp;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>);
<a name='L1314'>1314     <b>if</b> (<a href='../Y/7706.html' title='Multiple used in 24 places.'>v_code</a> != <a href='../D/22.html' title='Multiple defined in 2 places.'>ACT_VALIDATION_OK</a>) <font color='red'>{</font>
<a name='L1315'>1315         <a href='../D/7549.html' title='Multiple defined in 2 places.'>dp_send_error_msg</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../D/3388.html' title='Multiple defined in 3 places.'>OFPET_BAD_ACTION</a>, <a href='../Y/7706.html' title='Multiple used in 24 places.'>v_code</a>,
<a name='L1316'>1316                   <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>, <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>));
<a name='L1317'>1317         <b>goto</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L1318'>1318     <font color='red'>}</font>
<a name='L1319'>1319 
<a name='L1320'>1320     <a href='../D/7762.html' title='Multiple defined in 2 places.'>execute_actions</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, &amp;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>, <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>);
<a name='L1321'>1321 
<a name='L1322'>1322     <b>return</b> 0;
<a name='L1323'>1323 
<a name='L1324'>1324 <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>:
<a name='L1325'>1325     <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1326'>1326     <b>return</b> -<a href='../Y/267.html' title='Multiple used in 50 places.'>EINVAL</a>;
<a name='L1327'>1327 <font color='red'>}</font>
<a name='L1328'>1328 
<a name='L1329'>1329 <b>static</b> <b>int</b>
<a name='L1330'>1330 <a href='../R/4335.html' title='Multiple refered from 2 places.'>recv_port_mod</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>,
<a name='L1331'>1331               <b>const</b> <b>void</b> *<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>)
<a name='L1332'>1332 <font color='red'>{</font>
<a name='L1333'>1333     <b>const</b> <b>struct</b> <a href='../D/8856.html' title='Multiple defined in 3 places.'>ofp_port_mod</a> *<a href='../Y/5488.html' title='Multiple used in 48 places.'>opm</a> = <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>;
<a name='L1334'>1334 
<a name='L1335'>1335     <a href='../S/204.html#L1057' title='Defined at 1057 in cbench/openflow/udatapath/datapath.c.'>update_port_flags</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/5488.html' title='Multiple used in 48 places.'>opm</a>);
<a name='L1336'>1336 
<a name='L1337'>1337     <b>return</b> 0;
<a name='L1338'>1338 <font color='red'>}</font>
<a name='L1339'>1339 
<a name='L1340'>1340 <b>static</b> <b>int</b>
<a name='L1341'>1341 <a href='../R/2158.html' title='Multiple refered from 4 places.'>add_flow</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>,
<a name='L1342'>1342         <b>const</b> <b>struct</b> <a href='../Y/5140.html' title='Multiple used in 7 places.'>ofp_flow_mod</a> *<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>)
<a name='L1343'>1343 <font color='red'>{</font>
<a name='L1344'>1344     <b>int</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = -<a href='../Y/276.html' title='Multiple used in 35 places.'>ENOMEM</a>;
<a name='L1345'>1345     <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/7706.html' title='Multiple used in 24 places.'>v_code</a>;
<a name='L1346'>1346     <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a> *<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>;
<a name='L1347'>1347     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>) - <b>sizeof</b> *<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>;
<a name='L1348'>1348     <b>int</b> <a href='../Y/5560.html' title='Multiple used in 6 places.'>overlap</a>;
<a name='L1349'>1349 
<a name='L1350'>1350     <i><font color='green'>/* Allocate memory. */</font></i>
<a name='L1351'>1351     <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a> = <a href='../D/7830.html' title='Multiple defined in 2 places.'>flow_alloc</a>(<a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>);
<a name='L1352'>1352     <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a> == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>)
<a name='L1353'>1353         <b>goto</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L1354'>1354 
<a name='L1355'>1355     <a href='../D/7840.html' title='Multiple defined in 2 places.'>flow_extract_match</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, &amp;<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>);
<a name='L1356'>1356 
<a name='L1357'>1357     <a href='../Y/7706.html' title='Multiple used in 24 places.'>v_code</a> = <a href='../D/9997.html' title='Multiple defined in 2 places.'>validate_actions</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, &amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>);
<a name='L1358'>1358     <b>if</b> (<a href='../Y/7706.html' title='Multiple used in 24 places.'>v_code</a> != <a href='../D/22.html' title='Multiple defined in 2 places.'>ACT_VALIDATION_OK</a>) <font color='red'>{</font>
<a name='L1359'>1359         <a href='../D/7549.html' title='Multiple defined in 2 places.'>dp_send_error_msg</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../D/3388.html' title='Multiple defined in 3 places.'>OFPET_BAD_ACTION</a>, <a href='../Y/7706.html' title='Multiple used in 24 places.'>v_code</a>,
<a name='L1360'>1360                   <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>, <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>));
<a name='L1361'>1361         <b>goto</b> <a href='../Y/2767.html' title='Multiple used in 20 places.'>error_free_flow</a>;
<a name='L1362'>1362     <font color='red'>}</font>
<a name='L1363'>1363 
<a name='L1364'>1364     <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../Y/7877.html' title='Multiple used in 308 places.'>wildcards</a> ? <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>) : -1;
<a name='L1365'>1365 
<a name='L1366'>1366     <b>if</b> (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>) &amp; <a href='../D/3408.html' title='Multiple defined in 3 places.'>OFPFF_CHECK_OVERLAP</a>) <font color='red'>{</font>
<a name='L1367'>1367         <i><font color='green'>/* check whether there is any conflict */</font></i>
<a name='L1368'>1368         <a href='../Y/5560.html' title='Multiple used in 6 places.'>overlap</a> = <a href='../D/7045.html' title='Multiple defined in 2 places.'>chain_has_conflict</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>, &amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>,
<a name='L1369'>1369                                      <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>);
<a name='L1370'>1370         <b>if</b> (<a href='../Y/5560.html' title='Multiple used in 6 places.'>overlap</a>)<font color='red'>{</font>
<a name='L1371'>1371             <a href='../D/7549.html' title='Multiple defined in 2 places.'>dp_send_error_msg</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../D/3393.html' title='Multiple defined in 3 places.'>OFPET_FLOW_MOD_FAILED</a>,
<a name='L1372'>1372                               <a href='../D/3421.html' title='Multiple defined in 3 places.'>OFPFMFC_OVERLAP</a>, <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>, <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>));
<a name='L1373'>1373             <b>goto</b> <a href='../Y/2767.html' title='Multiple used in 20 places.'>error_free_flow</a>;
<a name='L1374'>1374         <font color='red'>}</font>
<a name='L1375'>1375     <font color='red'>}</font>
<a name='L1376'>1376 
<a name='L1377'>1377     <b>if</b> (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>) &amp; <a href='../D/3409.html' title='Multiple defined in 2 places.'>OFPFF_EMERG</a>) <font color='red'>{</font>
<a name='L1378'>1378         <b>if</b> (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/935.html#L773' title='Defined at 773 in src/cli.c.'>idle_timeout</a>) != <a href='../D/3756.html' title='Multiple defined in 3 places.'>OFP_FLOW_PERMANENT</a>
<a name='L1379'>1379             || <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3541.html' title='Multiple used in 76 places.'>hard_timeout</a>) != <a href='../D/3756.html' title='Multiple defined in 3 places.'>OFP_FLOW_PERMANENT</a>) <font color='red'>{</font>
<a name='L1380'>1380             <a href='../D/7549.html' title='Multiple defined in 2 places.'>dp_send_error_msg</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../D/3393.html' title='Multiple defined in 3 places.'>OFPET_FLOW_MOD_FAILED</a>,
<a name='L1381'>1381                               <a href='../D/3416.html' title='Multiple defined in 2 places.'>OFPFMFC_BAD_EMERG_TIMEOUT</a>, <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>,
<a name='L1382'>1382                               <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>));
<a name='L1383'>1383             <b>goto</b> <a href='../Y/2767.html' title='Multiple used in 20 places.'>error_free_flow</a>;
<a name='L1384'>1384         <font color='red'>}</font>
<a name='L1385'>1385     <font color='red'>}</font>
<a name='L1386'>1386 
<a name='L1387'>1387     <i><font color='green'>/* Fill out flow. */</font></i>
<a name='L1388'>1388     <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a> = <a href='../D/8630.html' title='Multiple defined in 15 places.'>ntohll</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a>);
<a name='L1389'>1389     <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../S/935.html#L773' title='Defined at 773 in src/cli.c.'>idle_timeout</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/935.html#L773' title='Defined at 773 in src/cli.c.'>idle_timeout</a>);
<a name='L1390'>1390     <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3541.html' title='Multiple used in 76 places.'>hard_timeout</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3541.html' title='Multiple used in 76 places.'>hard_timeout</a>);
<a name='L1391'>1391     <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6656.html' title='Multiple used in 10 places.'>send_flow_rem</a> = (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>) &amp; <a href='../D/3413.html' title='Multiple defined in 3 places.'>OFPFF_SEND_FLOW_REM</a>) ? 1 : 0;
<a name='L1392'>1392     <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2657.html' title='Multiple used in 14 places.'>emerg_flow</a> = (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>) &amp; <a href='../D/3409.html' title='Multiple defined in 2 places.'>OFPFF_EMERG</a>) ? 1 : 0;
<a name='L1393'>1393     <a href='../D/7868.html' title='Multiple defined in 2 places.'>flow_setup_actions</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>);
<a name='L1394'>1394 
<a name='L1395'>1395     <i><font color='green'>/* Act. */</font></i>
<a name='L1396'>1396     <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../D/7046.html' title='Multiple defined in 2 places.'>chain_insert</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>,
<a name='L1397'>1397                          (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>) &amp; <a href='../D/3409.html' title='Multiple defined in 2 places.'>OFPFF_EMERG</a>) ? 1 : 0);
<a name='L1398'>1398     <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> == -<a href='../Y/273.html' title='Multiple used in 24 places.'>ENOBUFS</a>) <font color='red'>{</font>
<a name='L1399'>1399         <a href='../D/7549.html' title='Multiple defined in 2 places.'>dp_send_error_msg</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../D/3393.html' title='Multiple defined in 3 places.'>OFPET_FLOW_MOD_FAILED</a>,
<a name='L1400'>1400                 <a href='../D/3414.html' title='Multiple defined in 2 places.'>OFPFMFC_ALL_TABLES_FULL</a>, <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>, <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>));
<a name='L1401'>1401         <b>goto</b> <a href='../Y/2767.html' title='Multiple used in 20 places.'>error_free_flow</a>;
<a name='L1402'>1402     <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>) <font color='red'>{</font>
<a name='L1403'>1403         <b>goto</b> <a href='../Y/2767.html' title='Multiple used in 20 places.'>error_free_flow</a>;
<a name='L1404'>1404     <font color='red'>}</font>
<a name='L1405'>1405 
<a name='L1406'>1406     <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = 0;
<a name='L1407'>1407     <b>if</b> (<a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>) != <a href='../S/294.html#L23' title='Defined at 23 in cbench/openflow/datapath/forward.h.'>UINT32_MAX</a>) <font color='red'>{</font>
<a name='L1408'>1408         <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../S/204.html#L2349' title='Defined at 2349 in cbench/openflow/udatapath/datapath.c.'>retrieve_buffer</a>(<a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>));
<a name='L1409'>1409         <b>if</b> (<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>) <font color='red'>{</font>
<a name='L1410'>1410             <b>struct</b> <a href='../D/9770.html' title='Multiple defined in 2 places.'>sw_flow_key</a> <a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>;
<a name='L1411'>1411             <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>);
<a name='L1412'>1412             <a href='../D/7839.html' title='Multiple defined in 2 places.'>flow_extract</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>, &amp;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>);
<a name='L1413'>1413             <a href='../D/7881.html' title='Multiple defined in 2 places.'>flow_used</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1414'>1414             <a href='../D/7762.html' title='Multiple defined in 2 places.'>execute_actions</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, &amp;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>,
<a name='L1415'>1415                     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>, <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>);
<a name='L1416'>1416         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1417'>1417             <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = -<a href='../Y/298.html' title='Multiple used in 19 places.'>ESRCH</a>;
<a name='L1418'>1418         <font color='red'>}</font>
<a name='L1419'>1419     <font color='red'>}</font>
<a name='L1420'>1420     <b>return</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L1421'>1421 
<a name='L1422'>1422 <a href='../Y/2767.html' title='Multiple used in 20 places.'>error_free_flow</a>:
<a name='L1423'>1423     <a href='../D/7843.html' title='Multiple defined in 2 places.'>flow_free</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>);
<a name='L1424'>1424 <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>:
<a name='L1425'>1425     <b>if</b> (<a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>) != (<a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a>) -1)
<a name='L1426'>1426         <a href='../S/204.html#L2366' title='Defined at 2366 in cbench/openflow/udatapath/datapath.c.'>discard_buffer</a>(<a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>));
<a name='L1427'>1427     <b>return</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L1428'>1428 <font color='red'>}</font>
<a name='L1429'>1429 
<a name='L1430'>1430 <b>static</b> <b>int</b>
<a name='L1431'>1431 <a href='../R/3519.html' title='Multiple refered from 2 places.'>mod_flow</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>,
<a name='L1432'>1432         <b>const</b> <b>struct</b> <a href='../Y/5140.html' title='Multiple used in 7 places.'>ofp_flow_mod</a> *<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>)
<a name='L1433'>1433 <font color='red'>{</font>
<a name='L1434'>1434     <b>int</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = -<a href='../Y/276.html' title='Multiple used in 35 places.'>ENOMEM</a>;
<a name='L1435'>1435     <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/7706.html' title='Multiple used in 24 places.'>v_code</a>;
<a name='L1436'>1436     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>) - <b>sizeof</b> *<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>;
<a name='L1437'>1437     <b>struct</b> <a href='../D/9768.html' title='Multiple defined in 2 places.'>sw_flow</a> *<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>;
<a name='L1438'>1438     <b>int</b> <a href='../Y/7092.html' title='Multiple used in 128 places.'>strict</a>;
<a name='L1439'>1439 
<a name='L1440'>1440     <i><font color='green'>/* Allocate memory. */</font></i>
<a name='L1441'>1441     <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a> = <a href='../D/7830.html' title='Multiple defined in 2 places.'>flow_alloc</a>(<a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>);
<a name='L1442'>1442     <b>if</b> (<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a> == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>)
<a name='L1443'>1443         <b>goto</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L1444'>1444 
<a name='L1445'>1445     <a href='../D/7840.html' title='Multiple defined in 2 places.'>flow_extract_match</a>(&amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, &amp;<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>);
<a name='L1446'>1446 
<a name='L1447'>1447     <a href='../Y/7706.html' title='Multiple used in 24 places.'>v_code</a> = <a href='../D/9997.html' title='Multiple defined in 2 places.'>validate_actions</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, &amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>);
<a name='L1448'>1448     <b>if</b> (<a href='../Y/7706.html' title='Multiple used in 24 places.'>v_code</a> != <a href='../D/22.html' title='Multiple defined in 2 places.'>ACT_VALIDATION_OK</a>) <font color='red'>{</font>
<a name='L1449'>1449         <a href='../D/7549.html' title='Multiple defined in 2 places.'>dp_send_error_msg</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../D/3388.html' title='Multiple defined in 3 places.'>OFPET_BAD_ACTION</a>, <a href='../Y/7706.html' title='Multiple used in 24 places.'>v_code</a>,
<a name='L1450'>1450                           <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>, <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>));
<a name='L1451'>1451         <b>goto</b> <a href='../Y/2767.html' title='Multiple used in 20 places.'>error_free_flow</a>;
<a name='L1452'>1452     <font color='red'>}</font>
<a name='L1453'>1453 
<a name='L1454'>1454     <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../Y/7877.html' title='Multiple used in 308 places.'>wildcards</a> ? <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>) : -1;
<a name='L1455'>1455     <a href='../Y/7092.html' title='Multiple used in 128 places.'>strict</a> = (<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/333.html#L92' title='Defined at 92 in cbench/openflow/utilities/dpctl.c.'>command</a> == <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/3407.html' title='Multiple defined in 3 places.'>OFPFC_MODIFY_STRICT</a>)) ? 1 : 0;
<a name='L1456'>1456 
<a name='L1457'>1457     <i><font color='green'>/* First try to modify existing flows if any */</font></i>
<a name='L1458'>1458     <i><font color='green'>/* if there is no matching flow, add it */</font></i>
<a name='L1459'>1459     <b>if</b> (!<a href='../D/7048.html' title='Multiple defined in 2 places.'>chain_modify</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>, &amp;<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>,
<a name='L1460'>1460                       <a href='../Y/7092.html' title='Multiple used in 128 places.'>strict</a>, <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>,
<a name='L1461'>1461                       (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>) &amp; <a href='../D/3409.html' title='Multiple defined in 2 places.'>OFPFF_EMERG</a>) ? 1 : 0)) <font color='red'>{</font>
<a name='L1462'>1462         <i><font color='green'>/* Fill out flow. */</font></i>
<a name='L1463'>1463         <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a> = <a href='../D/8630.html' title='Multiple defined in 15 places.'>ntohll</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a>);
<a name='L1464'>1464         <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../S/935.html#L773' title='Defined at 773 in src/cli.c.'>idle_timeout</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/935.html#L773' title='Defined at 773 in src/cli.c.'>idle_timeout</a>);
<a name='L1465'>1465         <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3541.html' title='Multiple used in 76 places.'>hard_timeout</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3541.html' title='Multiple used in 76 places.'>hard_timeout</a>);
<a name='L1466'>1466         <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/6656.html' title='Multiple used in 10 places.'>send_flow_rem</a> = (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>) &amp; <a href='../D/3413.html' title='Multiple defined in 3 places.'>OFPFF_SEND_FLOW_REM</a>) ? 1 : 0;
<a name='L1467'>1467         <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2657.html' title='Multiple used in 14 places.'>emerg_flow</a> = (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>) &amp; <a href='../D/3409.html' title='Multiple defined in 2 places.'>OFPFF_EMERG</a>) ? 1 : 0;
<a name='L1468'>1468         <a href='../D/7868.html' title='Multiple defined in 2 places.'>flow_setup_actions</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>);
<a name='L1469'>1469         <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../D/7046.html' title='Multiple defined in 2 places.'>chain_insert</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>,
<a name='L1470'>1470                              (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>) &amp; <a href='../D/3409.html' title='Multiple defined in 2 places.'>OFPFF_EMERG</a>) ? 1 : 0);
<a name='L1471'>1471         <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> == -<a href='../Y/273.html' title='Multiple used in 24 places.'>ENOBUFS</a>) <font color='red'>{</font>
<a name='L1472'>1472             <a href='../D/7549.html' title='Multiple defined in 2 places.'>dp_send_error_msg</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../D/3393.html' title='Multiple defined in 3 places.'>OFPET_FLOW_MOD_FAILED</a>,
<a name='L1473'>1473                               <a href='../D/3414.html' title='Multiple defined in 2 places.'>OFPFMFC_ALL_TABLES_FULL</a>, <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>,
<a name='L1474'>1474                               <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>));
<a name='L1475'>1475             <b>goto</b> <a href='../Y/2767.html' title='Multiple used in 20 places.'>error_free_flow</a>;
<a name='L1476'>1476         <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>) <font color='red'>{</font>
<a name='L1477'>1477             <b>goto</b> <a href='../Y/2767.html' title='Multiple used in 20 places.'>error_free_flow</a>;
<a name='L1478'>1478         <font color='red'>}</font>
<a name='L1479'>1479     <font color='red'>}</font>
<a name='L1480'>1480 
<a name='L1481'>1481     <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = 0;
<a name='L1482'>1482     <b>if</b> (<a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>) != <a href='../S/294.html#L23' title='Defined at 23 in cbench/openflow/datapath/forward.h.'>UINT32_MAX</a>) <font color='red'>{</font>
<a name='L1483'>1483       <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../S/204.html#L2349' title='Defined at 2349 in cbench/openflow/udatapath/datapath.c.'>retrieve_buffer</a>(<a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>));
<a name='L1484'>1484       <b>if</b> (<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>) <font color='red'>{</font>
<a name='L1485'>1485             <b>struct</b> <a href='../D/9770.html' title='Multiple defined in 2 places.'>sw_flow_key</a> <a href='../Y/6814.html' title='Multiple used in 6 places.'>skb_key</a>;
<a name='L1486'>1486             <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>);
<a name='L1487'>1487             <a href='../D/7839.html' title='Multiple defined in 2 places.'>flow_extract</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>, &amp;<a href='../Y/6814.html' title='Multiple used in 6 places.'>skb_key</a>.<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>);
<a name='L1488'>1488             <a href='../D/7762.html' title='Multiple defined in 2 places.'>execute_actions</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, &amp;<a href='../Y/6814.html' title='Multiple used in 6 places.'>skb_key</a>,
<a name='L1489'>1489                             <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>, <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>, <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>);
<a name='L1490'>1490         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1491'>1491             <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = -<a href='../Y/298.html' title='Multiple used in 19 places.'>ESRCH</a>;
<a name='L1492'>1492         <font color='red'>}</font>
<a name='L1493'>1493     <font color='red'>}</font>
<a name='L1494'>1494     <b>return</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L1495'>1495 
<a name='L1496'>1496 <a href='../Y/2767.html' title='Multiple used in 20 places.'>error_free_flow</a>:
<a name='L1497'>1497     <a href='../D/7843.html' title='Multiple defined in 2 places.'>flow_free</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>);
<a name='L1498'>1498 <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>:
<a name='L1499'>1499     <b>if</b> (<a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>) != (<a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a>) -1)
<a name='L1500'>1500         <a href='../S/204.html#L2366' title='Defined at 2366 in cbench/openflow/udatapath/datapath.c.'>discard_buffer</a>(<a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>));
<a name='L1501'>1501     <b>return</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L1502'>1502 <font color='red'>}</font>
<a name='L1503'>1503 
<a name='L1504'>1504 <b>static</b> <b>int</b>
<a name='L1505'>1505 <a href='../R/4328.html' title='Multiple refered from 2 places.'>recv_flow</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>,
<a name='L1506'>1506           <b>const</b> <b>void</b> *<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>)
<a name='L1507'>1507 <font color='red'>{</font>
<a name='L1508'>1508     <b>const</b> <b>struct</b> <a href='../D/8779.html' title='Multiple defined in 3 places.'>ofp_flow_mod</a> *<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a> = <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>;
<a name='L1509'>1509     <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../S/333.html#L92' title='Defined at 92 in cbench/openflow/utilities/dpctl.c.'>command</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/333.html#L92' title='Defined at 92 in cbench/openflow/utilities/dpctl.c.'>command</a>);
<a name='L1510'>1510 
<a name='L1511'>1511     <b>if</b> (<a href='../S/333.html#L92' title='Defined at 92 in cbench/openflow/utilities/dpctl.c.'>command</a> == <a href='../D/3403.html' title='Multiple defined in 3 places.'>OFPFC_ADD</a>) <font color='red'>{</font>
<a name='L1512'>1512         <b>return</b> <a href='../D/6834.html' title='Multiple defined in 3 places.'>add_flow</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>);
<a name='L1513'>1513     <font color='red'>}</font> <b>else</b> <b>if</b> ((<a href='../S/333.html#L92' title='Defined at 92 in cbench/openflow/utilities/dpctl.c.'>command</a> == <a href='../D/3406.html' title='Multiple defined in 3 places.'>OFPFC_MODIFY</a>) || (<a href='../S/333.html#L92' title='Defined at 92 in cbench/openflow/utilities/dpctl.c.'>command</a> == <a href='../D/3407.html' title='Multiple defined in 3 places.'>OFPFC_MODIFY_STRICT</a>)) <font color='red'>{</font>
<a name='L1514'>1514         <b>return</b> <a href='../D/8372.html' title='Multiple defined in 2 places.'>mod_flow</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>);
<a name='L1515'>1515     <font color='red'>}</font>  <b>else</b> <b>if</b> (<a href='../S/333.html#L92' title='Defined at 92 in cbench/openflow/utilities/dpctl.c.'>command</a> == <a href='../D/3404.html' title='Multiple defined in 3 places.'>OFPFC_DELETE</a>) <font color='red'>{</font>
<a name='L1516'>1516         <b>struct</b> <a href='../D/9770.html' title='Multiple defined in 2 places.'>sw_flow_key</a> <a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>;
<a name='L1517'>1517         <a href='../D/7840.html' title='Multiple defined in 2 places.'>flow_extract_match</a>(&amp;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, &amp;<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>);
<a name='L1518'>1518         <b>return</b> <a href='../D/7043.html' title='Multiple defined in 2 places.'>chain_delete</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>, &amp;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>, 0, 0,
<a name='L1519'>1519                             (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>) &amp; <a href='../D/3409.html' title='Multiple defined in 2 places.'>OFPFF_EMERG</a>) ? 1 : 0)
<a name='L1520'>1520                             ? 0 : -<a href='../Y/298.html' title='Multiple used in 19 places.'>ESRCH</a>;
<a name='L1521'>1521     <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../S/333.html#L92' title='Defined at 92 in cbench/openflow/utilities/dpctl.c.'>command</a> == <a href='../D/3405.html' title='Multiple defined in 3 places.'>OFPFC_DELETE_STRICT</a>) <font color='red'>{</font>
<a name='L1522'>1522         <b>struct</b> <a href='../D/9770.html' title='Multiple defined in 2 places.'>sw_flow_key</a> <a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>;
<a name='L1523'>1523         <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>;
<a name='L1524'>1524         <a href='../D/7840.html' title='Multiple defined in 2 places.'>flow_extract_match</a>(&amp;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, &amp;<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>);
<a name='L1525'>1525         <a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a> = <a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>.<a href='../Y/7877.html' title='Multiple used in 308 places.'>wildcards</a> ? <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>) : -1;
<a name='L1526'>1526         <b>return</b> <a href='../D/7043.html' title='Multiple defined in 2 places.'>chain_delete</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>, &amp;<a href='../Y/3999.html' title='Multiple used in 606 places.'>key</a>, <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>, <a href='../Y/5909.html' title='Multiple used in 182 places.'>priority</a>, 1,
<a name='L1527'>1527                             (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>) &amp; <a href='../D/3409.html' title='Multiple defined in 2 places.'>OFPFF_EMERG</a>) ? 1 : 0)
<a name='L1528'>1528                             ? 0 : -<a href='../Y/298.html' title='Multiple used in 19 places.'>ESRCH</a>;
<a name='L1529'>1529     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1530'>1530         <b>return</b> -<a href='../Y/274.html' title='Multiple used in 4 places.'>ENODEV</a>;
<a name='L1531'>1531     <font color='red'>}</font>
<a name='L1532'>1532 <font color='red'>}</font>
<a name='L1533'>1533 
<a name='L1534'>1534 <b>static</b> <b>int</b>
<a name='L1535'>1535 <a href='../R/2582.html' title='Multiple refered from 2 places.'>desc_stats_dump</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>, <b>void</b> *<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>,
<a name='L1536'>1536                 <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>)
<a name='L1537'>1537 <font color='red'>{</font>
<a name='L1538'>1538     <b>struct</b> <a href='../D/8767.html' title='Multiple defined in 2 places.'>ofp_desc_stats</a> *<a href='../Y/5042.html' title='Multiple used in 19 places.'>ods</a> = <a href='../S/887.html#L175' title='Defined at 175 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_uninit</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <b>sizeof</b> *<a href='../Y/5042.html' title='Multiple used in 19 places.'>ods</a>);
<a name='L1539'>1539 
<a name='L1540'>1540     <a href='../Y/7102.html' title='Multiple used in 59 places.'>strncpy</a>(<a href='../Y/5042.html' title='Multiple used in 19 places.'>ods</a>-&gt;<a href='../Y/4440.html' title='Multiple used in 24 places.'>mfr_desc</a>, &amp;<a href='../Y/4440.html' title='Multiple used in 24 places.'>mfr_desc</a>, <b>sizeof</b> <a href='../Y/5042.html' title='Multiple used in 19 places.'>ods</a>-&gt;<a href='../Y/4440.html' title='Multiple used in 24 places.'>mfr_desc</a>);
<a name='L1541'>1541     <a href='../Y/7102.html' title='Multiple used in 59 places.'>strncpy</a>(<a href='../Y/5042.html' title='Multiple used in 19 places.'>ods</a>-&gt;<a href='../Y/3683.html' title='Multiple used in 24 places.'>hw_desc</a>, &amp;<a href='../Y/3683.html' title='Multiple used in 24 places.'>hw_desc</a>, <b>sizeof</b> <a href='../Y/5042.html' title='Multiple used in 19 places.'>ods</a>-&gt;<a href='../Y/3683.html' title='Multiple used in 24 places.'>hw_desc</a>);
<a name='L1542'>1542     <a href='../Y/7102.html' title='Multiple used in 59 places.'>strncpy</a>(<a href='../Y/5042.html' title='Multiple used in 19 places.'>ods</a>-&gt;<a href='../Y/7176.html' title='Multiple used in 22 places.'>sw_desc</a>, &amp;<a href='../Y/7176.html' title='Multiple used in 22 places.'>sw_desc</a>, <b>sizeof</b> <a href='../Y/5042.html' title='Multiple used in 19 places.'>ods</a>-&gt;<a href='../Y/7176.html' title='Multiple used in 22 places.'>sw_desc</a>);
<a name='L1543'>1543     <a href='../Y/7102.html' title='Multiple used in 59 places.'>strncpy</a>(<a href='../Y/5042.html' title='Multiple used in 19 places.'>ods</a>-&gt;<a href='../Y/2506.html' title='Multiple used in 33 places.'>dp_desc</a>, <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/2506.html' title='Multiple used in 33 places.'>dp_desc</a>, <b>sizeof</b> <a href='../Y/5042.html' title='Multiple used in 19 places.'>ods</a>-&gt;<a href='../Y/2506.html' title='Multiple used in 33 places.'>dp_desc</a>);
<a name='L1544'>1544     <a href='../Y/7102.html' title='Multiple used in 59 places.'>strncpy</a>(<a href='../Y/5042.html' title='Multiple used in 19 places.'>ods</a>-&gt;<a href='../Y/6673.html' title='Multiple used in 24 places.'>serial_num</a>, &amp;<a href='../Y/6673.html' title='Multiple used in 24 places.'>serial_num</a>, <b>sizeof</b> <a href='../Y/5042.html' title='Multiple used in 19 places.'>ods</a>-&gt;<a href='../Y/6673.html' title='Multiple used in 24 places.'>serial_num</a>);
<a name='L1545'>1545 
<a name='L1546'>1546     <b>return</b> 0;
<a name='L1547'>1547 <font color='red'>}</font>
<a name='L1548'>1548 
<a name='L1549'>1549 <b>struct</b> <a href='../R/3087.html' title='Multiple refered from 6 places.'>flow_stats_state</a> <font color='red'>{</font>
<a name='L1550'>1550     <b>int</b> <a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a>;
<a name='L1551'>1551     <b>struct</b> <a href='../D/9781.html' title='Multiple defined in 2 places.'>sw_table_position</a> <a href='../Y/5843.html' title='Multiple used in 69 places.'>position</a>;
<a name='L1552'>1552     <b>struct</b> <a href='../D/8787.html' title='Multiple defined in 4 places.'>ofp_flow_stats_request</a> <a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>;
<a name='L1553'>1553     <a href='../Y/7623.html' title='Multiple used in 568 places.'>uint64_t</a> <a href='../Y/4938.html' title='Multiple used in 566 places.'>now</a>;                  <i><font color='green'>/* Current time in milliseconds */</font></i>
<a name='L1554'>1554 
<a name='L1555'>1555     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L1556'>1556 <font color='red'>}</font>;
<a name='L1557'>1557 
<a name='L1558'>1558 <font color='darkred'>#define</font> <a href='../R/871.html' title='Multiple refered from 2 places.'>MAX_FLOW_STATS_BYTES</a> 4096
<a name='L1559'>1559 <font color='darkred'>#define</font> <a href='../R/407.html' title='Multiple refered from 4 places.'>EMERG_TABLE_ID_FOR_STATS</a> 0xfe
<a name='L1560'>1560 
<a name='L1561'>1561 <b>static</b> <b>int</b>
<a name='L1562'>1562 <a href='../R/3084.html' title='Multiple refered from 2 places.'>flow_stats_init</a>(<b>const</b> <b>void</b> *<a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>, <b>int</b> <a href='../Y/1644.html' title='Multiple used in 47 places.'>body_len</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>, <b>void</b> **<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>)
<a name='L1563'>1563 <font color='red'>{</font>
<a name='L1564'>1564     <b>const</b> <b>struct</b> <a href='../D/8787.html' title='Multiple defined in 4 places.'>ofp_flow_stats_request</a> *<a href='../Y/3258.html' title='Multiple used in 10 places.'>fsr</a> = <a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>;
<a name='L1565'>1565     <b>struct</b> <a href='../D/7877.html' title='Multiple defined in 2 places.'>flow_stats_state</a> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a> = <a href='../D/10153.html' title='Multiple defined in 2 places.'>xmalloc</a>(<b>sizeof</b> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>);
<a name='L1566'>1566     <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a> = <a href='../Y/3258.html' title='Multiple used in 10 places.'>fsr</a>-&gt;<a href='../Y/7227.html' title='Multiple used in 65 places.'>table_id</a> == 0xff ? 0 : <a href='../Y/3258.html' title='Multiple used in 10 places.'>fsr</a>-&gt;<a href='../Y/7227.html' title='Multiple used in 65 places.'>table_id</a>;
<a name='L1567'>1567     <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(&amp;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/5843.html' title='Multiple used in 69 places.'>position</a>, 0, <b>sizeof</b> <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/5843.html' title='Multiple used in 69 places.'>position</a>);
<a name='L1568'>1568     <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a> = *<a href='../Y/3258.html' title='Multiple used in 10 places.'>fsr</a>;
<a name='L1569'>1569     *<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>;
<a name='L1570'>1570     <b>return</b> 0;
<a name='L1571'>1571 <font color='red'>}</font>
<a name='L1572'>1572 
<a name='L1573'>1573 <b>static</b> <b>int</b> <a href='../R/3082.html' title='Multiple refered from 4 places.'>flow_stats_dump_callback</a>(<b>struct</b> <a href='../Y/7178.html' title='Multiple used in 120 places.'>sw_flow</a> *<a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a>, <b>void</b> *<a href='../Y/5911.html' title='Multiple used in 123 places.'>private</a>)
<a name='L1574'>1574 <font color='red'>{</font>
<a name='L1575'>1575     <b>struct</b> <a href='../D/7877.html' title='Multiple defined in 2 places.'>flow_stats_state</a> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a> = <a href='../Y/5911.html' title='Multiple used in 123 places.'>private</a>;
<a name='L1576'>1576     <a href='../S/204.html#L1140' title='Defined at 1140 in cbench/openflow/udatapath/datapath.c.'>fill_flow_stats</a>(<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a>, <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/4938.html' title='Multiple used in 566 places.'>now</a>);
<a name='L1577'>1577     <b>return</b> <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> &gt;= <a href='../S/204.html#L1558' title='Defined at 1558 in cbench/openflow/udatapath/datapath.c.'>MAX_FLOW_STATS_BYTES</a>;
<a name='L1578'>1578 <font color='red'>}</font>
<a name='L1579'>1579 
<a name='L1580'>1580 <b>static</b> <b>int</b> <a href='../R/3081.html' title='Multiple refered from 2 places.'>flow_stats_dump</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>void</b> *<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>,
<a name='L1581'>1581                            <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>)
<a name='L1582'>1582 <font color='red'>{</font>
<a name='L1583'>1583     <b>struct</b> <a href='../D/7877.html' title='Multiple defined in 2 places.'>flow_stats_state</a> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a> = <a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>;
<a name='L1584'>1584     <b>struct</b> <a href='../D/9770.html' title='Multiple defined in 2 places.'>sw_flow_key</a> <a href='../Y/4343.html' title='Multiple used in 16 places.'>match_key</a>;
<a name='L1585'>1585 
<a name='L1586'>1586     <a href='../D/7840.html' title='Multiple defined in 2 places.'>flow_extract_match</a>(&amp;<a href='../Y/4343.html' title='Multiple used in 16 places.'>match_key</a>, &amp;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>.<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>);
<a name='L1587'>1587     <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L1588'>1588     <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/4938.html' title='Multiple used in 566 places.'>now</a> = <a href='../S/902.html#L116' title='Defined at 116 in cbench/openflow/lib/timeval.c.'>time_msec</a>();
<a name='L1589'>1589 
<a name='L1590'>1590     <b>if</b> (<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>.<a href='../Y/7227.html' title='Multiple used in 65 places.'>table_id</a> == <a href='../D/1524.html' title='Multiple defined in 2 places.'>EMERG_TABLE_ID_FOR_STATS</a>) <font color='red'>{</font>
<a name='L1591'>1591         <b>struct</b> <a href='../D/9777.html' title='Multiple defined in 2 places.'>sw_table</a> *<a href='../Y/7225.html' title='Multiple used in 105 places.'>table</a> = <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>-&gt;<a href='../Y/2659.html' title='Multiple used in 20 places.'>emerg_table</a>;
<a name='L1592'>1592 
<a name='L1593'>1593         <a href='../Y/7225.html' title='Multiple used in 105 places.'>table</a>-&gt;<a href='../Y/3961.html' title='Multiple used in 22 places.'>iterate</a>(<a href='../Y/7225.html' title='Multiple used in 105 places.'>table</a>, &amp;<a href='../Y/4343.html' title='Multiple used in 16 places.'>match_key</a>, <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>.<a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>,
<a name='L1594'>1594                        &amp;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/5843.html' title='Multiple used in 69 places.'>position</a>, <a href='../D/7872.html' title='Multiple defined in 2 places.'>flow_stats_dump_callback</a>, <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>);
<a name='L1595'>1595     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1596'>1596         <b>while</b> (<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a> &lt; <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>-&gt;<a href='../Y/4620.html' title='Multiple used in 45 places.'>n_tables</a>
<a name='L1597'>1597                &amp;&amp; (<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>.<a href='../Y/7227.html' title='Multiple used in 65 places.'>table_id</a> == 0xff || <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>.<a href='../Y/7227.html' title='Multiple used in 65 places.'>table_id</a> == <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a>))
<a name='L1598'>1598         <font color='red'>{</font>
<a name='L1599'>1599             <b>struct</b> <a href='../D/9777.html' title='Multiple defined in 2 places.'>sw_table</a> *<a href='../Y/7225.html' title='Multiple used in 105 places.'>table</a> = <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>-&gt;<a href='../Y/7234.html' title='Multiple used in 24 places.'>tables</a>[<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a>];
<a name='L1600'>1600 
<a name='L1601'>1601             <b>if</b> (<a href='../Y/7225.html' title='Multiple used in 105 places.'>table</a>-&gt;<a href='../Y/3961.html' title='Multiple used in 22 places.'>iterate</a>(<a href='../Y/7225.html' title='Multiple used in 105 places.'>table</a>, &amp;<a href='../Y/4343.html' title='Multiple used in 16 places.'>match_key</a>, <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>.<a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>,
<a name='L1602'>1602                                &amp;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/5843.html' title='Multiple used in 69 places.'>position</a>, <a href='../D/7872.html' title='Multiple defined in 2 places.'>flow_stats_dump_callback</a>, <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>))
<a name='L1603'>1603                 <b>break</b>;
<a name='L1604'>1604 
<a name='L1605'>1605             <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a>++;
<a name='L1606'>1606             <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(&amp;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/5843.html' title='Multiple used in 69 places.'>position</a>, 0, <b>sizeof</b> <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/5843.html' title='Multiple used in 69 places.'>position</a>);
<a name='L1607'>1607         <font color='red'>}</font>
<a name='L1608'>1608     <font color='red'>}</font>
<a name='L1609'>1609     <b>return</b> <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> &gt;= <a href='../S/204.html#L1558' title='Defined at 1558 in cbench/openflow/udatapath/datapath.c.'>MAX_FLOW_STATS_BYTES</a>;
<a name='L1610'>1610 <font color='red'>}</font>
<a name='L1611'>1611 
<a name='L1612'>1612 <b>static</b> <b>void</b> <a href='../R/3080.html' title='Multiple refered from 2 places.'>flow_stats_done</a>(<b>void</b> *<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>)
<a name='L1613'>1613 <font color='red'>{</font>
<a name='L1614'>1614     <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>);
<a name='L1615'>1615 <font color='red'>}</font>
<a name='L1616'>1616 
<a name='L1617'>1617 <b>struct</b> <a href='../R/2177.html' title='Multiple refered from 2 places.'>aggregate_stats_state</a> <font color='red'>{</font>
<a name='L1618'>1618     <b>struct</b> <a href='../D/8752.html' title='Multiple defined in 4 places.'>ofp_aggregate_stats_request</a> <a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>;
<a name='L1619'>1619 <font color='red'>}</font>;
<a name='L1620'>1620 
<a name='L1621'>1621 <b>static</b> <b>int</b>
<a name='L1622'>1622 <a href='../R/2175.html' title='Multiple refered from 2 places.'>aggregate_stats_init</a>(<b>const</b> <b>void</b> *<a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>, <b>int</b> <a href='../Y/1644.html' title='Multiple used in 47 places.'>body_len</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>, <b>void</b> **<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>)
<a name='L1623'>1623 <font color='red'>{</font>
<a name='L1624'>1624     <b>const</b> <b>struct</b> <a href='../D/8752.html' title='Multiple defined in 4 places.'>ofp_aggregate_stats_request</a> *<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a> = <a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>;
<a name='L1625'>1625     <b>struct</b> <a href='../S/204.html#L1617' title='Defined at 1617 in cbench/openflow/udatapath/datapath.c.'>aggregate_stats_state</a> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a> = <a href='../D/10153.html' title='Multiple defined in 2 places.'>xmalloc</a>(<b>sizeof</b> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>);
<a name='L1626'>1626     <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a> = *<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>;
<a name='L1627'>1627     *<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>;
<a name='L1628'>1628     <b>return</b> 0;
<a name='L1629'>1629 <font color='red'>}</font>
<a name='L1630'>1630 
<a name='L1631'>1631 <b>static</b> <b>int</b> <a href='../R/2174.html' title='Multiple refered from 4 places.'>aggregate_stats_dump_callback</a>(<b>struct</b> <a href='../Y/7178.html' title='Multiple used in 120 places.'>sw_flow</a> *<a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a>, <b>void</b> *<a href='../Y/5911.html' title='Multiple used in 123 places.'>private</a>)
<a name='L1632'>1632 <font color='red'>{</font>
<a name='L1633'>1633     <b>struct</b> <a href='../D/8751.html' title='Multiple defined in 4 places.'>ofp_aggregate_stats_reply</a> *<a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a> = <a href='../Y/5911.html' title='Multiple used in 123 places.'>private</a>;
<a name='L1634'>1634     <a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>-&gt;<a href='../Y/5595.html' title='Multiple used in 48 places.'>packet_count</a> += <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5595.html' title='Multiple used in 48 places.'>packet_count</a>;
<a name='L1635'>1635     <a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>-&gt;<a href='../Y/1732.html' title='Multiple used in 68 places.'>byte_count</a> += <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/1732.html' title='Multiple used in 68 places.'>byte_count</a>;
<a name='L1636'>1636     <a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>-&gt;<a href='../Y/3136.html' title='Multiple used in 25 places.'>flow_count</a>++;
<a name='L1637'>1637     <b>return</b> 0;
<a name='L1638'>1638 <font color='red'>}</font>
<a name='L1639'>1639 
<a name='L1640'>1640 <b>static</b> <b>int</b> <a href='../R/2173.html' title='Multiple refered from 2 places.'>aggregate_stats_dump</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>void</b> *<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>,
<a name='L1641'>1641                                 <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>)
<a name='L1642'>1642 <font color='red'>{</font>
<a name='L1643'>1643     <b>struct</b> <a href='../S/204.html#L1617' title='Defined at 1617 in cbench/openflow/udatapath/datapath.c.'>aggregate_stats_state</a> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a> = <a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>;
<a name='L1644'>1644     <b>struct</b> <a href='../D/8752.html' title='Multiple defined in 4 places.'>ofp_aggregate_stats_request</a> *<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a> = &amp;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>;
<a name='L1645'>1645     <b>struct</b> <a href='../D/8751.html' title='Multiple defined in 4 places.'>ofp_aggregate_stats_reply</a> *<a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>;
<a name='L1646'>1646     <b>struct</b> <a href='../D/9781.html' title='Multiple defined in 2 places.'>sw_table_position</a> <a href='../Y/5843.html' title='Multiple used in 69 places.'>position</a>;
<a name='L1647'>1647     <b>struct</b> <a href='../D/9770.html' title='Multiple defined in 2 places.'>sw_flow_key</a> <a href='../Y/4343.html' title='Multiple used in 16 places.'>match_key</a>;
<a name='L1648'>1648     <b>int</b> <a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a>;
<a name='L1649'>1649     <b>int</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L1650'>1650 
<a name='L1651'>1651     <a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a> = <a href='../S/887.html#L175' title='Defined at 175 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_uninit</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <b>sizeof</b> *<a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>);
<a name='L1652'>1652     <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>, 0, <b>sizeof</b> *<a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>);
<a name='L1653'>1653 
<a name='L1654'>1654     <a href='../D/7840.html' title='Multiple defined in 2 places.'>flow_extract_match</a>(&amp;<a href='../Y/4343.html' title='Multiple used in 16 places.'>match_key</a>, &amp;<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>);
<a name='L1655'>1655     <a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a> = <a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/7227.html' title='Multiple used in 65 places.'>table_id</a> == 0xff ? 0 : <a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/7227.html' title='Multiple used in 65 places.'>table_id</a>;
<a name='L1656'>1656     <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(&amp;<a href='../Y/5843.html' title='Multiple used in 69 places.'>position</a>, 0, <b>sizeof</b> <a href='../Y/5843.html' title='Multiple used in 69 places.'>position</a>);
<a name='L1657'>1657 
<a name='L1658'>1658     <b>if</b> (<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/7227.html' title='Multiple used in 65 places.'>table_id</a> == <a href='../D/1524.html' title='Multiple defined in 2 places.'>EMERG_TABLE_ID_FOR_STATS</a>) <font color='red'>{</font>
<a name='L1659'>1659         <b>struct</b> <a href='../D/9777.html' title='Multiple defined in 2 places.'>sw_table</a> *<a href='../Y/7225.html' title='Multiple used in 105 places.'>table</a> = <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>-&gt;<a href='../Y/2659.html' title='Multiple used in 20 places.'>emerg_table</a>;
<a name='L1660'>1660 
<a name='L1661'>1661         <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../Y/7225.html' title='Multiple used in 105 places.'>table</a>-&gt;<a href='../Y/3961.html' title='Multiple used in 22 places.'>iterate</a>(<a href='../Y/7225.html' title='Multiple used in 105 places.'>table</a>, &amp;<a href='../Y/4343.html' title='Multiple used in 16 places.'>match_key</a>, <a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>, &amp;<a href='../Y/5843.html' title='Multiple used in 69 places.'>position</a>,
<a name='L1662'>1662                                <a href='../D/6850.html' title='Multiple defined in 2 places.'>aggregate_stats_dump_callback</a>, <a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>);
<a name='L1663'>1663         <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>)
<a name='L1664'>1664             <b>return</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L1665'>1665     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1666'>1666         <b>while</b> (<a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a> &lt; <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>-&gt;<a href='../Y/4620.html' title='Multiple used in 45 places.'>n_tables</a>
<a name='L1667'>1667                &amp;&amp; (<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/7227.html' title='Multiple used in 65 places.'>table_id</a> == 0xff || <a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/7227.html' title='Multiple used in 65 places.'>table_id</a> == <a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a>))
<a name='L1668'>1668         <font color='red'>{</font>
<a name='L1669'>1669             <b>struct</b> <a href='../D/9777.html' title='Multiple defined in 2 places.'>sw_table</a> *<a href='../Y/7225.html' title='Multiple used in 105 places.'>table</a> = <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>-&gt;<a href='../Y/7234.html' title='Multiple used in 24 places.'>tables</a>[<a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a>];
<a name='L1670'>1670 
<a name='L1671'>1671             <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../Y/7225.html' title='Multiple used in 105 places.'>table</a>-&gt;<a href='../Y/3961.html' title='Multiple used in 22 places.'>iterate</a>(<a href='../Y/7225.html' title='Multiple used in 105 places.'>table</a>, &amp;<a href='../Y/4343.html' title='Multiple used in 16 places.'>match_key</a>, <a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>, &amp;<a href='../Y/5843.html' title='Multiple used in 69 places.'>position</a>,
<a name='L1672'>1672                                    <a href='../D/6850.html' title='Multiple defined in 2 places.'>aggregate_stats_dump_callback</a>, <a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>);
<a name='L1673'>1673             <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>)
<a name='L1674'>1674                 <b>return</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L1675'>1675 
<a name='L1676'>1676             <a href='../Y/7228.html' title='Multiple used in 33 places.'>table_idx</a>++;
<a name='L1677'>1677             <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(&amp;<a href='../Y/5843.html' title='Multiple used in 69 places.'>position</a>, 0, <b>sizeof</b> <a href='../Y/5843.html' title='Multiple used in 69 places.'>position</a>);
<a name='L1678'>1678         <font color='red'>}</font>
<a name='L1679'>1679     <font color='red'>}</font>
<a name='L1680'>1680 
<a name='L1681'>1681     <a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>-&gt;<a href='../Y/5595.html' title='Multiple used in 48 places.'>packet_count</a> = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>-&gt;<a href='../Y/5595.html' title='Multiple used in 48 places.'>packet_count</a>);
<a name='L1682'>1682     <a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>-&gt;<a href='../Y/1732.html' title='Multiple used in 68 places.'>byte_count</a> = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>-&gt;<a href='../Y/1732.html' title='Multiple used in 68 places.'>byte_count</a>);
<a name='L1683'>1683     <a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>-&gt;<a href='../Y/3136.html' title='Multiple used in 25 places.'>flow_count</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../Y/6472.html' title='Multiple used in 26 places.'>rpy</a>-&gt;<a href='../Y/3136.html' title='Multiple used in 25 places.'>flow_count</a>);
<a name='L1684'>1684     <b>return</b> 0;
<a name='L1685'>1685 <font color='red'>}</font>
<a name='L1686'>1686 
<a name='L1687'>1687 <b>static</b> <b>void</b> <a href='../S/204.html#L2002' title='Refered from 2002 in cbench/openflow/udatapath/datapath.c.'>aggregate_stats_done</a>(<b>void</b> *<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>)
<a name='L1688'>1688 <font color='red'>{</font>
<a name='L1689'>1689     <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>);
<a name='L1690'>1690 <font color='red'>}</font>
<a name='L1691'>1691 
<a name='L1692'>1692 <b>static</b> <b>int</b>
<a name='L1693'>1693 <a href='../R/4742.html' title='Multiple refered from 2 places.'>table_stats_dump</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>void</b> *<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>,
<a name='L1694'>1694                  <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>)
<a name='L1695'>1695 <font color='red'>{</font>
<a name='L1696'>1696     <b>int</b> <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>;
<a name='L1697'>1697     <b>for</b> (<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> = 0; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> &lt; <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>-&gt;<a href='../Y/4620.html' title='Multiple used in 45 places.'>n_tables</a>; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>++) <font color='red'>{</font>
<a name='L1698'>1698         <b>struct</b> <a href='../D/8916.html' title='Multiple defined in 3 places.'>ofp_table_stats</a> *<a href='../Y/5527.html' title='Multiple used in 20 places.'>ots</a> = <a href='../S/887.html#L175' title='Defined at 175 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_uninit</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <b>sizeof</b> *<a href='../Y/5527.html' title='Multiple used in 20 places.'>ots</a>);
<a name='L1699'>1699         <b>struct</b> <a href='../D/9782.html' title='Multiple defined in 2 places.'>sw_table_stats</a> <a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>;
<a name='L1700'>1700         <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>-&gt;<a href='../Y/7234.html' title='Multiple used in 24 places.'>tables</a>[<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>]-&gt;<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/1847.html' title='Multiple used in 211 places.'>chain</a>-&gt;<a href='../Y/7234.html' title='Multiple used in 24 places.'>tables</a>[<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>], &amp;<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>);
<a name='L1701'>1701         <a href='../Y/7102.html' title='Multiple used in 59 places.'>strncpy</a>(<a href='../Y/5527.html' title='Multiple used in 20 places.'>ots</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <b>sizeof</b> <a href='../Y/5527.html' title='Multiple used in 20 places.'>ots</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>);
<a name='L1702'>1702         <a href='../Y/5527.html' title='Multiple used in 20 places.'>ots</a>-&gt;<a href='../Y/7227.html' title='Multiple used in 65 places.'>table_id</a> = <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>;
<a name='L1703'>1703         <a href='../Y/5527.html' title='Multiple used in 20 places.'>ots</a>-&gt;<a href='../Y/7877.html' title='Multiple used in 308 places.'>wildcards</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/7877.html' title='Multiple used in 308 places.'>wildcards</a>);
<a name='L1704'>1704         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/5527.html' title='Multiple used in 20 places.'>ots</a>-&gt;<a href='../Y/5627.html' title='Multiple used in 143 places.'>pad</a>, 0, <b>sizeof</b> <a href='../Y/5527.html' title='Multiple used in 20 places.'>ots</a>-&gt;<a href='../Y/5627.html' title='Multiple used in 143 places.'>pad</a>);
<a name='L1705'>1705         <a href='../Y/5527.html' title='Multiple used in 20 places.'>ots</a>-&gt;<a href='../Y/4367.html' title='Multiple used in 6 places.'>max_entries</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/4370.html' title='Multiple used in 32 places.'>max_flows</a>);
<a name='L1706'>1706         <a href='../Y/5527.html' title='Multiple used in 20 places.'>ots</a>-&gt;<a href='../Y/1299.html' title='Multiple used in 6 places.'>active_count</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/4588.html' title='Multiple used in 45 places.'>n_flows</a>);
<a name='L1707'>1707         <a href='../Y/5527.html' title='Multiple used in 20 places.'>ots</a>-&gt;<a href='../Y/4244.html' title='Multiple used in 6 places.'>lookup_count</a> = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/4600.html' title='Multiple used in 22 places.'>n_lookup</a>);
<a name='L1708'>1708         <a href='../Y/5527.html' title='Multiple used in 20 places.'>ots</a>-&gt;<a href='../Y/4349.html' title='Multiple used in 6 places.'>matched_count</a> = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/4601.html' title='Multiple used in 23 places.'>n_matched</a>);
<a name='L1709'>1709     <font color='red'>}</font>
<a name='L1710'>1710     <b>return</b> 0;
<a name='L1711'>1711 <font color='red'>}</font>
<a name='L1712'>1712 
<a name='L1713'>1713 <b>struct</b> <a href='../R/4092.html' title='Multiple refered from 4 places.'>port_stats_state</a> <font color='red'>{</font>
<a name='L1714'>1714     <b>int</b> <a href='../Y/6991.html' title='Multiple used in 13 places.'>start_port</a>;     <i><font color='green'>/* port to start dumping from */</font></i>
<a name='L1715'>1715     <b>int</b> <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>;        <i><font color='green'>/* from ofp_stats_request */</font></i>
<a name='L1716'>1716 <font color='red'>}</font>;
<a name='L1717'>1717 
<a name='L1718'>1718 <b>struct</b> <a href='../R/4245.html' title='Multiple refered from 2 places.'>queue_stats_state</a> <font color='red'>{</font>
<a name='L1719'>1719     <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>;
<a name='L1720'>1720     <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>;
<a name='L1721'>1721 <font color='red'>}</font>;
<a name='L1722'>1722 
<a name='L1723'>1723 <b>static</b> <b>int</b>
<a name='L1724'>1724 <a href='../R/4090.html' title='Multiple refered from 2 places.'>port_stats_init</a>(<b>const</b> <b>void</b> *<a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>, <b>int</b> <a href='../Y/1644.html' title='Multiple used in 47 places.'>body_len</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>, <b>void</b> **<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>)
<a name='L1725'>1725 <font color='red'>{</font>
<a name='L1726'>1726     <b>struct</b> <a href='../D/9106.html' title='Multiple defined in 2 places.'>port_stats_state</a> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a> = <a href='../D/10153.html' title='Multiple defined in 2 places.'>xmalloc</a>(<b>sizeof</b> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>);
<a name='L1727'>1727     <b>const</b> <b>struct</b> <a href='../D/8862.html' title='Multiple defined in 3 places.'>ofp_port_stats_request</a> *<a href='../Y/6119.html' title='Multiple used in 9 places.'>psr</a> = <a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>;
<a name='L1728'>1728 
<a name='L1729'>1729     <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6991.html' title='Multiple used in 13 places.'>start_port</a> = 1;
<a name='L1730'>1730     <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/6119.html' title='Multiple used in 9 places.'>psr</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L1731'>1731     *<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>;
<a name='L1732'>1732     <b>return</b> 0;
<a name='L1733'>1733 <font color='red'>}</font>
<a name='L1734'>1734 
<a name='L1735'>1735 <b>static</b> <b>void</b>
<a name='L1736'>1736 <a href='../R/2863.html' title='Multiple refered from 6 places.'>dump_port_stats</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>struct</b> <a href='../Y/7182.html' title='Multiple used in 14 places.'>sw_port</a> *<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>,
<a name='L1737'>1737                 <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>)
<a name='L1738'>1738 <font color='red'>{</font>
<a name='L1739'>1739     <b>struct</b> <a href='../D/8860.html' title='Multiple defined in 3 places.'>ofp_port_stats</a> *<a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a> = <a href='../S/887.html#L175' title='Defined at 175 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_uninit</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <b>sizeof</b> *<a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>);
<a name='L1740'>1740     <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L1741'>1741     <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/5627.html' title='Multiple used in 143 places.'>pad</a>, 0, <b>sizeof</b> <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/5627.html' title='Multiple used in 143 places.'>pad</a>);
<a name='L1742'>1742     <b>if</b> (<a href='../D/2291.html' title='Multiple defined in 2 places.'>IS_HW_PORT</a>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>)) <font color='red'>{</font>
<a name='L1743'>1743 <font color='darkred'>#if</font> <b>defined</b>(<a href='../Y/623.html' title='Multiple used in 18 places.'>OF_HW_PLAT</a>) &amp;&amp; !<b>defined</b>(<a href='../Y/993.html' title='Multiple used in 11 places.'>USE_NETDEV</a>)
<a name='L1744'>1744         <b>struct</b> <a href='../D/8860.html' title='Multiple defined in 3 places.'>ofp_port_stats</a> <a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>;
<a name='L1745'>1745 
<a name='L1746'>1746         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(&amp;<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>, 0, <b>sizeof</b>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>));
<a name='L1747'>1747         <b>if</b> (<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>-&gt;<a href='../Y/5829.html' title='Multiple used in 5 places.'>port_stats_get</a>) <font color='red'>{</font>
<a name='L1748'>1748             <b>if</b> (<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>-&gt;<a href='../Y/5829.html' title='Multiple used in 5 places.'>port_stats_get</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/3685.html' title='Multiple used in 131 places.'>hw_drv</a>, <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>,
<a name='L1749'>1749                                            &amp;<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>) &lt; 0) <font color='red'>{</font>
<a name='L1750'>1750                 <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("Error getting stats on port %d\n", <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L1751'>1751                 <b>return</b>;
<a name='L1752'>1752             <font color='red'>}</font>
<a name='L1753'>1753         <font color='red'>}</font>
<a name='L1754'>1754         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6526.html' title='Multiple used in 32 places.'>rx_packets</a>   = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/6526.html' title='Multiple used in 32 places.'>rx_packets</a>);
<a name='L1755'>1755         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/7534.html' title='Multiple used in 38 places.'>tx_packets</a>   = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/7534.html' title='Multiple used in 38 places.'>tx_packets</a>);
<a name='L1756'>1756         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6515.html' title='Multiple used in 32 places.'>rx_bytes</a>     = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/6515.html' title='Multiple used in 32 places.'>rx_bytes</a>);
<a name='L1757'>1757         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/7530.html' title='Multiple used in 38 places.'>tx_bytes</a>     = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/7530.html' title='Multiple used in 38 places.'>tx_bytes</a>);
<a name='L1758'>1758         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6519.html' title='Multiple used in 9 places.'>rx_dropped</a>   = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/6519.html' title='Multiple used in 9 places.'>rx_dropped</a>);
<a name='L1759'>1759         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/7531.html' title='Multiple used in 15 places.'>tx_dropped</a>   = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/7531.html' title='Multiple used in 15 places.'>tx_dropped</a>);
<a name='L1760'>1760         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6520.html' title='Multiple used in 9 places.'>rx_errors</a>    = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/6520.html' title='Multiple used in 9 places.'>rx_errors</a>);
<a name='L1761'>1761         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/7532.html' title='Multiple used in 15 places.'>tx_errors</a>    = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/7532.html' title='Multiple used in 15 places.'>tx_errors</a>);
<a name='L1762'>1762         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6521.html' title='Multiple used in 9 places.'>rx_frame_err</a> = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/6521.html' title='Multiple used in 9 places.'>rx_frame_err</a>);
<a name='L1763'>1763         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6524.html' title='Multiple used in 9 places.'>rx_over_err</a>  = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/6524.html' title='Multiple used in 9 places.'>rx_over_err</a>);
<a name='L1764'>1764         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6517.html' title='Multiple used in 9 places.'>rx_crc_err</a>   = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/6517.html' title='Multiple used in 9 places.'>rx_crc_err</a>);
<a name='L1765'>1765         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/2002.html' title='Multiple used in 9 places.'>collisions</a>   = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>.<a href='../Y/2002.html' title='Multiple used in 9 places.'>collisions</a>);
<a name='L1766'>1766 <font color='darkred'>#endif</font>
<a name='L1767'>1767     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1768'>1768         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6526.html' title='Multiple used in 32 places.'>rx_packets</a>   = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/6526.html' title='Multiple used in 32 places.'>rx_packets</a>);
<a name='L1769'>1769         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/7534.html' title='Multiple used in 38 places.'>tx_packets</a>   = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/7534.html' title='Multiple used in 38 places.'>tx_packets</a>);
<a name='L1770'>1770         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6515.html' title='Multiple used in 32 places.'>rx_bytes</a>     = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/6515.html' title='Multiple used in 32 places.'>rx_bytes</a>);
<a name='L1771'>1771         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/7530.html' title='Multiple used in 38 places.'>tx_bytes</a>     = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/7530.html' title='Multiple used in 38 places.'>tx_bytes</a>);
<a name='L1772'>1772         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6519.html' title='Multiple used in 9 places.'>rx_dropped</a>   = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(-1);
<a name='L1773'>1773         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/7531.html' title='Multiple used in 15 places.'>tx_dropped</a>   = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/7531.html' title='Multiple used in 15 places.'>tx_dropped</a>);
<a name='L1774'>1774         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6520.html' title='Multiple used in 9 places.'>rx_errors</a>    = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(-1);
<a name='L1775'>1775         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/7532.html' title='Multiple used in 15 places.'>tx_errors</a>    = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(-1);
<a name='L1776'>1776         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6521.html' title='Multiple used in 9 places.'>rx_frame_err</a> = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(-1);
<a name='L1777'>1777         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6524.html' title='Multiple used in 9 places.'>rx_over_err</a>  = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(-1);
<a name='L1778'>1778         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/6517.html' title='Multiple used in 9 places.'>rx_crc_err</a>   = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(-1);
<a name='L1779'>1779         <a href='../Y/5493.html' title='Multiple used in 84 places.'>ops</a>-&gt;<a href='../Y/2002.html' title='Multiple used in 9 places.'>collisions</a>   = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(-1);
<a name='L1780'>1780     <font color='red'>}</font>
<a name='L1781'>1781 <font color='red'>}</font>
<a name='L1782'>1782 
<a name='L1783'>1783 <i><font color='green'>/* Although this makes some of the motions of being called</font></i>
<a name='L1784'>1784 <i><font color='green'> * multiple times preserving state, it doesn't actually support</font></i>
<a name='L1785'>1785 <i><font color='green'> * that process; the for loop can never break early.</font></i>
<a name='L1786'>1786 <i><font color='green'> */</font></i>
<a name='L1787'>1787 <b>static</b> <b>int</b> <a href='../R/4089.html' title='Multiple refered from 2 places.'>port_stats_dump</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>void</b> *<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>,
<a name='L1788'>1788                            <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>)
<a name='L1789'>1789 <font color='red'>{</font>
<a name='L1790'>1790     <b>struct</b> <a href='../D/9106.html' title='Multiple defined in 2 places.'>port_stats_state</a> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a> = <a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>;
<a name='L1791'>1791     <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L1792'>1792     <b>int</b> <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> = 0;
<a name='L1793'>1793 
<a name='L1794'>1794     <b>if</b> (<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> == <a href='../D/3587.html' title='Multiple defined in 2 places.'>OFPP_NONE</a>) <font color='red'>{</font>
<a name='L1795'>1795         <i><font color='green'>/* Dump statistics for all ports */</font></i>
<a name='L1796'>1796         <b>for</b> (<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> = <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6991.html' title='Multiple used in 13 places.'>start_port</a>; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> &lt; <a href='../D/1464.html' title='Multiple defined in 2 places.'>DP_MAX_PORTS</a>; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>++) <font color='red'>{</font>
<a name='L1797'>1797             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = <a href='../S/204.html#L213' title='Defined at 213 in cbench/openflow/udatapath/datapath.c.'>dp_lookup_port</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>);
<a name='L1798'>1798             <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> &amp;&amp; <a href='../S/201.html#L81' title='Defined at 81 in cbench/openflow/udatapath/datapath.h.'>PORT_IN_USE</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L1799'>1799                 <a href='../D/7610.html' title='Multiple defined in 2 places.'>dump_port_stats</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1800'>1800             <font color='red'>}</font>
<a name='L1801'>1801         <font color='red'>}</font>
<a name='L1802'>1802         <b>if</b> (<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4196.html' title='Multiple used in 23 places.'>local_port</a>) <font color='red'>{</font>
<a name='L1803'>1803             <a href='../D/7610.html' title='Multiple defined in 2 places.'>dump_port_stats</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/4196.html' title='Multiple used in 23 places.'>local_port</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1804'>1804         <font color='red'>}</font>
<a name='L1805'>1805     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L1806'>1806         <i><font color='green'>/* Dump statistics for a single port */</font></i>
<a name='L1807'>1807         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = <a href='../S/204.html#L213' title='Defined at 213 in cbench/openflow/udatapath/datapath.c.'>dp_lookup_port</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L1808'>1808         <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> &amp;&amp; <a href='../S/201.html#L81' title='Defined at 81 in cbench/openflow/udatapath/datapath.h.'>PORT_IN_USE</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L1809'>1809             <a href='../D/7610.html' title='Multiple defined in 2 places.'>dump_port_stats</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1810'>1810         <font color='red'>}</font>
<a name='L1811'>1811     <font color='red'>}</font>
<a name='L1812'>1812 
<a name='L1813'>1813     <b>return</b> 0;
<a name='L1814'>1814 <font color='red'>}</font>
<a name='L1815'>1815 
<a name='L1816'>1816 <b>static</b> <b>void</b> <a href='../R/4088.html' title='Multiple refered from 2 places.'>port_stats_done</a>(<b>void</b> *<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>)
<a name='L1817'>1817 <font color='red'>{</font>
<a name='L1818'>1818     <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>);
<a name='L1819'>1819 <font color='red'>}</font>
<a name='L1820'>1820 
<a name='L1821'>1821 <b>static</b> <b>int</b>
<a name='L1822'>1822 <a href='../S/204.html#L2024' title='Refered from 2024 in cbench/openflow/udatapath/datapath.c.'>queue_stats_init</a>(<b>const</b> <b>void</b> *<a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>, <b>int</b> <a href='../Y/1644.html' title='Multiple used in 47 places.'>body_len</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>, <b>void</b> **<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>)
<a name='L1823'>1823 <font color='red'>{</font>
<a name='L1824'>1824     <b>const</b> <b>struct</b> <a href='../D/8893.html' title='Multiple defined in 3 places.'>ofp_queue_stats_request</a> *<a href='../Y/6197.html' title='Multiple used in 3 places.'>qsr</a> = <a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>;
<a name='L1825'>1825     <b>struct</b> <a href='../S/204.html#L1718' title='Defined at 1718 in cbench/openflow/udatapath/datapath.c.'>queue_stats_state</a> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a> = <a href='../D/10153.html' title='Multiple defined in 2 places.'>xmalloc</a>(<b>sizeof</b> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>);
<a name='L1826'>1826     <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/6197.html' title='Multiple used in 3 places.'>qsr</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L1827'>1827     <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a> = <a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/6197.html' title='Multiple used in 3 places.'>qsr</a>-&gt;<a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>);
<a name='L1828'>1828     *<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>;
<a name='L1829'>1829     <b>return</b> 0;
<a name='L1830'>1830 <font color='red'>}</font>
<a name='L1831'>1831 
<a name='L1832'>1832 <b>static</b> <b>void</b>
<a name='L1833'>1833 <a href='../R/2864.html' title='Multiple refered from 4 places.'>dump_queue_stats</a>(<b>struct</b> <a href='../Y/7184.html' title='Multiple used in 4 places.'>sw_queue</a> *<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>)
<a name='L1834'>1834 <font color='red'>{</font>
<a name='L1835'>1835     <b>struct</b> <a href='../D/8891.html' title='Multiple defined in 3 places.'>ofp_queue_stats</a> *<a href='../Y/5511.html' title='Multiple used in 6 places.'>oqs</a> = <a href='../S/887.html#L175' title='Defined at 175 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_uninit</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <b>sizeof</b> *<a href='../Y/5511.html' title='Multiple used in 6 places.'>oqs</a>);
<a name='L1836'>1836     <a href='../Y/5511.html' title='Multiple used in 6 places.'>oqs</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L1837'>1837     <a href='../Y/5511.html' title='Multiple used in 6 places.'>oqs</a>-&gt;<a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>-&gt;<a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>);
<a name='L1838'>1838     <a href='../Y/5511.html' title='Multiple used in 6 places.'>oqs</a>-&gt;<a href='../Y/7530.html' title='Multiple used in 38 places.'>tx_bytes</a> = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>-&gt;<a href='../Y/7530.html' title='Multiple used in 38 places.'>tx_bytes</a>);
<a name='L1839'>1839     <a href='../Y/5511.html' title='Multiple used in 6 places.'>oqs</a>-&gt;<a href='../Y/7534.html' title='Multiple used in 38 places.'>tx_packets</a> = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>-&gt;<a href='../Y/7534.html' title='Multiple used in 38 places.'>tx_packets</a>);
<a name='L1840'>1840     <a href='../Y/5511.html' title='Multiple used in 6 places.'>oqs</a>-&gt;<a href='../Y/7532.html' title='Multiple used in 15 places.'>tx_errors</a> = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>-&gt;<a href='../Y/7532.html' title='Multiple used in 15 places.'>tx_errors</a>);
<a name='L1841'>1841 <font color='red'>}</font>
<a name='L1842'>1842 
<a name='L1843'>1843 <b>static</b> <b>int</b>
<a name='L1844'>1844 <a href='../S/204.html#L2025' title='Refered from 2025 in cbench/openflow/udatapath/datapath.c.'>queue_stats_dump</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>void</b> *<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>,
<a name='L1845'>1845                  <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>)
<a name='L1846'>1846 <font color='red'>{</font>
<a name='L1847'>1847     <b>struct</b> <a href='../S/204.html#L1718' title='Defined at 1718 in cbench/openflow/udatapath/datapath.c.'>queue_stats_state</a> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a> = <a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>;
<a name='L1848'>1848     <b>struct</b> <a href='../S/201.html#L57' title='Defined at 57 in cbench/openflow/udatapath/datapath.h.'>sw_queue</a> *<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>;
<a name='L1849'>1849     <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L1850'>1850 
<a name='L1851'>1851 
<a name='L1852'>1852     <b>if</b> (<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> == <a href='../D/3580.html' title='Multiple defined in 3 places.'>OFPP_ALL</a>) <font color='red'>{</font>
<a name='L1853'>1853         <a href='../S/916.html#L73' title='Defined at 73 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>-&gt;<a href='../Y/5817.html' title='Multiple used in 29 places.'>port_list</a>) <font color='red'>{</font>
<a name='L1854'>1854             <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> &lt; <a href='../D/3586.html' title='Multiple defined in 3 places.'>OFPP_MAX</a>) <font color='red'>{</font>
<a name='L1855'>1855                 <b>if</b> (<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a> == <a href='../D/3602.html' title='Multiple defined in 3 places.'>OFPQ_ALL</a>) <font color='red'>{</font>
<a name='L1856'>1856                     <a href='../S/916.html#L73' title='Defined at 73 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>, <b>struct</b> <a href='../S/201.html#L57' title='Defined at 57 in cbench/openflow/udatapath/datapath.h.'>sw_queue</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/6212.html' title='Multiple used in 8 places.'>queue_list</a>) <font color='red'>{</font>
<a name='L1857'>1857                         <a href='../S/204.html#L1833' title='Defined at 1833 in cbench/openflow/udatapath/datapath.c.'>dump_queue_stats</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>,<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1858'>1858                     <font color='red'>}</font>
<a name='L1859'>1859                 <font color='red'>}</font>
<a name='L1860'>1860                 <b>else</b> <font color='red'>{</font>
<a name='L1861'>1861                     <a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a> = <a href='../S/204.html#L221' title='Defined at 221 in cbench/openflow/udatapath/datapath.c.'>dp_lookup_queue</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>);
<a name='L1862'>1862                     <b>if</b> (<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>) <font color='red'>{</font>
<a name='L1863'>1863                         <a href='../S/204.html#L1833' title='Defined at 1833 in cbench/openflow/udatapath/datapath.c.'>dump_queue_stats</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1864'>1864                     <font color='red'>}</font>
<a name='L1865'>1865                 <font color='red'>}</font>
<a name='L1866'>1866             <font color='red'>}</font>
<a name='L1867'>1867         <font color='red'>}</font>
<a name='L1868'>1868     <font color='red'>}</font>
<a name='L1869'>1869     <b>else</b> <font color='red'>{</font>
<a name='L1870'>1870         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = <a href='../S/204.html#L213' title='Defined at 213 in cbench/openflow/udatapath/datapath.c.'>dp_lookup_port</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>);
<a name='L1871'>1871         <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>) <font color='red'>{</font>
<a name='L1872'>1872             <b>if</b> (<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a> == <a href='../D/3602.html' title='Multiple defined in 3 places.'>OFPQ_ALL</a>) <font color='red'>{</font>
<a name='L1873'>1873                 <a href='../S/916.html#L73' title='Defined at 73 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>, <b>struct</b> <a href='../S/201.html#L57' title='Defined at 57 in cbench/openflow/udatapath/datapath.h.'>sw_queue</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/6212.html' title='Multiple used in 8 places.'>queue_list</a>) <font color='red'>{</font>
<a name='L1874'>1874                     <a href='../S/204.html#L1833' title='Defined at 1833 in cbench/openflow/udatapath/datapath.c.'>dump_queue_stats</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>,<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1875'>1875                 <font color='red'>}</font>
<a name='L1876'>1876             <font color='red'>}</font>
<a name='L1877'>1877             <b>else</b> <font color='red'>{</font>
<a name='L1878'>1878                 <a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a> = <a href='../S/204.html#L221' title='Defined at 221 in cbench/openflow/udatapath/datapath.c.'>dp_lookup_queue</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/6209.html' title='Multiple used in 61 places.'>queue_id</a>);
<a name='L1879'>1879                 <b>if</b> (<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>) <font color='red'>{</font>
<a name='L1880'>1880                     <a href='../S/204.html#L1833' title='Defined at 1833 in cbench/openflow/udatapath/datapath.c.'>dump_queue_stats</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1881'>1881                 <font color='red'>}</font>
<a name='L1882'>1882             <font color='red'>}</font>
<a name='L1883'>1883         <font color='red'>}</font>
<a name='L1884'>1884     <font color='red'>}</font>
<a name='L1885'>1885     <b>return</b> 0;
<a name='L1886'>1886 <font color='red'>}</font>
<a name='L1887'>1887 
<a name='L1888'>1888 <b>static</b> <b>void</b>
<a name='L1889'>1889 <a href='../S/204.html#L2026' title='Refered from 2026 in cbench/openflow/udatapath/datapath.c.'>queue_stats_done</a>(<b>void</b> *<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>)
<a name='L1890'>1890 <font color='red'>{</font>
<a name='L1891'>1891     <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>);
<a name='L1892'>1892 <font color='red'>}</font>
<a name='L1893'>1893 
<a name='L1894'>1894 <i><font color='green'>/*</font></i>
<a name='L1895'>1895 <i><font color='green'> * We don't define any vendor_stats_state, we let the actual</font></i>
<a name='L1896'>1896 <i><font color='green'> * vendor implementation do that.</font></i>
<a name='L1897'>1897 <i><font color='green'> * The only requirement is that the first member of that object</font></i>
<a name='L1898'>1898 <i><font color='green'> * should be the vendor id.</font></i>
<a name='L1899'>1899 <i><font color='green'> * Jean II</font></i>
<a name='L1900'>1900 <i><font color='green'> *</font></i>
<a name='L1901'>1901 <i><font color='green'> * Basically, it would look like :</font></i>
<a name='L1902'>1902 <i><font color='green'> * struct acme_stats_state {</font></i>
<a name='L1903'>1903 <i><font color='green'> *   uint32_t              vendor;         // ACME_VENDOR_ID.</font></i>
<a name='L1904'>1904 <i><font color='green'> * &lt;...&gt;                                  // Other stuff.</font></i>
<a name='L1905'>1905 <i><font color='green'> * };</font></i>
<a name='L1906'>1906 <i><font color='green'> */</font></i>
<a name='L1907'>1907 <b>static</b> <b>int</b>
<a name='L1908'>1908 <a href='../R/4934.html' title='Multiple refered from 2 places.'>vendor_stats_init</a>(<b>const</b> <b>void</b> *<a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>, <b>int</b> <a href='../Y/1644.html' title='Multiple used in 47 places.'>body_len</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>,
<a name='L1909'>1909                   <b>void</b> **<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>)
<a name='L1910'>1910 <font color='red'>{</font>
<a name='L1911'>1911         <i><font color='green'>/* min_body was checked, this should be safe */</font></i>
<a name='L1912'>1912         <b>const</b> <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/7757.html' title='Multiple used in 43 places.'>vendor</a> = <a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(*((<a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> *)<a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>));
<a name='L1913'>1913         <b>int</b> <a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a>;
<a name='L1914'>1914 
<a name='L1915'>1915         <b>switch</b> (<a href='../Y/7757.html' title='Multiple used in 43 places.'>vendor</a>) <font color='red'>{</font>
<a name='L1916'>1916         <b>default</b>:
<a name='L1917'>1917                 <a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a> = -<a href='../Y/267.html' title='Multiple used in 50 places.'>EINVAL</a>;
<a name='L1918'>1918         <font color='red'>}</font>
<a name='L1919'>1919 
<a name='L1920'>1920         <b>return</b> <a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a>;
<a name='L1921'>1921 <font color='red'>}</font>
<a name='L1922'>1922 
<a name='L1923'>1923 <b>static</b> <b>int</b>
<a name='L1924'>1924 <a href='../R/4933.html' title='Multiple refered from 2 places.'>vendor_stats_dump</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>, <b>void</b> *<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>,
<a name='L1925'>1925                   <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>)
<a name='L1926'>1926 <font color='red'>{</font>
<a name='L1927'>1927         <b>const</b> <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/7757.html' title='Multiple used in 43 places.'>vendor</a> = *((<a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> *)<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>);
<a name='L1928'>1928         <b>int</b> <a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a>;
<a name='L1929'>1929 
<a name='L1930'>1930         <b>switch</b> (<a href='../Y/7757.html' title='Multiple used in 43 places.'>vendor</a>) <font color='red'>{</font>
<a name='L1931'>1931         <b>default</b>:
<a name='L1932'>1932                 <i><font color='green'>/* Should never happen */</font></i>
<a name='L1933'>1933                 <a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a> = 0;
<a name='L1934'>1934         <font color='red'>}</font>
<a name='L1935'>1935 
<a name='L1936'>1936         <b>return</b> <a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a>;
<a name='L1937'>1937 <font color='red'>}</font>
<a name='L1938'>1938 
<a name='L1939'>1939 <b>static</b> <b>void</b>
<a name='L1940'>1940 <a href='../R/4932.html' title='Multiple refered from 2 places.'>vendor_stats_done</a>(<b>void</b> *<a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>)
<a name='L1941'>1941 <font color='red'>{</font>
<a name='L1942'>1942         <b>const</b> <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/7757.html' title='Multiple used in 43 places.'>vendor</a> = *((<a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> *) <a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>);
<a name='L1943'>1943 
<a name='L1944'>1944         <b>switch</b> (<a href='../Y/7757.html' title='Multiple used in 43 places.'>vendor</a>) <font color='red'>{</font>
<a name='L1945'>1945         <b>default</b>:
<a name='L1946'>1946                 <i><font color='green'>/* Should never happen */</font></i>
<a name='L1947'>1947                 <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>);
<a name='L1948'>1948         <font color='red'>}</font>
<a name='L1949'>1949 
<a name='L1950'>1950         <b>return</b>;
<a name='L1951'>1951 <font color='red'>}</font>
<a name='L1952'>1952 
<a name='L1953'>1953 <b>struct</b> <a href='../R/4532.html' title='Multiple refered from 11 places.'>stats_type</a> <font color='red'>{</font>
<a name='L1954'>1954     <i><font color='green'>/* Value for 'type' member of struct ofp_stats_request. */</font></i>
<a name='L1955'>1955     <b>int</b> <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>;
<a name='L1956'>1956 
<a name='L1957'>1957     <i><font color='green'>/* Minimum and maximum acceptable number of bytes in body member of</font></i>
<a name='L1958'>1958 <i><font color='green'>     * struct ofp_stats_request. */</font></i>
<a name='L1959'>1959     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/4451.html' title='Multiple used in 7 places.'>min_body</a>, <a href='../Y/4363.html' title='Multiple used in 7 places.'>max_body</a>;
<a name='L1960'>1960 
<a name='L1961'>1961     <i><font color='green'>/* Prepares to dump some kind of datapath statistics.  'body' and</font></i>
<a name='L1962'>1962 <i><font color='green'>     * 'body_len' are the 'body' member of the struct ofp_stats_request.</font></i>
<a name='L1963'>1963 <i><font color='green'>     * Returns zero if successful, otherwise a negative error code.</font></i>
<a name='L1964'>1964 <i><font color='green'>     * May initialize '*state' to state information.  May be null if no</font></i>
<a name='L1965'>1965 <i><font color='green'>     * initialization is required.*/</font></i>
<a name='L1966'>1966     <b>int</b> (*<a href='../D/8107.html' title='Multiple defined in 14 places.'>init</a>)(<b>const</b> <b>void</b> *<a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>, <b>int</b> <a href='../Y/1644.html' title='Multiple used in 47 places.'>body_len</a>, <b>void</b> **<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>);
<a name='L1967'>1967 
<a name='L1968'>1968     <i><font color='green'>/* Appends statistics for 'dp' to 'buffer', which initially contains a</font></i>
<a name='L1969'>1969 <i><font color='green'>     * struct ofp_stats_reply.  On success, it should return 1 if it should be</font></i>
<a name='L1970'>1970 <i><font color='green'>     * called again later with another buffer, 0 if it is done, or a negative</font></i>
<a name='L1971'>1971 <i><font color='green'>     * errno value on failure. */</font></i>
<a name='L1972'>1972     <b>int</b> (*<a href='../S/252.html#L203' title='Defined at 203 in cbench/openflow/tests/test-stp.c.'>dump</a>)(<b>struct</b> <a href='../D/7268.html' title='Multiple defined in 2 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>void</b> *<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>, <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L1973'>1973 
<a name='L1974'>1974     <i><font color='green'>/* Cleans any state created by the init or dump functions.  May be null</font></i>
<a name='L1975'>1975 <i><font color='green'>     * if no cleanup is required. */</font></i>
<a name='L1976'>1976     <b>void</b> (*<a href='../Y/2494.html' title='Multiple used in 87 places.'>done</a>)(<b>void</b> *<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>);
<a name='L1977'>1977 <font color='red'>}</font>;
<a name='L1978'>1978 
<a name='L1979'>1979 <b>static</b> <b>const</b> <b>struct</b> <a href='../D/9615.html' title='Multiple defined in 3 places.'>stats_type</a> <a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>[] = <font color='red'>{</font>
<a name='L1980'>1980     <font color='red'>{</font>
<a name='L1981'>1981         <a href='../D/3622.html' title='Multiple defined in 2 places.'>OFPST_DESC</a>,
<a name='L1982'>1982         0,
<a name='L1983'>1983         0,
<a name='L1984'>1984         <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>,
<a name='L1985'>1985         <a href='../D/7307.html' title='Multiple defined in 2 places.'>desc_stats_dump</a>,
<a name='L1986'>1986         <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>
<a name='L1987'>1987     <font color='red'>}</font>,
<a name='L1988'>1988     <font color='red'>{</font>
<a name='L1989'>1989         <a href='../D/3623.html' title='Multiple defined in 2 places.'>OFPST_FLOW</a>,
<a name='L1990'>1990         <b>sizeof</b>(<b>struct</b> <a href='../D/8787.html' title='Multiple defined in 4 places.'>ofp_flow_stats_request</a>),
<a name='L1991'>1991         <b>sizeof</b>(<b>struct</b> <a href='../D/8787.html' title='Multiple defined in 4 places.'>ofp_flow_stats_request</a>),
<a name='L1992'>1992         <a href='../D/7874.html' title='Multiple defined in 2 places.'>flow_stats_init</a>,
<a name='L1993'>1993         <a href='../D/7871.html' title='Multiple defined in 2 places.'>flow_stats_dump</a>,
<a name='L1994'>1994         <a href='../D/7870.html' title='Multiple defined in 2 places.'>flow_stats_done</a>
<a name='L1995'>1995     <font color='red'>}</font>,
<a name='L1996'>1996     <font color='red'>{</font>
<a name='L1997'>1997         <a href='../D/3621.html' title='Multiple defined in 2 places.'>OFPST_AGGREGATE</a>,
<a name='L1998'>1998         <b>sizeof</b>(<b>struct</b> <a href='../D/8752.html' title='Multiple defined in 4 places.'>ofp_aggregate_stats_request</a>),
<a name='L1999'>1999         <b>sizeof</b>(<b>struct</b> <a href='../D/8752.html' title='Multiple defined in 4 places.'>ofp_aggregate_stats_request</a>),
<a name='L2000'>2000         <a href='../D/6851.html' title='Multiple defined in 2 places.'>aggregate_stats_init</a>,
<a name='L2001'>2001         <a href='../D/6849.html' title='Multiple defined in 2 places.'>aggregate_stats_dump</a>,
<a name='L2002'>2002         <a href='../S/204.html#L1687' title='Defined at 1687 in cbench/openflow/udatapath/datapath.c.'>aggregate_stats_done</a>
<a name='L2003'>2003     <font color='red'>}</font>,
<a name='L2004'>2004     <font color='red'>{</font>
<a name='L2005'>2005         <a href='../D/3626.html' title='Multiple defined in 2 places.'>OFPST_TABLE</a>,
<a name='L2006'>2006         0,
<a name='L2007'>2007         0,
<a name='L2008'>2008         <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>,
<a name='L2009'>2009         <a href='../D/9830.html' title='Multiple defined in 2 places.'>table_stats_dump</a>,
<a name='L2010'>2010         <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>
<a name='L2011'>2011     <font color='red'>}</font>,
<a name='L2012'>2012     <font color='red'>{</font>
<a name='L2013'>2013         <a href='../D/3624.html' title='Multiple defined in 2 places.'>OFPST_PORT</a>,
<a name='L2014'>2014         <b>sizeof</b>(<b>struct</b> <a href='../D/8862.html' title='Multiple defined in 3 places.'>ofp_port_stats_request</a>),
<a name='L2015'>2015         <b>sizeof</b>(<b>struct</b> <a href='../D/8862.html' title='Multiple defined in 3 places.'>ofp_port_stats_request</a>),
<a name='L2016'>2016         <a href='../D/9104.html' title='Multiple defined in 2 places.'>port_stats_init</a>,
<a name='L2017'>2017         <a href='../D/9103.html' title='Multiple defined in 2 places.'>port_stats_dump</a>,
<a name='L2018'>2018         <a href='../D/9102.html' title='Multiple defined in 2 places.'>port_stats_done</a>
<a name='L2019'>2019     <font color='red'>}</font>,
<a name='L2020'>2020     <font color='red'>{</font>
<a name='L2021'>2021         <a href='../D/3625.html' title='Multiple defined in 2 places.'>OFPST_QUEUE</a>,
<a name='L2022'>2022         <b>sizeof</b>(<b>struct</b> <a href='../D/8893.html' title='Multiple defined in 3 places.'>ofp_queue_stats_request</a>),
<a name='L2023'>2023         <b>sizeof</b>(<b>struct</b> <a href='../D/8893.html' title='Multiple defined in 3 places.'>ofp_queue_stats_request</a>),
<a name='L2024'>2024         <a href='../S/204.html#L1822' title='Defined at 1822 in cbench/openflow/udatapath/datapath.c.'>queue_stats_init</a>,
<a name='L2025'>2025         <a href='../S/204.html#L1844' title='Defined at 1844 in cbench/openflow/udatapath/datapath.c.'>queue_stats_dump</a>,
<a name='L2026'>2026         <a href='../S/204.html#L1889' title='Defined at 1889 in cbench/openflow/udatapath/datapath.c.'>queue_stats_done</a>
<a name='L2027'>2027     <font color='red'>}</font>,
<a name='L2028'>2028     <font color='red'>{</font>
<a name='L2029'>2029         <a href='../D/3627.html' title='Multiple defined in 2 places.'>OFPST_VENDOR</a>,
<a name='L2030'>2030         8,             <i><font color='green'>/* vendor + subtype */</font></i>
<a name='L2031'>2031         32,            <i><font color='green'>/* whatever */</font></i>
<a name='L2032'>2032         <a href='../D/10044.html' title='Multiple defined in 2 places.'>vendor_stats_init</a>,
<a name='L2033'>2033         <a href='../D/10043.html' title='Multiple defined in 2 places.'>vendor_stats_dump</a>,
<a name='L2034'>2034         <a href='../D/10042.html' title='Multiple defined in 2 places.'>vendor_stats_done</a>
<a name='L2035'>2035     <font color='red'>}</font>,
<a name='L2036'>2036 <font color='red'>}</font>;
<a name='L2037'>2037 
<a name='L2038'>2038 <b>struct</b> <a href='../R/4528.html' title='Multiple refered from 3 places.'>stats_dump_cb</a> <font color='red'>{</font>
<a name='L2039'>2039     <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/2494.html' title='Multiple used in 87 places.'>done</a>;
<a name='L2040'>2040     <b>struct</b> <a href='../D/8898.html' title='Multiple defined in 3 places.'>ofp_stats_request</a> *<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>;
<a name='L2041'>2041     <b>struct</b> <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a> <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>;
<a name='L2042'>2042     <b>const</b> <b>struct</b> <a href='../D/9615.html' title='Multiple defined in 3 places.'>stats_type</a> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>;
<a name='L2043'>2043     <b>void</b> *<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>;
<a name='L2044'>2044 <font color='red'>}</font>;
<a name='L2045'>2045 
<a name='L2046'>2046 <b>static</b> <b>int</b>
<a name='L2047'>2047 <a href='../S/204.html#L2144' title='Refered from 2144 in cbench/openflow/udatapath/datapath.c.'>stats_dump</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>void</b> *<a href='../Y/1819.html' title='Multiple used in 4 places.'>cb_</a>)
<a name='L2048'>2048 <font color='red'>{</font>
<a name='L2049'>2049     <b>struct</b> <a href='../S/204.html#L2038' title='Defined at 2038 in cbench/openflow/udatapath/datapath.c.'>stats_dump_cb</a> *<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a> = <a href='../Y/1819.html' title='Multiple used in 4 places.'>cb_</a>;
<a name='L2050'>2050     <b>struct</b> <a href='../D/8896.html' title='Multiple defined in 3 places.'>ofp_stats_reply</a> *<a href='../Y/5524.html' title='Multiple used in 32 places.'>osr</a>;
<a name='L2051'>2051     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L2052'>2052     <b>int</b> <a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a>;
<a name='L2053'>2053 
<a name='L2054'>2054     <b>if</b> (<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/2494.html' title='Multiple used in 87 places.'>done</a>) <font color='red'>{</font>
<a name='L2055'>2055         <b>return</b> 0;
<a name='L2056'>2056     <font color='red'>}</font>
<a name='L2057'>2057 
<a name='L2058'>2058     <a href='../Y/5524.html' title='Multiple used in 32 places.'>osr</a> = <a href='../S/204.html#L895' title='Defined at 895 in cbench/openflow/udatapath/datapath.c.'>make_openflow_reply</a>(<b>sizeof</b> *<a href='../Y/5524.html' title='Multiple used in 32 places.'>osr</a>, <a href='../D/3691.html' title='Multiple defined in 2 places.'>OFPT_STATS_REPLY</a>, &amp;<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>,
<a name='L2059'>2059                               &amp;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L2060'>2060     <a href='../Y/5524.html' title='Multiple used in 32 places.'>osr</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>);
<a name='L2061'>2061     <a href='../Y/5524.html' title='Multiple used in 32 places.'>osr</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> = 0;
<a name='L2062'>2062 
<a name='L2063'>2063     <a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a> = <a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../S/252.html#L203' title='Defined at 203 in cbench/openflow/tests/test-stp.c.'>dump</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L2064'>2064     <b>if</b> (<a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a> &gt;= 0) <font color='red'>{</font>
<a name='L2065'>2065         <b>int</b> <a href='../Y/2738.html' title='Multiple used in 4 places.'>err2</a>;
<a name='L2066'>2066         <b>if</b> (!<a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a>) <font color='red'>{</font>
<a name='L2067'>2067             <a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/2494.html' title='Multiple used in 87 places.'>done</a> = <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>;
<a name='L2068'>2068         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2069'>2069             <i><font color='green'>/* Buffer might have been reallocated, so find our data again. */</font></i>
<a name='L2070'>2070             <a href='../Y/5524.html' title='Multiple used in 32 places.'>osr</a> = <a href='../S/887.html#L244' title='Defined at 244 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_at_assert</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, 0, <b>sizeof</b> *<a href='../Y/5524.html' title='Multiple used in 32 places.'>osr</a>);
<a name='L2071'>2071             <a href='../Y/5524.html' title='Multiple used in 32 places.'>osr</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../D/3619.html' title='Multiple defined in 2 places.'>OFPSF_REPLY_MORE</a>);
<a name='L2072'>2072         <font color='red'>}</font>
<a name='L2073'>2073         <a href='../Y/2738.html' title='Multiple used in 4 places.'>err2</a> = <a href='../D/9482.html' title='Multiple defined in 2 places.'>send_openflow_buffer</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, &amp;<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>);
<a name='L2074'>2074         <b>if</b> (<a href='../Y/2738.html' title='Multiple used in 4 places.'>err2</a>) <font color='red'>{</font>
<a name='L2075'>2075             <a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a> = <a href='../Y/2738.html' title='Multiple used in 4 places.'>err2</a>;
<a name='L2076'>2076         <font color='red'>}</font>
<a name='L2077'>2077     <font color='red'>}</font>
<a name='L2078'>2078 
<a name='L2079'>2079     <b>return</b> <a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a>;
<a name='L2080'>2080 <font color='red'>}</font>
<a name='L2081'>2081 
<a name='L2082'>2082 <b>static</b> <b>void</b>
<a name='L2083'>2083 <a href='../S/204.html#L2144' title='Refered from 2144 in cbench/openflow/udatapath/datapath.c.'>stats_done</a>(<b>void</b> *<a href='../Y/1819.html' title='Multiple used in 4 places.'>cb_</a>)
<a name='L2084'>2084 <font color='red'>{</font>
<a name='L2085'>2085     <b>struct</b> <a href='../S/204.html#L2038' title='Defined at 2038 in cbench/openflow/udatapath/datapath.c.'>stats_dump_cb</a> *<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a> = <a href='../Y/1819.html' title='Multiple used in 4 places.'>cb_</a>;
<a name='L2086'>2086     <b>if</b> (<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>) <font color='red'>{</font>
<a name='L2087'>2087         <b>if</b> (<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/2494.html' title='Multiple used in 87 places.'>done</a>) <font color='red'>{</font>
<a name='L2088'>2088             <a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/2494.html' title='Multiple used in 87 places.'>done</a>(<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>);
<a name='L2089'>2089         <font color='red'>}</font>
<a name='L2090'>2090         <b>if</b> (<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>) <font color='red'>{</font>
<a name='L2091'>2091             <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>);
<a name='L2092'>2092         <font color='red'>}</font>
<a name='L2093'>2093         <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>);
<a name='L2094'>2094     <font color='red'>}</font>
<a name='L2095'>2095 <font color='red'>}</font>
<a name='L2096'>2096 
<a name='L2097'>2097 <b>static</b> <b>int</b>
<a name='L2098'>2098 <a href='../S/204.html#L2279' title='Refered from 2279 in cbench/openflow/udatapath/datapath.c.'>recv_stats_request</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>,
<a name='L2099'>2099                    <b>const</b> <b>void</b> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>)
<a name='L2100'>2100 <font color='red'>{</font>
<a name='L2101'>2101     <b>const</b> <b>struct</b> <a href='../D/8898.html' title='Multiple defined in 3 places.'>ofp_stats_request</a> *<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a> = <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>;
<a name='L2102'>2102     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/6479.html' title='Multiple used in 3 places.'>rq_len</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>);
<a name='L2103'>2103     <b>const</b> <b>struct</b> <a href='../D/9615.html' title='Multiple defined in 3 places.'>stats_type</a> *<a href='../Y/6963.html' title='Multiple used in 29 places.'>st</a>;
<a name='L2104'>2104     <b>struct</b> <a href='../S/204.html#L2038' title='Defined at 2038 in cbench/openflow/udatapath/datapath.c.'>stats_dump_cb</a> *<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>;
<a name='L2105'>2105     <b>int</b> <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../Y/1644.html' title='Multiple used in 47 places.'>body_len</a>;
<a name='L2106'>2106     <b>int</b> <a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a>;
<a name='L2107'>2107 
<a name='L2108'>2108     <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>);
<a name='L2109'>2109     <b>for</b> (<a href='../Y/6963.html' title='Multiple used in 29 places.'>st</a> = <a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>; ; <a href='../Y/6963.html' title='Multiple used in 29 places.'>st</a>++) <font color='red'>{</font>
<a name='L2110'>2110         <b>if</b> (<a href='../Y/6963.html' title='Multiple used in 29 places.'>st</a> &gt;= &amp;<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>[<a href='../S/840.html#L69' title='Defined at 69 in cbench/openflow/lib/util.h.'>ARRAY_SIZE</a>(<a href='../Y/7023.html' title='Multiple used in 238 places.'>stats</a>)]) <font color='red'>{</font>
<a name='L2111'>2111             <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "received stats request of unknown type %d",
<a name='L2112'>2112                          <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>);
<a name='L2113'>2113             <b>return</b> -<a href='../Y/267.html' title='Multiple used in 50 places.'>EINVAL</a>;
<a name='L2114'>2114         <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> == <a href='../Y/6963.html' title='Multiple used in 29 places.'>st</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>) <font color='red'>{</font>
<a name='L2115'>2115             <b>break</b>;
<a name='L2116'>2116         <font color='red'>}</font>
<a name='L2117'>2117     <font color='red'>}</font>
<a name='L2118'>2118 
<a name='L2119'>2119     <a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a> = <a href='../D/10153.html' title='Multiple defined in 2 places.'>xmalloc</a>(<b>sizeof</b> *<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>);
<a name='L2120'>2120     <a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/2494.html' title='Multiple used in 87 places.'>done</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L2121'>2121     <a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a> = <a href='../S/878.html#L81' title='Defined at 81 in cbench/openflow/lib/util.c.'>xmemdup</a>(<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>, <a href='../Y/6479.html' title='Multiple used in 3 places.'>rq_len</a>);
<a name='L2122'>2122     <a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a> = *<a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>;
<a name='L2123'>2123     <a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a> = <a href='../Y/6963.html' title='Multiple used in 29 places.'>st</a>;
<a name='L2124'>2124     <a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L2125'>2125 
<a name='L2126'>2126     <a href='../Y/1644.html' title='Multiple used in 47 places.'>body_len</a> = <a href='../Y/6479.html' title='Multiple used in 3 places.'>rq_len</a> - <a href='../Y/5075.html' title='Multiple used in 34 places.'>offsetof</a>(<b>struct</b> <a href='../D/8898.html' title='Multiple defined in 3 places.'>ofp_stats_request</a>, <a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>);
<a name='L2127'>2127     <b>if</b> (<a href='../Y/1644.html' title='Multiple used in 47 places.'>body_len</a> &lt; <a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/4451.html' title='Multiple used in 7 places.'>min_body</a> || <a href='../Y/1644.html' title='Multiple used in 47 places.'>body_len</a> &gt; <a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../Y/4363.html' title='Multiple used in 7 places.'>max_body</a>) <font color='red'>{</font>
<a name='L2128'>2128         <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "stats request type %d with bad body length %d",
<a name='L2129'>2129                      <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../Y/1644.html' title='Multiple used in 47 places.'>body_len</a>);
<a name='L2130'>2130         <a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a> = -<a href='../Y/267.html' title='Multiple used in 50 places.'>EINVAL</a>;
<a name='L2131'>2131         <b>goto</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L2132'>2132     <font color='red'>}</font>
<a name='L2133'>2133 
<a name='L2134'>2134     <b>if</b> (<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../D/8107.html' title='Multiple defined in 14 places.'>init</a>) <font color='red'>{</font>
<a name='L2135'>2135         <a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a> = <a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>-&gt;<a href='../D/8107.html' title='Multiple defined in 14 places.'>init</a>(<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>, <a href='../Y/1644.html' title='Multiple used in 47 places.'>body_len</a>, &amp;<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>);
<a name='L2136'>2136         <b>if</b> (<a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a>) <font color='red'>{</font>
<a name='L2137'>2137             <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>,
<a name='L2138'>2138                          "failed initialization of stats request type %d: %s",
<a name='L2139'>2139                          <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../Y/7090.html' title='Multiple used in 143 places.'>strerror</a>(-<a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a>));
<a name='L2140'>2140             <b>goto</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L2141'>2141         <font color='red'>}</font>
<a name='L2142'>2142     <font color='red'>}</font>
<a name='L2143'>2143 
<a name='L2144'>2144     <a href='../S/204.html#L712' title='Defined at 712 in cbench/openflow/udatapath/datapath.c.'>remote_start_dump</a>(<a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>-&gt;<a href='../S/204.html#L165' title='Defined at 165 in cbench/openflow/udatapath/datapath.c.'>remote</a>, <a href='../S/204.html#L2047' title='Defined at 2047 in cbench/openflow/udatapath/datapath.c.'>stats_dump</a>, <a href='../S/204.html#L2083' title='Defined at 2083 in cbench/openflow/udatapath/datapath.c.'>stats_done</a>, <a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>);
<a name='L2145'>2145     <b>return</b> 0;
<a name='L2146'>2146 
<a name='L2147'>2147 <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>:
<a name='L2148'>2148     <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>-&gt;<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>);
<a name='L2149'>2149     <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/1818.html' title='Multiple used in 85 places.'>cb</a>);
<a name='L2150'>2150     <b>return</b> <a href='../S/252.html#L332' title='Defined at 332 in cbench/openflow/tests/test-stp.c.'>err</a>;
<a name='L2151'>2151 <font color='red'>}</font>
<a name='L2152'>2152 
<a name='L2153'>2153 <b>static</b> <b>int</b>
<a name='L2154'>2154 <a href='../R/4326.html' title='Multiple refered from 2 places.'>recv_echo_request</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>,
<a name='L2155'>2155                   <b>const</b> <b>void</b> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>)
<a name='L2156'>2156 <font color='red'>{</font>
<a name='L2157'>2157     <b>return</b> <a href='../D/9482.html' title='Multiple defined in 2 places.'>send_openflow_buffer</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../S/881.html#L1000' title='Defined at 1000 in cbench/openflow/lib/vconn.c.'>make_echo_reply</a>(<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>), <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>);
<a name='L2158'>2158 <font color='red'>}</font>
<a name='L2159'>2159 
<a name='L2160'>2160 <b>static</b> <b>int</b>
<a name='L2161'>2161 <a href='../R/4325.html' title='Multiple refered from 2 places.'>recv_echo_reply</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>,
<a name='L2162'>2162                   <b>const</b> <b>void</b> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>)
<a name='L2163'>2163 <font color='red'>{</font>
<a name='L2164'>2164     <b>return</b> 0;
<a name='L2165'>2165 <font color='red'>}</font>
<a name='L2166'>2166 
<a name='L2167'>2167 <b>static</b> <b>int</b>
<a name='L2168'>2168 <a href='../S/204.html#L2291' title='Refered from 2291 in cbench/openflow/udatapath/datapath.c.'>recv_queue_get_config_request</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>,
<a name='L2169'>2169                               <b>const</b> <b>void</b> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>)
<a name='L2170'>2170 <font color='red'>{</font>
<a name='L2171'>2171     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L2172'>2172     <b>struct</b> <a href='../D/8880.html' title='Multiple defined in 3 places.'>ofp_queue_get_config_reply</a> *<a href='../Y/5411.html' title='Multiple used in 3 places.'>ofq_reply</a>;
<a name='L2173'>2173     <b>const</b> <b>struct</b> <a href='../D/8881.html' title='Multiple defined in 3 places.'>ofp_queue_get_config_request</a> *<a href='../Y/5412.html' title='Multiple used in 5 places.'>ofq_request</a>;
<a name='L2174'>2174     <b>struct</b> <a href='../S/201.html#L83' title='Defined at 83 in cbench/openflow/udatapath/datapath.h.'>sw_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L2175'>2175     <b>struct</b> <a href='../S/201.html#L57' title='Defined at 57 in cbench/openflow/udatapath/datapath.h.'>sw_queue</a> *<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>;
<a name='L2176'>2176     <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>;
<a name='L2177'>2177 
<a name='L2178'>2178     <a href='../Y/5412.html' title='Multiple used in 5 places.'>ofq_request</a> = (<b>struct</b> <a href='../D/8881.html' title='Multiple defined in 3 places.'>ofp_queue_get_config_request</a> *)<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>;
<a name='L2179'>2179     <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5412.html' title='Multiple used in 5 places.'>ofq_request</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>);
<a name='L2180'>2180 
<a name='L2181'>2181     <b>if</b> (<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> &lt; <a href='../D/3586.html' title='Multiple defined in 3 places.'>OFPP_MAX</a>) <font color='red'>{</font>
<a name='L2182'>2182         <i><font color='green'>/* Find port under query */</font></i>
<a name='L2183'>2183         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = <a href='../S/204.html#L213' title='Defined at 213 in cbench/openflow/udatapath/datapath.c.'>dp_lookup_port</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>,<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L2184'>2184 
<a name='L2185'>2185         <i><font color='green'>/* if the port under query doesn't exist, send an error */</font></i>
<a name='L2186'>2186         <b>if</b> (!<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> ||  (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> != <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>)) <font color='red'>{</font>
<a name='L2187'>2187             <a href='../D/7549.html' title='Multiple defined in 2 places.'>dp_send_error_msg</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../D/3398.html' title='Multiple defined in 3 places.'>OFPET_QUEUE_OP_FAILED</a>, <a href='../D/3590.html' title='Multiple defined in 3 places.'>OFPQOFC_BAD_PORT</a>,
<a name='L2188'>2188                               <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>, <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5412.html' title='Multiple used in 5 places.'>ofq_request</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>));
<a name='L2189'>2189             <b>goto</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L2190'>2190         <font color='red'>}</font>
<a name='L2191'>2191         <a href='../Y/5411.html' title='Multiple used in 3 places.'>ofq_reply</a> = <a href='../S/204.html#L895' title='Defined at 895 in cbench/openflow/udatapath/datapath.c.'>make_openflow_reply</a>(<b>sizeof</b> *<a href='../Y/5411.html' title='Multiple used in 3 places.'>ofq_reply</a>, <a href='../D/3685.html' title='Multiple defined in 3 places.'>OFPT_QUEUE_GET_CONFIG_REPLY</a>,
<a name='L2192'>2192                                         <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, &amp;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L2193'>2193         <a href='../Y/5411.html' title='Multiple used in 3 places.'>ofq_reply</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>);
<a name='L2194'>2194         <a href='../S/916.html#L73' title='Defined at 73 in cbench/openflow/lib/list.h.'>LIST_FOR_EACH</a>(<a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>, <b>struct</b> <a href='../S/201.html#L57' title='Defined at 57 in cbench/openflow/udatapath/datapath.h.'>sw_queue</a>, <a href='../Y/4917.html' title='Multiple used in 268 places.'>node</a>, &amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/6212.html' title='Multiple used in 8 places.'>queue_list</a>) <font color='red'>{</font>
<a name='L2195'>2195             <b>struct</b> <a href='../D/8850.html' title='Multiple defined in 3 places.'>ofp_packet_queue</a> * <a href='../Y/5492.html' title='Multiple used in 10 places.'>opq</a> = <a href='../S/887.html#L188' title='Defined at 188 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_zeros</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <b>sizeof</b> *<a href='../Y/5492.html' title='Multiple used in 10 places.'>opq</a>);
<a name='L2196'>2196             <a href='../S/204.html#L973' title='Defined at 973 in cbench/openflow/udatapath/datapath.c.'>fill_queue_desc</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/6187.html' title='Multiple used in 118 places.'>q</a>, <a href='../Y/5492.html' title='Multiple used in 10 places.'>opq</a>);
<a name='L2197'>2197         <font color='red'>}</font>
<a name='L2198'>2198         <a href='../D/9482.html' title='Multiple defined in 2 places.'>send_openflow_buffer</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>);
<a name='L2199'>2199     <font color='red'>}</font>
<a name='L2200'>2200     <b>else</b> <font color='red'>{</font>
<a name='L2201'>2201         <a href='../D/7549.html' title='Multiple defined in 2 places.'>dp_send_error_msg</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../D/3398.html' title='Multiple defined in 3 places.'>OFPET_QUEUE_OP_FAILED</a>, <a href='../D/3590.html' title='Multiple defined in 3 places.'>OFPQOFC_BAD_PORT</a>,
<a name='L2202'>2202                           <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>, <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5412.html' title='Multiple used in 5 places.'>ofq_request</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>));
<a name='L2203'>2203     <font color='red'>}</font>
<a name='L2204'>2204  <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>:
<a name='L2205'>2205     <b>return</b> 0;
<a name='L2206'>2206 <font color='red'>}</font>
<a name='L2207'>2207 
<a name='L2208'>2208 <b>static</b> <b>int</b>
<a name='L2209'>2209 <a href='../R/4339.html' title='Multiple refered from 2 places.'>recv_vendor</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>,
<a name='L2210'>2210                   <b>const</b> <b>void</b> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>)
<a name='L2211'>2211 <font color='red'>{</font>
<a name='L2212'>2212     <b>const</b> <b>struct</b> <a href='../D/8923.html' title='Multiple defined in 2 places.'>ofp_vendor_header</a> *<a href='../Y/5562.html' title='Multiple used in 8 places.'>ovh</a> = <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>;
<a name='L2213'>2213 
<a name='L2214'>2214     <b>switch</b> (<a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/5562.html' title='Multiple used in 8 places.'>ovh</a>-&gt;<a href='../Y/7757.html' title='Multiple used in 43 places.'>vendor</a>))
<a name='L2215'>2215     <font color='red'>{</font>
<a name='L2216'>2216     <b>case</b> <a href='../S/185.html#L49' title='Defined at 49 in cbench/openflow/include/openflow/private-ext.h.'>PRIVATE_VENDOR_ID</a>:
<a name='L2217'>2217         <b>return</b> <a href='../D/9163.html' title='Multiple defined in 2 places.'>private_recv_msg</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>);
<a name='L2218'>2218 
<a name='L2219'>2219     <b>case</b> <a href='../S/182.html#L19' title='Defined at 19 in cbench/openflow/include/openflow/openflow-ext.h.'>OPENFLOW_VENDOR_ID</a>:
<a name='L2220'>2220         <b>return</b> <a href='../S/203.html#L243' title='Defined at 243 in cbench/openflow/udatapath/of_ext_msg.c.'>of_ext_recv_msg</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>);
<a name='L2221'>2221 
<a name='L2222'>2222     <b>default</b>:
<a name='L2223'>2223         <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "unknown vendor: 0x%x\n", <a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/5562.html' title='Multiple used in 8 places.'>ovh</a>-&gt;<a href='../Y/7757.html' title='Multiple used in 43 places.'>vendor</a>));
<a name='L2224'>2224         <a href='../D/7549.html' title='Multiple defined in 2 places.'>dp_send_error_msg</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../D/3391.html' title='Multiple defined in 3 places.'>OFPET_BAD_REQUEST</a>,
<a name='L2225'>2225                 <a href='../D/3360.html' title='Multiple defined in 2 places.'>OFPBRC_BAD_VENDOR</a>, <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>, <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5562.html' title='Multiple used in 8 places.'>ovh</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>));
<a name='L2226'>2226         <b>return</b> -<a href='../Y/267.html' title='Multiple used in 50 places.'>EINVAL</a>;
<a name='L2227'>2227     <font color='red'>}</font>
<a name='L2228'>2228 <font color='red'>}</font>
<a name='L2229'>2229 
<a name='L2230'>2230 <i><font color='green'>/* 'msg', which is 'length' bytes long, was received from the control path.</font></i>
<a name='L2231'>2231 <i><font color='green'> * Apply it to 'chain'. */</font></i>
<a name='L2232'>2232 <b>int</b>
<a name='L2233'>2233 <a href='../R/3111.html' title='Multiple refered from 4 places.'>fwd_control_input</a>(<b>struct</b> <a href='../Y/2280.html' title='Multiple used in 184 places.'>datapath</a> *<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <b>const</b> <b>struct</b> <a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a> *<a href='../Y/6661.html' title='Multiple used in 63 places.'>sender</a>,
<a name='L2234'>2234                   <b>const</b> <b>void</b> *<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>, <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>)
<a name='L2235'>2235 <font color='red'>{</font>
<a name='L2236'>2236     <b>int</b> (*<a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a>)(<b>struct</b> <a href='../D/7268.html' title='Multiple defined in 2 places.'>datapath</a> *, <b>const</b> <b>struct</b> <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a> *, <b>const</b> <b>void</b> *);
<a name='L2237'>2237     <b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>;
<a name='L2238'>2238     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a>;
<a name='L2239'>2239 
<a name='L2240'>2240     <i><font color='green'>/* Check encapsulated length. */</font></i>
<a name='L2241'>2241     <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a> = (<b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a> *) <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>;
<a name='L2242'>2242     <b>if</b> (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>) &gt; <a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>) <font color='red'>{</font>
<a name='L2243'>2243         <b>return</b> -<a href='../Y/267.html' title='Multiple used in 50 places.'>EINVAL</a>;
<a name='L2244'>2244     <font color='red'>}</font>
<a name='L2245'>2245     <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a> == <a href='../Y/621.html' title='Multiple used in 78 places.'>OFP_VERSION</a>);
<a name='L2246'>2246 
<a name='L2247'>2247     <i><font color='green'>/* Figure out how to handle it. */</font></i>
<a name='L2248'>2248     <b>switch</b> (<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>) <font color='red'>{</font>
<a name='L2249'>2249     <b>case</b> <a href='../D/3657.html' title='Multiple defined in 3 places.'>OFPT_BARRIER_REQUEST</a>:
<a name='L2250'>2250         <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a> = <b>sizeof</b>(<b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a>);
<a name='L2251'>2251         <a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a> = <a href='../D/9365.html' title='Multiple defined in 2 places.'>recv_barrier_request</a>;
<a name='L2252'>2252         <b>break</b>;
<a name='L2253'>2253     <b>case</b> <a href='../D/3666.html' title='Multiple defined in 3 places.'>OFPT_FEATURES_REQUEST</a>:
<a name='L2254'>2254         <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a> = <b>sizeof</b>(<b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a>);
<a name='L2255'>2255         <a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a> = <a href='../D/9369.html' title='Multiple defined in 2 places.'>recv_features_request</a>;
<a name='L2256'>2256         <b>break</b>;
<a name='L2257'>2257     <b>case</b> <a href='../D/3673.html' title='Multiple defined in 3 places.'>OFPT_GET_CONFIG_REQUEST</a>:
<a name='L2258'>2258         <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a> = <b>sizeof</b>(<b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a>);
<a name='L2259'>2259         <a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a> = <a href='../D/9371.html' title='Multiple defined in 2 places.'>recv_get_config_request</a>;
<a name='L2260'>2260         <b>break</b>;
<a name='L2261'>2261     <b>case</b> <a href='../D/3690.html' title='Multiple defined in 3 places.'>OFPT_SET_CONFIG</a>:
<a name='L2262'>2262         <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a> = <b>sizeof</b>(<b>struct</b> <a href='../D/8900.html' title='Multiple defined in 3 places.'>ofp_switch_config</a>);
<a name='L2263'>2263         <a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a> = <a href='../D/9379.html' title='Multiple defined in 2 places.'>recv_set_config</a>;
<a name='L2264'>2264         <b>break</b>;
<a name='L2265'>2265     <b>case</b> <a href='../D/3682.html' title='Multiple defined in 3 places.'>OFPT_PACKET_OUT</a>:
<a name='L2266'>2266         <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a> = <b>sizeof</b>(<b>struct</b> <a href='../D/8849.html' title='Multiple defined in 4 places.'>ofp_packet_out</a>);
<a name='L2267'>2267         <a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a> = <a href='../D/9376.html' title='Multiple defined in 2 places.'>recv_packet_out</a>;
<a name='L2268'>2268         <b>break</b>;
<a name='L2269'>2269     <b>case</b> <a href='../D/3667.html' title='Multiple defined in 3 places.'>OFPT_FLOW_MOD</a>:
<a name='L2270'>2270         <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a> = <b>sizeof</b>(<b>struct</b> <a href='../D/8779.html' title='Multiple defined in 3 places.'>ofp_flow_mod</a>);
<a name='L2271'>2271         <a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a> = <a href='../D/9370.html' title='Multiple defined in 2 places.'>recv_flow</a>;
<a name='L2272'>2272         <b>break</b>;
<a name='L2273'>2273     <b>case</b> <a href='../D/3683.html' title='Multiple defined in 3 places.'>OFPT_PORT_MOD</a>:
<a name='L2274'>2274         <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a> = <b>sizeof</b>(<b>struct</b> <a href='../D/8856.html' title='Multiple defined in 3 places.'>ofp_port_mod</a>);
<a name='L2275'>2275         <a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a> = <a href='../D/9377.html' title='Multiple defined in 2 places.'>recv_port_mod</a>;
<a name='L2276'>2276         <b>break</b>;
<a name='L2277'>2277     <b>case</b> <a href='../D/3694.html' title='Multiple defined in 2 places.'>OFPT_STATS_REQUEST</a>:
<a name='L2278'>2278         <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a> = <b>sizeof</b>(<b>struct</b> <a href='../D/8898.html' title='Multiple defined in 3 places.'>ofp_stats_request</a>);
<a name='L2279'>2279         <a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a> = <a href='../S/204.html#L2098' title='Defined at 2098 in cbench/openflow/udatapath/datapath.c.'>recv_stats_request</a>;
<a name='L2280'>2280         <b>break</b>;
<a name='L2281'>2281     <b>case</b> <a href='../D/3660.html' title='Multiple defined in 3 places.'>OFPT_ECHO_REQUEST</a>:
<a name='L2282'>2282         <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a> = <b>sizeof</b>(<b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a>);
<a name='L2283'>2283         <a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a> = <a href='../D/9368.html' title='Multiple defined in 2 places.'>recv_echo_request</a>;
<a name='L2284'>2284         <b>break</b>;
<a name='L2285'>2285     <b>case</b> <a href='../D/3658.html' title='Multiple defined in 3 places.'>OFPT_ECHO_REPLY</a>:
<a name='L2286'>2286         <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a> = <b>sizeof</b>(<b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a>);
<a name='L2287'>2287         <a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a> = <a href='../D/9367.html' title='Multiple defined in 2 places.'>recv_echo_reply</a>;
<a name='L2288'>2288         <b>break</b>;
<a name='L2289'>2289     <b>case</b> <a href='../D/3686.html' title='Multiple defined in 3 places.'>OFPT_QUEUE_GET_CONFIG_REQUEST</a>:
<a name='L2290'>2290         <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a> = <b>sizeof</b>(<b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a>);
<a name='L2291'>2291         <a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a> = <a href='../S/204.html#L2168' title='Defined at 2168 in cbench/openflow/udatapath/datapath.c.'>recv_queue_get_config_request</a>;
<a name='L2292'>2292         <b>break</b>;
<a name='L2293'>2293     <b>case</b> <a href='../D/3698.html' title='Multiple defined in 2 places.'>OFPT_VENDOR</a>:
<a name='L2294'>2294         <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a> = <b>sizeof</b>(<b>struct</b> <a href='../D/8923.html' title='Multiple defined in 2 places.'>ofp_vendor_header</a>);
<a name='L2295'>2295         <a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a> = <a href='../D/9381.html' title='Multiple defined in 2 places.'>recv_vendor</a>;
<a name='L2296'>2296         <b>break</b>;
<a name='L2297'>2297     <b>default</b>:
<a name='L2298'>2298         <a href='../D/7549.html' title='Multiple defined in 2 places.'>dp_send_error_msg</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../D/3391.html' title='Multiple defined in 3 places.'>OFPET_BAD_REQUEST</a>, <a href='../D/3359.html' title='Multiple defined in 3 places.'>OFPBRC_BAD_TYPE</a>,
<a name='L2299'>2299                           <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>, <a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>);
<a name='L2300'>2300         <b>return</b> -<a href='../Y/267.html' title='Multiple used in 50 places.'>EINVAL</a>;
<a name='L2301'>2301     <font color='red'>}</font>
<a name='L2302'>2302 
<a name='L2303'>2303     <i><font color='green'>/* Handle it. */</font></i>
<a name='L2304'>2304     <b>if</b> (<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a> &lt; <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a>)
<a name='L2305'>2305         <b>return</b> -<a href='../Y/264.html' title='Multiple used in 2 places.'>EFAULT</a>;
<a name='L2306'>2306     <b>return</b> <a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a>(<a href='../Y/2499.html' title='Multiple used in 612 places.'>dp</a>, <a href='../D/9491.html' title='Multiple defined in 2 places.'>sender</a>, <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>);
<a name='L2307'>2307 <font color='red'>}</font>
<a name='L2308'>2308 
<a name='L2309'>2309 <i><font color='green'>/* Packet buffering. */</font></i>
<a name='L2310'>2310 
<a name='L2311'>2311 <font color='darkred'>#define</font> <a href='../R/1373.html' title='Multiple refered from 2 places.'>OVERWRITE_SECS</a>  1
<a name='L2312'>2312 
<a name='L2313'>2313 <b>struct</b> <a href='../R/3997.html' title='Multiple refered from 8 places.'>packet_buffer</a> <font color='red'>{</font>
<a name='L2314'>2314     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L2315'>2315     <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a>;
<a name='L2316'>2316     <a href='../Y/7369.html' title='Multiple used in 80 places.'>time_t</a> <a href='../D/9898.html' title='Multiple defined in 2 places.'>timeout</a>;
<a name='L2317'>2317 <font color='red'>}</font>;
<a name='L2318'>2318 
<a name='L2319'>2319 <b>static</b> <b>struct</b> <a href='../D/8989.html' title='Multiple defined in 2 places.'>packet_buffer</a> <a href='../Y/1712.html' title='Multiple used in 10 places.'>buffers</a>[<a href='../D/3245.html' title='Multiple defined in 2 places.'>N_PKT_BUFFERS</a>];
<a name='L2320'>2320 <b>static</b> <b>unsigned</b> <b>int</b> <a href='../Y/1707.html' title='Multiple used in 8 places.'>buffer_idx</a>;
<a name='L2321'>2321 
<a name='L2322'>2322 <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../R/4402.html' title='Multiple refered from 2 places.'>save_buffer</a>(<b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>)
<a name='L2323'>2323 <font color='red'>{</font>
<a name='L2324'>2324     <b>struct</b> <a href='../D/8989.html' title='Multiple defined in 2 places.'>packet_buffer</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L2325'>2325     <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a>;
<a name='L2326'>2326 
<a name='L2327'>2327     <a href='../Y/1707.html' title='Multiple used in 8 places.'>buffer_idx</a> = (<a href='../Y/1707.html' title='Multiple used in 8 places.'>buffer_idx</a> + 1) &amp; <a href='../D/4723.html' title='Multiple defined in 2 places.'>PKT_BUFFER_MASK</a>;
<a name='L2328'>2328     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = &amp;<a href='../Y/1712.html' title='Multiple used in 10 places.'>buffers</a>[<a href='../Y/1707.html' title='Multiple used in 8 places.'>buffer_idx</a>];
<a name='L2329'>2329     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>) <font color='red'>{</font>
<a name='L2330'>2330         <i><font color='green'>/* Don't buffer packet if existing entry is less than</font></i>
<a name='L2331'>2331 <i><font color='green'>         * OVERWRITE_SECS old. */</font></i>
<a name='L2332'>2332         <b>if</b> (<a href='../S/902.html#L108' title='Defined at 108 in cbench/openflow/lib/timeval.c.'>time_now</a>() &lt; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../D/9898.html' title='Multiple defined in 2 places.'>timeout</a>) <font color='red'>{</font> <i><font color='green'>/* FIXME */</font></i>
<a name='L2333'>2333                 <b>return</b> (<a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a>)-1;
<a name='L2334'>2334         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2335'>2335             <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L2336'>2336         <font color='red'>}</font>
<a name='L2337'>2337     <font color='red'>}</font>
<a name='L2338'>2338     <i><font color='green'>/* Don't use maximum cookie value since the all-bits-1 id is</font></i>
<a name='L2339'>2339 <i><font color='green'>     * special. */</font></i>
<a name='L2340'>2340     <b>if</b> (++<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a> &gt;= (1u &lt;&lt; <a href='../D/4731.html' title='Multiple defined in 2 places.'>PKT_COOKIE_BITS</a>) - 1)
<a name='L2341'>2341         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a> = 0;
<a name='L2342'>2342     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../S/887.html#L95' title='Defined at 95 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_clone</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);      <i><font color='green'>/* FIXME */</font></i>
<a name='L2343'>2343     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../D/9898.html' title='Multiple defined in 2 places.'>timeout</a> = <a href='../S/902.html#L108' title='Defined at 108 in cbench/openflow/lib/timeval.c.'>time_now</a>() + <a href='../D/4461.html' title='Multiple defined in 2 places.'>OVERWRITE_SECS</a>; <i><font color='green'>/* FIXME */</font></i>
<a name='L2344'>2344     <a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a> = <a href='../Y/1707.html' title='Multiple used in 8 places.'>buffer_idx</a> | (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a> &lt;&lt; <a href='../D/4722.html' title='Multiple defined in 2 places.'>PKT_BUFFER_BITS</a>);
<a name='L2345'>2345 
<a name='L2346'>2346     <b>return</b> <a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a>;
<a name='L2347'>2347 <font color='red'>}</font>
<a name='L2348'>2348 
<a name='L2349'>2349 <b>static</b> <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../R/4379.html' title='Multiple refered from 4 places.'>retrieve_buffer</a>(<a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a>)
<a name='L2350'>2350 <font color='red'>{</font>
<a name='L2351'>2351     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L2352'>2352     <b>struct</b> <a href='../D/8989.html' title='Multiple defined in 2 places.'>packet_buffer</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L2353'>2353 
<a name='L2354'>2354     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = &amp;<a href='../Y/1712.html' title='Multiple used in 10 places.'>buffers</a>[<a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a> &amp; <a href='../D/4723.html' title='Multiple defined in 2 places.'>PKT_BUFFER_MASK</a>];
<a name='L2355'>2355     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a> == <a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a> &gt;&gt; <a href='../D/4722.html' title='Multiple defined in 2 places.'>PKT_BUFFER_BITS</a>) <font color='red'>{</font>
<a name='L2356'>2356         <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L2357'>2357         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L2358'>2358     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L2359'>2359         <a href='../Y/5906.html' title='Multiple used in 387 places.'>printf</a>("cookie mismatch: %x != %x\n",
<a name='L2360'>2360                <a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a> &gt;&gt; <a href='../D/4722.html' title='Multiple defined in 2 places.'>PKT_BUFFER_BITS</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a>);
<a name='L2361'>2361     <font color='red'>}</font>
<a name='L2362'>2362 
<a name='L2363'>2363     <b>return</b> <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L2364'>2364 <font color='red'>}</font>
<a name='L2365'>2365 
<a name='L2366'>2366 <b>static</b> <b>void</b> <a href='../R/2650.html' title='Multiple refered from 3 places.'>discard_buffer</a>(<a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a>)
<a name='L2367'>2367 <font color='red'>{</font>
<a name='L2368'>2368     <b>struct</b> <a href='../D/8989.html' title='Multiple defined in 2 places.'>packet_buffer</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L2369'>2369 
<a name='L2370'>2370     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = &amp;<a href='../Y/1712.html' title='Multiple used in 10 places.'>buffers</a>[<a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a> &amp; <a href='../D/4723.html' title='Multiple defined in 2 places.'>PKT_BUFFER_MASK</a>];
<a name='L2371'>2371     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2133.html' title='Multiple used in 81 places.'>cookie</a> == <a href='../Y/3709.html' title='Multiple used in 808 places.'>id</a> &gt;&gt; <a href='../D/4722.html' title='Multiple defined in 2 places.'>PKT_BUFFER_BITS</a>) <font color='red'>{</font>
<a name='L2372'>2372         <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L2373'>2373         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L2374'>2374     <font color='red'>}</font>
<a name='L2375'>2375 <font color='red'>}</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L78'>[^]</a><a href='#L2366'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
