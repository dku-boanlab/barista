<html>
<head>
<title>cbench/openflow/lib/vconn.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.7.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/1100.html'>cbench</a>/<a href='../files/1124.html'>openflow</a>/<a href='../files/1140.html'>lib</a>/vconn.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L97'>[^]</a><a href='#L1157'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L97' title='Defined at 97.'>check_vconn_classes</a>
<li><a href='#L135' title='Defined at 135.'>vconn_usage</a>
<li><a href='#L196' title='Defined at 196.'>vconn_open</a>
<li><a href='#L229' title='Defined at 229.'>vconn_open_block</a>
<li><a href='#L252' title='Defined at 252.'>vconn_close</a>
<li><a href='#L263' title='Defined at 263.'>vconn_get_name</a>
<li><a href='#L271' title='Defined at 271.'>vconn_get_ip</a>
<li><a href='#L284' title='Defined at 284.'>vconn_is_reconnectable</a>
<li><a href='#L290' title='Defined at 290.'>vcs_connecting</a>
<li><a href='#L303' title='Defined at 303.'>vcs_send_hello</a>
<li><a href='#L324' title='Defined at 324.'>vcs_recv_hello</a>
<li><a href='#L379' title='Defined at 379.'>vcs_send_error</a>
<li><a href='#L413' title='Defined at 413.'>vconn_connect</a>
<li><a href='#L460' title='Defined at 460.'>vconn_recv</a>
<li><a href='#L470' title='Defined at 470.'>do_recv</a>
<li><a href='#L538' title='Defined at 538.'>vconn_send</a>
<li><a href='#L548' title='Defined at 548.'>do_send</a>
<li><a href='#L570' title='Defined at 570.'>vconn_send_block</a>
<li><a href='#L582' title='Defined at 582.'>vconn_recv_block</a>
<li><a href='#L599' title='Defined at 599.'>vconn_recv_xid</a>
<li><a href='#L630' title='Defined at 630.'>vconn_transact</a>
<li><a href='#L645' title='Defined at 645.'>vconn_wait</a>
<li><a href='#L674' title='Defined at 674.'>vconn_connect_wait</a>
<li><a href='#L680' title='Defined at 680.'>vconn_recv_wait</a>
<li><a href='#L686' title='Defined at 686.'>vconn_send_wait</a>
<li><a href='#L699' title='Defined at 699.'>pvconn_open</a>
<li><a href='#L729' title='Defined at 729.'>pvconn_close</a>
<li><a href='#L749' title='Defined at 749.'>pvconn_accept</a>
<li><a href='#L763' title='Defined at 763.'>pvconn_wait</a>
<li><a href='#L771' title='Defined at 771.'>alloc_xid</a>
<li><a href='#L790' title='Defined at 790.'>make_openflow</a>
<li><a href='#L810' title='Defined at 810.'>make_openflow_xid</a>
<li><a href='#L827' title='Defined at 827.'>put_openflow</a>
<li><a href='#L842' title='Defined at 842.'>put_openflow_xid</a>
<li><a href='#L862' title='Defined at 862.'>update_openflow_length</a>
<li><a href='#L869' title='Defined at 869.'>make_flow_mod</a>
<li><a href='#L895' title='Defined at 895.'>make_add_flow</a>
<li><a href='#L907' title='Defined at 907.'>make_del_flow</a>
<li><a href='#L916' title='Defined at 916.'>make_add_simple_flow</a>
<li><a href='#L933' title='Defined at 933.'>make_unbuffered_packet_out</a>
<li><a href='#L960' title='Defined at 960.'>make_buffered_packet_out</a>
<li><a href='#L985' title='Defined at 985.'>make_echo_request</a>
<li><a href='#L1000' title='Defined at 1000.'>make_echo_reply</a>
<li><a href='#L1010' title='Defined at 1010.'>check_message_type</a>
<li><a href='#L1027' title='Defined at 1027.'>check_ofp_message</a>
<li><a href='#L1055' title='Defined at 1055.'>check_ofp_message_array</a>
<li><a href='#L1093' title='Defined at 1093.'>flow_stats_first</a>
<li><a href='#L1103' title='Defined at 1103.'>flow_stats_next</a>
<li><a href='#L1139' title='Defined at 1139.'>vconn_init</a>
<li><a href='#L1157' title='Defined at 1157.'>pvconn_init</a>
</ol>
<hr>
<pre>
<a name='L1'>   1 <i><font color='green'>/* Copyright (c) 2008, 2009 The Board of Trustees of The Leland Stanford</font></i>
<a name='L2'>   2 <i><font color='green'> * Junior University</font></i>
<a name='L3'>   3 <i><font color='green'> * </font></i>
<a name='L4'>   4 <i><font color='green'> * We are making the OpenFlow specification and associated documentation</font></i>
<a name='L5'>   5 <i><font color='green'> * (Software) available for public use and benefit with the expectation</font></i>
<a name='L6'>   6 <i><font color='green'> * that others will use, modify and enhance the Software and contribute</font></i>
<a name='L7'>   7 <i><font color='green'> * those enhancements back to the community. However, since we would</font></i>
<a name='L8'>   8 <i><font color='green'> * like to make the Software available for broadest use, with as few</font></i>
<a name='L9'>   9 <i><font color='green'> * restrictions as possible permission is hereby granted, free of</font></i>
<a name='L10'>  10 <i><font color='green'> * charge, to any person obtaining a copy of this Software to deal in</font></i>
<a name='L11'>  11 <i><font color='green'> * the Software under the copyrights without restriction, including</font></i>
<a name='L12'>  12 <i><font color='green'> * without limitation the rights to use, copy, modify, merge, publish,</font></i>
<a name='L13'>  13 <i><font color='green'> * distribute, sublicense, and/or sell copies of the Software, and to</font></i>
<a name='L14'>  14 <i><font color='green'> * permit persons to whom the Software is furnished to do so, subject to</font></i>
<a name='L15'>  15 <i><font color='green'> * the following conditions:</font></i>
<a name='L16'>  16 <i><font color='green'> * </font></i>
<a name='L17'>  17 <i><font color='green'> * The above copyright notice and this permission notice shall be</font></i>
<a name='L18'>  18 <i><font color='green'> * included in all copies or substantial portions of the Software.</font></i>
<a name='L19'>  19 <i><font color='green'> * </font></i>
<a name='L20'>  20 <i><font color='green'> * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,</font></i>
<a name='L21'>  21 <i><font color='green'> * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</font></i>
<a name='L22'>  22 <i><font color='green'> * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</font></i>
<a name='L23'>  23 <i><font color='green'> * NONINFRINGEMENT.  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS</font></i>
<a name='L24'>  24 <i><font color='green'> * BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN</font></i>
<a name='L25'>  25 <i><font color='green'> * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN</font></i>
<a name='L26'>  26 <i><font color='green'> * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</font></i>
<a name='L27'>  27 <i><font color='green'> * SOFTWARE.</font></i>
<a name='L28'>  28 <i><font color='green'> * </font></i>
<a name='L29'>  29 <i><font color='green'> * The name and trademarks of copyright holder(s) may NOT be used in</font></i>
<a name='L30'>  30 <i><font color='green'> * advertising or publicity pertaining to the Software or any</font></i>
<a name='L31'>  31 <i><font color='green'> * derivatives without specific, written prior permission.</font></i>
<a name='L32'>  32 <i><font color='green'> */</font></i>
<a name='L33'>  33 
<a name='L34'>  34 <font color='darkred'>#include</font> &lt;<a href='588.html'>config.h</a>&gt;
<a name='L35'>  35 <font color='darkred'>#include</font> "<a href='895.html'>vconn-provider.h</a>"
<a name='L36'>  36 <font color='darkred'>#include</font> &lt;assert.h&gt;
<a name='L37'>  37 <font color='darkred'>#include</font> &lt;errno.h&gt;
<a name='L38'>  38 <font color='darkred'>#include</font> &lt;inttypes.h&gt;
<a name='L39'>  39 <font color='darkred'>#include</font> &lt;netinet/in.h&gt;
<a name='L40'>  40 <font color='darkred'>#include</font> &lt;poll.h&gt;
<a name='L41'>  41 <font color='darkred'>#include</font> &lt;stdlib.h&gt;
<a name='L42'>  42 <font color='darkred'>#include</font> &lt;string.h&gt;
<a name='L43'>  43 <font color='darkred'>#include</font> "<a href='908.html'>dynamic-string.h</a>"
<a name='L44'>  44 <font color='darkred'>#include</font> "<a href='../I/98.html'>flow.h</a>"
<a name='L45'>  45 <font color='darkred'>#include</font> "<a href='898.html'>ofp-print.h</a>"
<a name='L46'>  46 <font color='darkred'>#include</font> "<a href='865.html'>ofpbuf.h</a>"
<a name='L47'>  47 <font color='darkred'>#include</font> "<a href='181.html'>openflow/openflow.h</a>"
<a name='L48'>  48 <font color='darkred'>#include</font> "<a href='901.html'>poll-loop.h</a>"
<a name='L49'>  49 <font color='darkred'>#include</font> "<a href='../I/129.html'>random.h</a>"
<a name='L50'>  50 <font color='darkred'>#include</font> "<a href='../I/69.html'>util.h</a>"
<a name='L51'>  51 
<a name='L52'>  52 <font color='darkred'>#define</font> <a href='../R/1643.html' title='Multiple refered from 13 places.'>THIS_MODULE</a> VLM_vconn
<a name='L53'>  53 <font color='darkred'>#include</font> "<a href='859.html'>vlog.h</a>"
<a name='L54'>  54 
<a name='L55'>  55 <i><font color='green'>/* State of an active vconn.*/</font></i>
<a name='L56'>  56 <b>enum</b> <a href='../S/881.html#L415' title='Refered from 415 in cbench/openflow/lib/vconn.c.'>vconn_state</a> <font color='red'>{</font>
<a name='L57'>  57     <i><font color='green'>/* This is the ordinary progression of states. */</font></i>
<a name='L58'>  58     <a href='../R/1700.html' title='Multiple refered from 5 places.'>VCS_CONNECTING</a>,             <i><font color='green'>/* Underlying vconn is not connected. */</font></i>
<a name='L59'>  59     <a href='../R/1704.html' title='Multiple refered from 4 places.'>VCS_SEND_HELLO</a>,             <i><font color='green'>/* Waiting to send OFPT_HELLO message. */</font></i>
<a name='L60'>  60     <a href='../R/1702.html' title='Multiple refered from 3 places.'>VCS_RECV_HELLO</a>,             <i><font color='green'>/* Waiting to receive OFPT_HELLO message. */</font></i>
<a name='L61'>  61     <a href='../R/1699.html' title='Multiple refered from 3 places.'>VCS_CONNECTED</a>,              <i><font color='green'>/* Connection established. */</font></i>
<a name='L62'>  62 
<a name='L63'>  63     <i><font color='green'>/* These states are entered only when something goes wrong. */</font></i>
<a name='L64'>  64     <a href='../R/1703.html' title='Multiple refered from 3 places.'>VCS_SEND_ERROR</a>,             <i><font color='green'>/* Sending OFPT_ERROR message. */</font></i>
<a name='L65'>  65     <a href='../R/1701.html' title='Multiple refered from 7 places.'>VCS_DISCONNECTED</a>            <i><font color='green'>/* Connection failed or connection closed. */</font></i>
<a name='L66'>  66 <font color='red'>}</font>;
<a name='L67'>  67 
<a name='L68'>  68 <b>static</b> <b>struct</b> <a href='../S/895.html#L71' title='Defined at 71 in cbench/openflow/lib/vconn-provider.h.'>vconn_class</a> *<a href='../Y/7748.html' title='Multiple used in 5 places.'>vconn_classes</a>[] = <font color='red'>{</font>
<a name='L69'>  69     &amp;<a href='../Y/7289.html' title='Multiple used in 3 places.'>tcp_vconn_class</a>,
<a name='L70'>  70     &amp;<a href='../Y/7639.html' title='Multiple used in 3 places.'>unix_vconn_class</a>,
<a name='L71'>  71 <font color='darkred'>#ifdef</font> <a href='../Y/414.html' title='Multiple used in 7 places.'>HAVE_NETLINK</a>
<a name='L72'>  72     &amp;<a href='../Y/4734.html' title='Multiple used in 5 places.'>netlink_vconn_class</a>,
<a name='L73'>  73 <font color='darkred'>#endif</font>
<a name='L74'>  74 <font color='darkred'>#ifdef</font> <a href='../Y/418.html' title='Multiple used in 13 places.'>HAVE_OPENSSL</a>
<a name='L75'>  75     &amp;<a href='../Y/6959.html' title='Multiple used in 5 places.'>ssl_vconn_class</a>,
<a name='L76'>  76 <font color='darkred'>#endif</font>
<a name='L77'>  77 <font color='red'>}</font>;
<a name='L78'>  78 
<a name='L79'>  79 <b>static</b> <b>struct</b> <a href='../S/895.html#L146' title='Defined at 146 in cbench/openflow/lib/vconn-provider.h.'>pvconn_class</a> *<a href='../Y/6176.html' title='Multiple used in 5 places.'>pvconn_classes</a>[] = <font color='red'>{</font>
<a name='L80'>  80     &amp;<a href='../Y/6125.html' title='Multiple used in 3 places.'>ptcp_pvconn_class</a>,
<a name='L81'>  81     &amp;<a href='../Y/6164.html' title='Multiple used in 3 places.'>punix_pvconn_class</a>,
<a name='L82'>  82 <font color='darkred'>#ifdef</font> <a href='../Y/418.html' title='Multiple used in 13 places.'>HAVE_OPENSSL</a>
<a name='L83'>  83     &amp;<a href='../Y/6121.html' title='Multiple used in 6 places.'>pssl_pvconn_class</a>,
<a name='L84'>  84 <font color='darkred'>#endif</font>
<a name='L85'>  85 <font color='red'>}</font>;
<a name='L86'>  86 
<a name='L87'>  87 <i><font color='green'>/* High rate limit because most of the rate-limiting here is individual</font></i>
<a name='L88'>  88 <i><font color='green'> * OpenFlow messages going over the vconn.  If those are enabled then we</font></i>
<a name='L89'>  89 <i><font color='green'> * really need to see them. */</font></i>
<a name='L90'>  90 <b>static</b> <b>struct</b> <a href='../D/10099.html' title='Multiple defined in 2 places.'>vlog_rate_limit</a> <a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a> = <a href='../S/859.html#L107' title='Defined at 107 in cbench/openflow/lib/vlog.h.'>VLOG_RATE_LIMIT_INIT</a>(600, 600);
<a name='L91'>  91 
<a name='L92'>  92 <b>static</b> <b>int</b> <a href='../S/881.html#L470' title='Defined at 470 in cbench/openflow/lib/vconn.c.'>do_recv</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> **);
<a name='L93'>  93 <b>static</b> <b>int</b> <a href='../S/881.html#L548' title='Defined at 548 in cbench/openflow/lib/vconn.c.'>do_send</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *);
<a name='L94'>  94 
<a name='L95'>  95 <i><font color='green'>/* Check the validity of the vconn class structures. */</font></i>
<a name='L96'>  96 <b>static</b> <b>void</b>
<a name='L97'>  97 <a href='../R/2349.html' title='Multiple refered from 2 places.'>check_vconn_classes</a>(<b>void</b>)
<a name='L98'>  98 <font color='red'>{</font>
<a name='L99'>  99 <font color='darkred'>#ifndef</font> <a href='../D/2918.html' title='Multiple defined in 3 places.'>NDEBUG</a>
<a name='L100'> 100     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>;
<a name='L101'> 101 
<a name='L102'> 102     <b>for</b> (<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> = 0; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> &lt; <a href='../S/840.html#L69' title='Defined at 69 in cbench/openflow/lib/util.h.'>ARRAY_SIZE</a>(<a href='../Y/7748.html' title='Multiple used in 5 places.'>vconn_classes</a>); <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>++) <font color='red'>{</font>
<a name='L103'> 103         <b>struct</b> <a href='../S/895.html#L71' title='Defined at 71 in cbench/openflow/lib/vconn-provider.h.'>vconn_class</a> *<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a> = <a href='../Y/7748.html' title='Multiple used in 5 places.'>vconn_classes</a>[<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>];
<a name='L104'> 104         <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L105'> 105         <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/5465.html' title='Multiple used in 21 places.'>open</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L106'> 106         <b>if</b> (<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/1918.html' title='Multiple used in 102 places.'>close</a> || <a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/6310.html' title='Multiple used in 12 places.'>recv</a> || <a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/6650.html' title='Multiple used in 11 places.'>send</a> || <a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/7837.html' title='Multiple used in 31 places.'>wait</a>) <font color='red'>{</font>
<a name='L107'> 107             <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/1918.html' title='Multiple used in 102 places.'>close</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L108'> 108             <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/6310.html' title='Multiple used in 12 places.'>recv</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L109'> 109             <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/6650.html' title='Multiple used in 11 places.'>send</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L110'> 110             <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/7837.html' title='Multiple used in 31 places.'>wait</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L111'> 111         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L112'> 112             <i><font color='green'>/* This class delegates to another one. */</font></i>
<a name='L113'> 113         <font color='red'>}</font>
<a name='L114'> 114     <font color='red'>}</font>
<a name='L115'> 115 
<a name='L116'> 116     <b>for</b> (<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> = 0; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> &lt; <a href='../S/840.html#L69' title='Defined at 69 in cbench/openflow/lib/util.h.'>ARRAY_SIZE</a>(<a href='../Y/6176.html' title='Multiple used in 5 places.'>pvconn_classes</a>); <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>++) <font color='red'>{</font>
<a name='L117'> 117         <b>struct</b> <a href='../S/895.html#L146' title='Defined at 146 in cbench/openflow/lib/vconn-provider.h.'>pvconn_class</a> *<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a> = <a href='../Y/6176.html' title='Multiple used in 5 places.'>pvconn_classes</a>[<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>];
<a name='L118'> 118         <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L119'> 119         <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/4168.html' title='Multiple used in 10 places.'>listen</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L120'> 120         <b>if</b> (<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/1918.html' title='Multiple used in 102 places.'>close</a> || <a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/1266.html' title='Multiple used in 18 places.'>accept</a> || <a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/7837.html' title='Multiple used in 31 places.'>wait</a>) <font color='red'>{</font>
<a name='L121'> 121             <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/1918.html' title='Multiple used in 102 places.'>close</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L122'> 122             <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/1266.html' title='Multiple used in 18 places.'>accept</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L123'> 123             <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/7837.html' title='Multiple used in 31 places.'>wait</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L124'> 124         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L125'> 125             <i><font color='green'>/* This class delegates to another one. */</font></i>
<a name='L126'> 126         <font color='red'>}</font>
<a name='L127'> 127     <font color='red'>}</font>
<a name='L128'> 128 <font color='darkred'>#endif</font>
<a name='L129'> 129 <font color='red'>}</font>
<a name='L130'> 130 
<a name='L131'> 131 <i><font color='green'>/* Prints information on active (if 'active') and passive (if 'passive')</font></i>
<a name='L132'> 132 <i><font color='green'> * connection methods supported by the vconn.  If 'bootstrap' is true, also</font></i>
<a name='L133'> 133 <i><font color='green'> * advertises options to bootstrap the CA certificate. */</font></i>
<a name='L134'> 134 <b>void</b>
<a name='L135'> 135 <a href='../R/4923.html' title='Multiple refered from 5 places.'>vconn_usage</a>(<a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/1298.html' title='Multiple used in 9 places.'>active</a>, <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/5653.html' title='Multiple used in 3 places.'>passive</a>, <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/1652.html' title='Multiple used in 6 places.'>bootstrap</a> <a href='../D/5808.html' title='Multiple defined in 5 places.'>UNUSED</a>)
<a name='L136'> 136 <font color='red'>{</font>
<a name='L137'> 137     <i><font color='green'>/* Really this should be implemented via callbacks into the vconn</font></i>
<a name='L138'> 138 <i><font color='green'>     * providers, but that seems too heavy-weight to bother with at the</font></i>
<a name='L139'> 139 <i><font color='green'>     * moment. */</font></i>
<a name='L140'> 140     
<a name='L141'> 141     <a href='../Y/5906.html' title='Multiple used in 387 places.'>printf</a>("\n");
<a name='L142'> 142     <b>if</b> (<a href='../Y/1298.html' title='Multiple used in 9 places.'>active</a>) <font color='red'>{</font>
<a name='L143'> 143         <a href='../Y/5906.html' title='Multiple used in 387 places.'>printf</a>("Active OpenFlow connection methods:\n");
<a name='L144'> 144 <font color='darkred'>#ifdef</font> <a href='../Y/414.html' title='Multiple used in 7 places.'>HAVE_NETLINK</a>
<a name='L145'> 145         <a href='../Y/5906.html' title='Multiple used in 387 places.'>printf</a>("  nl:DP_IDX               "
<a name='L146'> 146                "local datapath DP_IDX\n");
<a name='L147'> 147 <font color='darkred'>#endif</font>
<a name='L148'> 148         <a href='../Y/5906.html' title='Multiple used in 387 places.'>printf</a>("  tcp:HOST[:PORT]         "
<a name='L149'> 149                "PORT (default: %d) on remote TCP HOST\n", <a href='../Y/620.html' title='Multiple used in 12 places.'>OFP_TCP_PORT</a>);
<a name='L150'> 150 <font color='darkred'>#ifdef</font> <a href='../Y/418.html' title='Multiple used in 13 places.'>HAVE_OPENSSL</a>
<a name='L151'> 151         <a href='../Y/5906.html' title='Multiple used in 387 places.'>printf</a>("  ssl:HOST[:PORT]         "
<a name='L152'> 152                "SSL PORT (default: %d) on remote HOST\n", <a href='../Y/619.html' title='Multiple used in 10 places.'>OFP_SSL_PORT</a>);
<a name='L153'> 153 <font color='darkred'>#endif</font>
<a name='L154'> 154         <a href='../Y/5906.html' title='Multiple used in 387 places.'>printf</a>("  unix:FILE               Unix domain socket named FILE\n");
<a name='L155'> 155         <a href='../Y/5906.html' title='Multiple used in 387 places.'>printf</a>("  fd:N                    File descriptor N\n");
<a name='L156'> 156     <font color='red'>}</font>
<a name='L157'> 157 
<a name='L158'> 158     <b>if</b> (<a href='../Y/5653.html' title='Multiple used in 3 places.'>passive</a>) <font color='red'>{</font>
<a name='L159'> 159         <a href='../Y/5906.html' title='Multiple used in 387 places.'>printf</a>("Passive OpenFlow connection methods:\n");
<a name='L160'> 160         <a href='../Y/5906.html' title='Multiple used in 387 places.'>printf</a>("  ptcp:[PORT]             "
<a name='L161'> 161                "listen to TCP PORT (default: %d)\n",
<a name='L162'> 162                <a href='../Y/620.html' title='Multiple used in 12 places.'>OFP_TCP_PORT</a>);
<a name='L163'> 163 <font color='darkred'>#ifdef</font> <a href='../Y/418.html' title='Multiple used in 13 places.'>HAVE_OPENSSL</a>
<a name='L164'> 164         <a href='../Y/5906.html' title='Multiple used in 387 places.'>printf</a>("  pssl:[PORT]             "
<a name='L165'> 165                "listen for SSL on PORT (default: %d)\n",
<a name='L166'> 166                <a href='../Y/619.html' title='Multiple used in 10 places.'>OFP_SSL_PORT</a>);
<a name='L167'> 167 <font color='darkred'>#endif</font>
<a name='L168'> 168         <a href='../Y/5906.html' title='Multiple used in 387 places.'>printf</a>("  punix:FILE              "
<a name='L169'> 169                "listen on Unix domain socket FILE\n");
<a name='L170'> 170     <font color='red'>}</font>
<a name='L171'> 171 
<a name='L172'> 172 <font color='darkred'>#ifdef</font> <a href='../Y/418.html' title='Multiple used in 13 places.'>HAVE_OPENSSL</a>
<a name='L173'> 173     <a href='../Y/5906.html' title='Multiple used in 387 places.'>printf</a>("PKI configuration (required to use SSL):\n"
<a name='L174'> 174            "  -p, --private-key=FILE  file with private key\n"
<a name='L175'> 175            "  -c, --certificate=FILE  file with certificate for private key\n"
<a name='L176'> 176            "  -C, --ca-cert=FILE      file with peer CA certificate\n");
<a name='L177'> 177     <b>if</b> (<a href='../Y/1652.html' title='Multiple used in 6 places.'>bootstrap</a>) <font color='red'>{</font>
<a name='L178'> 178         <a href='../Y/5906.html' title='Multiple used in 387 places.'>printf</a>("  --bootstrap-ca-cert=FILE  file with peer CA certificate "
<a name='L179'> 179                "to read or create\n");
<a name='L180'> 180     <font color='red'>}</font>
<a name='L181'> 181 <font color='darkred'>#endif</font>
<a name='L182'> 182 <font color='red'>}</font>
<a name='L183'> 183 
<a name='L184'> 184 <i><font color='green'>/* Attempts to connect to an OpenFlow device.  'name' is a connection name in</font></i>
<a name='L185'> 185 <i><font color='green'> * the form "TYPE:ARGS", where TYPE is an active vconn class's name and ARGS</font></i>
<a name='L186'> 186 <i><font color='green'> * are vconn class-specific.</font></i>
<a name='L187'> 187 <i><font color='green'> *</font></i>
<a name='L188'> 188 <i><font color='green'> * The vconn will automatically negotiate an OpenFlow protocol version</font></i>
<a name='L189'> 189 <i><font color='green'> * acceptable to both peers on the connection.  The version negotiated will be</font></i>
<a name='L190'> 190 <i><font color='green'> * no lower than 'min_version' and no higher than OFP_VERSION.</font></i>
<a name='L191'> 191 <i><font color='green'> *</font></i>
<a name='L192'> 192 <i><font color='green'> * Returns 0 if successful, otherwise a positive errno value.  If successful,</font></i>
<a name='L193'> 193 <i><font color='green'> * stores a pointer to the new connection in '*vconnp', otherwise a null</font></i>
<a name='L194'> 194 <i><font color='green'> * pointer.  */</font></i>
<a name='L195'> 195 <b>int</b>
<a name='L196'> 196 <a href='../R/4907.html' title='Multiple refered from 5 places.'>vconn_open</a>(<b>const</b> <b>char</b> *<a href='../Y/4631.html' title='Multiple used in 221 places.'>name</a>, <b>int</b> <a href='../Y/4470.html' title='Multiple used in 16 places.'>min_version</a>, <b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> **<a href='../Y/7752.html' title='Multiple used in 33 places.'>vconnp</a>)
<a name='L197'> 197 <font color='red'>{</font>
<a name='L198'> 198     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/5865.html' title='Multiple used in 14 places.'>prefix_len</a>;
<a name='L199'> 199     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>;
<a name='L200'> 200 
<a name='L201'> 201     <a href='../S/881.html#L97' title='Defined at 97 in cbench/openflow/lib/vconn.c.'>check_vconn_classes</a>();
<a name='L202'> 202 
<a name='L203'> 203     *<a href='../Y/7752.html' title='Multiple used in 33 places.'>vconnp</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L204'> 204     <a href='../Y/5865.html' title='Multiple used in 14 places.'>prefix_len</a> = <a href='../Y/7084.html' title='Multiple used in 6 places.'>strcspn</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, ":");
<a name='L205'> 205     <b>if</b> (<a href='../Y/5865.html' title='Multiple used in 14 places.'>prefix_len</a> == <a href='../Y/7098.html' title='Multiple used in 203 places.'>strlen</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>)) <font color='red'>{</font>
<a name='L206'> 206         <b>return</b> <a href='../Y/258.html' title='Multiple used in 9 places.'>EAFNOSUPPORT</a>;
<a name='L207'> 207     <font color='red'>}</font>
<a name='L208'> 208     <b>for</b> (<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> = 0; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> &lt; <a href='../S/840.html#L69' title='Defined at 69 in cbench/openflow/lib/util.h.'>ARRAY_SIZE</a>(<a href='../Y/7748.html' title='Multiple used in 5 places.'>vconn_classes</a>); <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>++) <font color='red'>{</font>
<a name='L209'> 209         <b>struct</b> <a href='../S/895.html#L71' title='Defined at 71 in cbench/openflow/lib/vconn-provider.h.'>vconn_class</a> *<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a> = <a href='../Y/7748.html' title='Multiple used in 5 places.'>vconn_classes</a>[<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>];
<a name='L210'> 210         <b>if</b> (<a href='../Y/7098.html' title='Multiple used in 203 places.'>strlen</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>) == <a href='../Y/5865.html' title='Multiple used in 14 places.'>prefix_len</a>
<a name='L211'> 211             &amp;&amp; !<a href='../Y/4416.html' title='Multiple used in 69 places.'>memcmp</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/5865.html' title='Multiple used in 14 places.'>prefix_len</a>)) <font color='red'>{</font>
<a name='L212'> 212             <b>struct</b> <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a> *<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>;
<a name='L213'> 213             <b>char</b> *<a href='../Y/7157.html' title='Multiple used in 6 places.'>suffix_copy</a> = <a href='../S/878.html#L98' title='Defined at 98 in cbench/openflow/lib/util.c.'>xstrdup</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a> + <a href='../Y/5865.html' title='Multiple used in 14 places.'>prefix_len</a> + 1);
<a name='L214'> 214             <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/5465.html' title='Multiple used in 21 places.'>open</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/7157.html' title='Multiple used in 6 places.'>suffix_copy</a>, &amp;<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L215'> 215             <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/7157.html' title='Multiple used in 6 places.'>suffix_copy</a>);
<a name='L216'> 216             <b>if</b> (!<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>) <font color='red'>{</font>
<a name='L217'> 217                 <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> != <a href='../S/881.html#L58' title='Defined at 58 in cbench/openflow/lib/vconn.c.'>VCS_CONNECTING</a>
<a name='L218'> 218                        || <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/2093.html' title='Multiple used in 10 places.'>connect</a>);
<a name='L219'> 219                 <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/4470.html' title='Multiple used in 16 places.'>min_version</a> = <a href='../Y/4470.html' title='Multiple used in 16 places.'>min_version</a>;
<a name='L220'> 220                 *<a href='../Y/7752.html' title='Multiple used in 33 places.'>vconnp</a> = <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>;
<a name='L221'> 221             <font color='red'>}</font>
<a name='L222'> 222             <b>return</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L223'> 223         <font color='red'>}</font>
<a name='L224'> 224     <font color='red'>}</font>
<a name='L225'> 225     <b>return</b> <a href='../Y/258.html' title='Multiple used in 9 places.'>EAFNOSUPPORT</a>;
<a name='L226'> 226 <font color='red'>}</font>
<a name='L227'> 227 
<a name='L228'> 228 <b>int</b>
<a name='L229'> 229 <a href='../R/4908.html' title='Multiple refered from 2 places.'>vconn_open_block</a>(<b>const</b> <b>char</b> *<a href='../Y/4631.html' title='Multiple used in 221 places.'>name</a>, <b>int</b> <a href='../Y/4470.html' title='Multiple used in 16 places.'>min_version</a>, <b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> **<a href='../Y/7752.html' title='Multiple used in 33 places.'>vconnp</a>)
<a name='L230'> 230 <font color='red'>{</font>
<a name='L231'> 231     <b>struct</b> <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a> *<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>;
<a name='L232'> 232     <b>int</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L233'> 233 
<a name='L234'> 234     <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../S/881.html#L196' title='Defined at 196 in cbench/openflow/lib/vconn.c.'>vconn_open</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/4470.html' title='Multiple used in 16 places.'>min_version</a>, &amp;<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L235'> 235     <b>while</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> == <a href='../Y/259.html' title='Multiple used in 75 places.'>EAGAIN</a>) <font color='red'>{</font>
<a name='L236'> 236         <a href='../S/881.html#L674' title='Defined at 674 in cbench/openflow/lib/vconn.c.'>vconn_connect_wait</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L237'> 237         <a href='../S/854.html#L154' title='Defined at 154 in cbench/openflow/lib/poll-loop.c.'>poll_block</a>();
<a name='L238'> 238         <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../S/881.html#L413' title='Defined at 413 in cbench/openflow/lib/vconn.c.'>vconn_connect</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L239'> 239         <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> != <a href='../Y/265.html' title='Multiple used in 6 places.'>EINPROGRESS</a>);
<a name='L240'> 240     <font color='red'>}</font>
<a name='L241'> 241     <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>) <font color='red'>{</font>
<a name='L242'> 242         <a href='../S/881.html#L252' title='Defined at 252 in cbench/openflow/lib/vconn.c.'>vconn_close</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L243'> 243         *<a href='../Y/7752.html' title='Multiple used in 33 places.'>vconnp</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L244'> 244     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L245'> 245         *<a href='../Y/7752.html' title='Multiple used in 33 places.'>vconnp</a> = <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>;
<a name='L246'> 246     <font color='red'>}</font>
<a name='L247'> 247     <b>return</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L248'> 248 <font color='red'>}</font>
<a name='L249'> 249 
<a name='L250'> 250 <i><font color='green'>/* Closes 'vconn'. */</font></i>
<a name='L251'> 251 <b>void</b>
<a name='L252'> 252 <a href='../R/4899.html' title='Multiple refered from 23 places.'>vconn_close</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>)
<a name='L253'> 253 <font color='red'>{</font>
<a name='L254'> 254     <b>if</b> (<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L255'> 255         <b>char</b> *<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a> = <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>;
<a name='L256'> 256         (<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/1918.html' title='Multiple used in 102 places.'>close</a>)(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L257'> 257         <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>);
<a name='L258'> 258     <font color='red'>}</font>
<a name='L259'> 259 <font color='red'>}</font>
<a name='L260'> 260 
<a name='L261'> 261 <i><font color='green'>/* Returns the name of 'vconn', that is, the string passed to vconn_open(). */</font></i>
<a name='L262'> 262 <b>const</b> <b>char</b> *
<a name='L263'> 263 <a href='../R/4903.html' title='Multiple refered from 4 places.'>vconn_get_name</a>(<b>const</b> <b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>)
<a name='L264'> 264 <font color='red'>{</font>
<a name='L265'> 265     <b>return</b> <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>;
<a name='L266'> 266 <font color='red'>}</font>
<a name='L267'> 267 
<a name='L268'> 268 <i><font color='green'>/* Returns the IP address of the peer, or 0 if the peer is not connected over</font></i>
<a name='L269'> 269 <i><font color='green'> * an IP-based protocol or if its IP address is not yet known. */</font></i>
<a name='L270'> 270 <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a>
<a name='L271'> 271 <a href='../R/4902.html' title='Multiple refered from 2 places.'>vconn_get_ip</a>(<b>const</b> <b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>) 
<a name='L272'> 272 <font color='red'>{</font>
<a name='L273'> 273     <b>return</b> <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/3874.html' title='Multiple used in 230 places.'>ip</a>;
<a name='L274'> 274 <font color='red'>}</font>
<a name='L275'> 275 
<a name='L276'> 276 <i><font color='green'>/* Returns true if, when 'vconn' is closed, it is possible to try to reconnect</font></i>
<a name='L277'> 277 <i><font color='green'> * to it using the name that was originally used.  This is ordinarily the case.</font></i>
<a name='L278'> 278 <i><font color='green'> *</font></i>
<a name='L279'> 279 <i><font color='green'> * Returns false if reconnecting under the same name will never work in the way</font></i>
<a name='L280'> 280 <i><font color='green'> * that you would expect.  This is the case if 'vconn' represents a "fd:N" type</font></i>
<a name='L281'> 281 <i><font color='green'> * vconn; one can never connect to such a vconn more than once, because closing</font></i>
<a name='L282'> 282 <i><font color='green'> * it closes the file descriptor. */</font></i>
<a name='L283'> 283 <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a>
<a name='L284'> 284 <a href='../R/4905.html' title='Multiple refered from 2 places.'>vconn_is_reconnectable</a>(<b>const</b> <b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>)
<a name='L285'> 285 <font color='red'>{</font>
<a name='L286'> 286     <b>return</b> <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/6305.html' title='Multiple used in 8 places.'>reconnectable</a>;
<a name='L287'> 287 <font color='red'>}</font>
<a name='L288'> 288 
<a name='L289'> 289 <b>static</b> <b>void</b>
<a name='L290'> 290 <a href='../S/881.html#L422' title='Refered from 422 in cbench/openflow/lib/vconn.c.'>vcs_connecting</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>) 
<a name='L291'> 291 <font color='red'>{</font>
<a name='L292'> 292     <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = (<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/2093.html' title='Multiple used in 10 places.'>connect</a>)(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L293'> 293     <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> != <a href='../Y/265.html' title='Multiple used in 6 places.'>EINPROGRESS</a>);
<a name='L294'> 294     <b>if</b> (!<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>) <font color='red'>{</font>
<a name='L295'> 295         <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../S/881.html#L59' title='Defined at 59 in cbench/openflow/lib/vconn.c.'>VCS_SEND_HELLO</a>;
<a name='L296'> 296     <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> != <a href='../Y/259.html' title='Multiple used in 75 places.'>EAGAIN</a>) <font color='red'>{</font>
<a name='L297'> 297         <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../S/881.html#L65' title='Defined at 65 in cbench/openflow/lib/vconn.c.'>VCS_DISCONNECTED</a>;
<a name='L298'> 298         <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L299'> 299     <font color='red'>}</font>
<a name='L300'> 300 <font color='red'>}</font>
<a name='L301'> 301 
<a name='L302'> 302 <b>static</b> <b>void</b>
<a name='L303'> 303 <a href='../S/881.html#L426' title='Refered from 426 in cbench/openflow/lib/vconn.c.'>vcs_send_hello</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>)
<a name='L304'> 304 <font color='red'>{</font>
<a name='L305'> 305     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>;
<a name='L306'> 306     <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L307'> 307 
<a name='L308'> 308     <a href='../S/881.html#L790' title='Defined at 790 in cbench/openflow/lib/vconn.c.'>make_openflow</a>(<b>sizeof</b>(<b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a>), <a href='../D/3675.html' title='Multiple defined in 3 places.'>OFPT_HELLO</a>, &amp;<a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>);
<a name='L309'> 309     <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../S/881.html#L548' title='Defined at 548 in cbench/openflow/lib/vconn.c.'>do_send</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>);
<a name='L310'> 310     <b>if</b> (!<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>) <font color='red'>{</font>
<a name='L311'> 311         ++<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/5401.html' title='Multiple used in 34 places.'>ofps_sent</a>.<a href='../Y/5405.html' title='Multiple used in 11 places.'>ofps_total</a>;
<a name='L312'> 312         ++<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/5401.html' title='Multiple used in 34 places.'>ofps_sent</a>.<a href='../Y/5395.html' title='Multiple used in 10 places.'>ofps_hello</a>;
<a name='L313'> 313         <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../S/881.html#L60' title='Defined at 60 in cbench/openflow/lib/vconn.c.'>VCS_RECV_HELLO</a>;
<a name='L314'> 314     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L315'> 315         <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>);
<a name='L316'> 316         <b>if</b> (<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> != <a href='../Y/259.html' title='Multiple used in 75 places.'>EAGAIN</a>) <font color='red'>{</font>
<a name='L317'> 317             <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../S/881.html#L65' title='Defined at 65 in cbench/openflow/lib/vconn.c.'>VCS_DISCONNECTED</a>;
<a name='L318'> 318             <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L319'> 319         <font color='red'>}</font>
<a name='L320'> 320     <font color='red'>}</font>
<a name='L321'> 321 <font color='red'>}</font>
<a name='L322'> 322 
<a name='L323'> 323 <b>static</b> <b>void</b>
<a name='L324'> 324 <a href='../S/881.html#L430' title='Refered from 430 in cbench/openflow/lib/vconn.c.'>vcs_recv_hello</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>)
<a name='L325'> 325 <font color='red'>{</font>
<a name='L326'> 326     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>;
<a name='L327'> 327     <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L328'> 328 
<a name='L329'> 329     <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../S/881.html#L470' title='Defined at 470 in cbench/openflow/lib/vconn.c.'>do_recv</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, &amp;<a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>);
<a name='L330'> 330     <b>if</b> (!<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>) <font color='red'>{</font>
<a name='L331'> 331         <b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a> = <a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>;
<a name='L332'> 332 
<a name='L333'> 333         <b>if</b> (<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> == <a href='../D/3675.html' title='Multiple defined in 3 places.'>OFPT_HELLO</a>) <font color='red'>{</font>
<a name='L334'> 334             <b>if</b> (<a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> &gt; <b>sizeof</b> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>) <font color='red'>{</font>
<a name='L335'> 335                 <b>struct</b> <a href='../S/908.html#L46' title='Defined at 46 in cbench/openflow/lib/dynamic-string.h.'>ds</a> <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a> = <a href='../S/908.html#L52' title='Defined at 52 in cbench/openflow/lib/dynamic-string.h.'>DS_EMPTY_INITIALIZER</a>;
<a name='L336'> 336                 <a href='../S/907.html#L111' title='Defined at 111 in cbench/openflow/lib/dynamic-string.c.'>ds_put_format</a>(&amp;<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>, "%s: extra-long hello:\n", <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>);
<a name='L337'> 337                 <a href='../S/907.html#L218' title='Defined at 218 in cbench/openflow/lib/dynamic-string.c.'>ds_put_hex_dump</a>(&amp;<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>, <a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>, <a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>, 0, <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>);
<a name='L338'> 338                 <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "%s", <a href='../S/907.html#L198' title='Defined at 198 in cbench/openflow/lib/dynamic-string.c.'>ds_cstr</a>(&amp;<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>));
<a name='L339'> 339                 <a href='../S/907.html#L208' title='Defined at 208 in cbench/openflow/lib/dynamic-string.c.'>ds_destroy</a>(&amp;<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>);
<a name='L340'> 340             <font color='red'>}</font>
<a name='L341'> 341 
<a name='L342'> 342             <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a> = <a href='../D/2852.html' title='Multiple defined in 9 places.'>MIN</a>(<a href='../Y/621.html' title='Multiple used in 78 places.'>OFP_VERSION</a>, <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a>);
<a name='L343'> 343             <b>if</b> (<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a> &lt; <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/4470.html' title='Multiple used in 16 places.'>min_version</a>) <font color='red'>{</font>
<a name='L344'> 344                 <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "%s: version negotiation failed: we support "
<a name='L345'> 345                              "versions 0x%02x to 0x%02x inclusive but peer "
<a name='L346'> 346                              "supports no later than version 0x%02"<a href='../Y/704.html' title='Multiple used in 9 places.'>PRIx8</a>,
<a name='L347'> 347                              <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/4470.html' title='Multiple used in 16 places.'>min_version</a>, <a href='../Y/621.html' title='Multiple used in 78 places.'>OFP_VERSION</a>,
<a name='L348'> 348                              <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a>);
<a name='L349'> 349                 <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../S/881.html#L64' title='Defined at 64 in cbench/openflow/lib/vconn.c.'>VCS_SEND_ERROR</a>;
<a name='L350'> 350             <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L351'> 351                 <a href='../S/859.html#L153' title='Defined at 153 in cbench/openflow/lib/vlog.h.'>VLOG_DBG</a>("%s: negotiated OpenFlow version 0x%02x "
<a name='L352'> 352                          "(we support versions 0x%02x to 0x%02x inclusive, "
<a name='L353'> 353                          "peer no later than version 0x%02"<a href='../Y/704.html' title='Multiple used in 9 places.'>PRIx8</a>")",
<a name='L354'> 354                          <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a>, <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/4470.html' title='Multiple used in 16 places.'>min_version</a>,
<a name='L355'> 355                          <a href='../Y/621.html' title='Multiple used in 78 places.'>OFP_VERSION</a>, <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a>);
<a name='L356'> 356                 <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../S/881.html#L61' title='Defined at 61 in cbench/openflow/lib/vconn.c.'>VCS_CONNECTED</a>;
<a name='L357'> 357             <font color='red'>}</font>
<a name='L358'> 358             ++<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/5400.html' title='Multiple used in 22 places.'>ofps_rcvd</a>.<a href='../Y/5405.html' title='Multiple used in 11 places.'>ofps_total</a>;
<a name='L359'> 359             ++<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/5400.html' title='Multiple used in 22 places.'>ofps_rcvd</a>.<a href='../Y/5395.html' title='Multiple used in 10 places.'>ofps_hello</a>;
<a name='L360'> 360             <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>);
<a name='L361'> 361             <b>return</b>;
<a name='L362'> 362         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L363'> 363             <b>char</b> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a> = <a href='../S/825.html#L1530' title='Defined at 1530 in cbench/openflow/lib/ofp-print.c.'>ofp_to_string</a>(<a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>, <a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>, 1);
<a name='L364'> 364             <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "%s: received message while expecting hello: %s",
<a name='L365'> 365                          <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>);
<a name='L366'> 366             <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>);
<a name='L367'> 367             <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../Y/291.html' title='Multiple used in 24 places.'>EPROTO</a>;
<a name='L368'> 368             <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>);
<a name='L369'> 369         <font color='red'>}</font>
<a name='L370'> 370     <font color='red'>}</font>
<a name='L371'> 371 
<a name='L372'> 372     <b>if</b> (<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> != <a href='../Y/259.html' title='Multiple used in 75 places.'>EAGAIN</a>) <font color='red'>{</font>
<a name='L373'> 373         <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../S/881.html#L65' title='Defined at 65 in cbench/openflow/lib/vconn.c.'>VCS_DISCONNECTED</a>;
<a name='L374'> 374         <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L375'> 375     <font color='red'>}</font>
<a name='L376'> 376 <font color='red'>}</font>
<a name='L377'> 377 
<a name='L378'> 378 <b>static</b> <b>void</b>
<a name='L379'> 379 <a href='../S/881.html#L437' title='Refered from 437 in cbench/openflow/lib/vconn.c.'>vcs_send_error</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>)
<a name='L380'> 380 <font color='red'>{</font>
<a name='L381'> 381     <b>struct</b> <a href='../D/8772.html' title='Multiple defined in 3 places.'>ofp_error_msg</a> *<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L382'> 382     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>;
<a name='L383'> 383     <b>char</b> <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>[128];
<a name='L384'> 384     <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L385'> 385 
<a name='L386'> 386     <a href='../Y/6891.html' title='Multiple used in 224 places.'>snprintf</a>(<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>, <b>sizeof</b> <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>, "We support versions 0x%02x to 0x%02x inclusive but "
<a name='L387'> 387              "you support no later than version 0x%02"<a href='../Y/704.html' title='Multiple used in 9 places.'>PRIx8</a>".",
<a name='L388'> 388              <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/4470.html' title='Multiple used in 16 places.'>min_version</a>, <a href='../Y/621.html' title='Multiple used in 78 places.'>OFP_VERSION</a>, <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a>);
<a name='L389'> 389     <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../S/881.html#L790' title='Defined at 790 in cbench/openflow/lib/vconn.c.'>make_openflow</a>(<b>sizeof</b> *<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>, <a href='../D/3662.html' title='Multiple defined in 3 places.'>OFPT_ERROR</a>, &amp;<a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>);
<a name='L390'> 390     <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/3395.html' title='Multiple defined in 3 places.'>OFPET_HELLO_FAILED</a>);
<a name='L391'> 391     <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>-&gt;<a href='../Y/1956.html' title='Multiple used in 147 places.'>code</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/3479.html' title='Multiple defined in 3 places.'>OFPHFC_INCOMPATIBLE</a>);
<a name='L392'> 392     <a href='../S/887.html#L199' title='Defined at 199 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put</a>(<a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>, <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>, <a href='../Y/7098.html' title='Multiple used in 203 places.'>strlen</a>(<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>));
<a name='L393'> 393     <a href='../S/881.html#L862' title='Defined at 862 in cbench/openflow/lib/vconn.c.'>update_openflow_length</a>(<a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>);
<a name='L394'> 394     <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../S/881.html#L548' title='Defined at 548 in cbench/openflow/lib/vconn.c.'>do_send</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>);
<a name='L395'> 395     <b>if</b> (<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>) <font color='red'>{</font>
<a name='L396'> 396         ++<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/5401.html' title='Multiple used in 34 places.'>ofps_sent</a>.<a href='../Y/5405.html' title='Multiple used in 11 places.'>ofps_total</a>;
<a name='L397'> 397         ++<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/5401.html' title='Multiple used in 34 places.'>ofps_sent</a>.<a href='../Y/5385.html' title='Multiple used in 7 places.'>ofps_error</a>;
<a name='L398'> 398         ++<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/5401.html' title='Multiple used in 34 places.'>ofps_sent</a>.<a href='../Y/5387.html' title='Multiple used in 20 places.'>ofps_error_type</a>.<a href='../Y/3599.html' title='Multiple used in 8 places.'>hello_fail</a>;
<a name='L399'> 399         ++<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/5401.html' title='Multiple used in 34 places.'>ofps_sent</a>.<a href='../Y/5386.html' title='Multiple used in 63 places.'>ofps_error_code</a>.<a href='../Y/3620.html' title='Multiple used in 8 places.'>hf_incompat</a>;
<a name='L400'> 400         <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/1564.html' title='Multiple used in 874 places.'>b</a>);
<a name='L401'> 401     <font color='red'>}</font>
<a name='L402'> 402     <b>if</b> (<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> != <a href='../Y/259.html' title='Multiple used in 75 places.'>EAGAIN</a>) <font color='red'>{</font>
<a name='L403'> 403         <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../S/881.html#L65' title='Defined at 65 in cbench/openflow/lib/vconn.c.'>VCS_DISCONNECTED</a>;
<a name='L404'> 404         <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> ? <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> : <a href='../Y/291.html' title='Multiple used in 24 places.'>EPROTO</a>;
<a name='L405'> 405     <font color='red'>}</font>
<a name='L406'> 406 <font color='red'>}</font>
<a name='L407'> 407 
<a name='L408'> 408 <i><font color='green'>/* Tries to complete the connection on 'vconn', which must be an active</font></i>
<a name='L409'> 409 <i><font color='green'> * vconn.  If 'vconn''s connection is complete, returns 0 if the connection</font></i>
<a name='L410'> 410 <i><font color='green'> * was successful or a positive errno value if it failed.  If the</font></i>
<a name='L411'> 411 <i><font color='green'> * connection is still in progress, returns EAGAIN. */</font></i>
<a name='L412'> 412 <b>int</b>
<a name='L413'> 413 <a href='../R/4900.html' title='Multiple refered from 6 places.'>vconn_connect</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>)
<a name='L414'> 414 <font color='red'>{</font>
<a name='L415'> 415     <b>enum</b> <a href='../S/881.html#L56' title='Defined at 56 in cbench/openflow/lib/vconn.c.'>vconn_state</a> <a href='../Y/4091.html' title='Multiple used in 3 places.'>last_state</a>;
<a name='L416'> 416 
<a name='L417'> 417     <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/4470.html' title='Multiple used in 16 places.'>min_version</a> &gt;= 0);
<a name='L418'> 418     <b>do</b> <font color='red'>{</font>
<a name='L419'> 419         <a href='../Y/4091.html' title='Multiple used in 3 places.'>last_state</a> = <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>;
<a name='L420'> 420         <b>switch</b> (<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>) <font color='red'>{</font>
<a name='L421'> 421         <b>case</b> <a href='../S/881.html#L58' title='Defined at 58 in cbench/openflow/lib/vconn.c.'>VCS_CONNECTING</a>:
<a name='L422'> 422             <a href='../S/881.html#L290' title='Defined at 290 in cbench/openflow/lib/vconn.c.'>vcs_connecting</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L423'> 423             <b>break</b>;
<a name='L424'> 424 
<a name='L425'> 425         <b>case</b> <a href='../S/881.html#L59' title='Defined at 59 in cbench/openflow/lib/vconn.c.'>VCS_SEND_HELLO</a>:
<a name='L426'> 426             <a href='../S/881.html#L303' title='Defined at 303 in cbench/openflow/lib/vconn.c.'>vcs_send_hello</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L427'> 427             <b>break</b>;
<a name='L428'> 428 
<a name='L429'> 429         <b>case</b> <a href='../S/881.html#L60' title='Defined at 60 in cbench/openflow/lib/vconn.c.'>VCS_RECV_HELLO</a>:
<a name='L430'> 430             <a href='../S/881.html#L324' title='Defined at 324 in cbench/openflow/lib/vconn.c.'>vcs_recv_hello</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L431'> 431             <b>break</b>;
<a name='L432'> 432 
<a name='L433'> 433         <b>case</b> <a href='../S/881.html#L61' title='Defined at 61 in cbench/openflow/lib/vconn.c.'>VCS_CONNECTED</a>:
<a name='L434'> 434             <b>return</b> 0;
<a name='L435'> 435 
<a name='L436'> 436         <b>case</b> <a href='../S/881.html#L64' title='Defined at 64 in cbench/openflow/lib/vconn.c.'>VCS_SEND_ERROR</a>:
<a name='L437'> 437             <a href='../S/881.html#L379' title='Defined at 379 in cbench/openflow/lib/vconn.c.'>vcs_send_error</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L438'> 438             <b>break</b>;
<a name='L439'> 439 
<a name='L440'> 440         <b>case</b> <a href='../S/881.html#L65' title='Defined at 65 in cbench/openflow/lib/vconn.c.'>VCS_DISCONNECTED</a>:
<a name='L441'> 441             <b>return</b> <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L442'> 442 
<a name='L443'> 443         <b>default</b>:
<a name='L444'> 444             <a href='../S/840.html#L82' title='Defined at 82 in cbench/openflow/lib/util.h.'>NOT_REACHED</a>();
<a name='L445'> 445         <font color='red'>}</font>
<a name='L446'> 446     <font color='red'>}</font> <b>while</b> (<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> != <a href='../Y/4091.html' title='Multiple used in 3 places.'>last_state</a>);
<a name='L447'> 447 
<a name='L448'> 448     <b>return</b> <a href='../Y/259.html' title='Multiple used in 75 places.'>EAGAIN</a>;
<a name='L449'> 449 <font color='red'>}</font>
<a name='L450'> 450 
<a name='L451'> 451 <i><font color='green'>/* Tries to receive an OpenFlow message from 'vconn', which must be an active</font></i>
<a name='L452'> 452 <i><font color='green'> * vconn.  If successful, stores the received message into '*msgp' and returns</font></i>
<a name='L453'> 453 <i><font color='green'> * 0.  The caller is responsible for destroying the message with</font></i>
<a name='L454'> 454 <i><font color='green'> * ofpbuf_delete().  On failure, returns a positive errno value and stores a</font></i>
<a name='L455'> 455 <i><font color='green'> * null pointer into '*msgp'.  On normal connection close, returns EOF.</font></i>
<a name='L456'> 456 <i><font color='green'> *</font></i>
<a name='L457'> 457 <i><font color='green'> * vconn_recv will not block waiting for a packet to arrive.  If no packets</font></i>
<a name='L458'> 458 <i><font color='green'> * have been received, it returns EAGAIN immediately. */</font></i>
<a name='L459'> 459 <b>int</b>
<a name='L460'> 460 <a href='../R/4909.html' title='Multiple refered from 3 places.'>vconn_recv</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> **<a href='../Y/4532.html' title='Multiple used in 12 places.'>msgp</a>)
<a name='L461'> 461 <font color='red'>{</font>
<a name='L462'> 462     <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../S/881.html#L413' title='Defined at 413 in cbench/openflow/lib/vconn.c.'>vconn_connect</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L463'> 463     <b>if</b> (!<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>) <font color='red'>{</font>
<a name='L464'> 464         <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../S/881.html#L470' title='Defined at 470 in cbench/openflow/lib/vconn.c.'>do_recv</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../Y/4532.html' title='Multiple used in 12 places.'>msgp</a>);
<a name='L465'> 465     <font color='red'>}</font>
<a name='L466'> 466     <b>return</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L467'> 467 <font color='red'>}</font>
<a name='L468'> 468 
<a name='L469'> 469 <b>static</b> <b>int</b>
<a name='L470'> 470 <a href='../R/2748.html' title='Multiple refered from 3 places.'>do_recv</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> **<a href='../Y/4532.html' title='Multiple used in 12 places.'>msgp</a>)
<a name='L471'> 471 <font color='red'>{</font>
<a name='L472'> 472     <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L473'> 473 
<a name='L474'> 474 <a href='../Y/1352.html' title='Multiple used in 6 places.'>again</a>:
<a name='L475'> 475     <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = (<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/6310.html' title='Multiple used in 12 places.'>recv</a>)(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../Y/4532.html' title='Multiple used in 12 places.'>msgp</a>);
<a name='L476'> 476     <b>if</b> (!<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>) <font color='red'>{</font>
<a name='L477'> 477         <b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>;
<a name='L478'> 478 
<a name='L479'> 479         <b>if</b> (<a href='../S/859.html#L162' title='Defined at 162 in cbench/openflow/lib/vlog.h.'>VLOG_IS_DBG_ENABLED</a>()) <font color='red'>{</font>
<a name='L480'> 480             <b>char</b> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a> = <a href='../S/825.html#L1530' title='Defined at 1530 in cbench/openflow/lib/ofp-print.c.'>ofp_to_string</a>((*<a href='../Y/4532.html' title='Multiple used in 12 places.'>msgp</a>)-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>, (*<a href='../Y/4532.html' title='Multiple used in 12 places.'>msgp</a>)-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>, 1);
<a name='L481'> 481             <a href='../S/859.html#L173' title='Defined at 173 in cbench/openflow/lib/vlog.h.'>VLOG_DBG_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "%s: received: %s", <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>);
<a name='L482'> 482             <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>);
<a name='L483'> 483         <font color='red'>}</font>
<a name='L484'> 484 
<a name='L485'> 485         <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a> = <a href='../S/887.html#L244' title='Defined at 244 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_at_assert</a>(*<a href='../Y/4532.html' title='Multiple used in 12 places.'>msgp</a>, 0, <b>sizeof</b> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>);
<a name='L486'> 486         <b>if</b> (<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a> != <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a>
<a name='L487'> 487             &amp;&amp; <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> != <a href='../D/3675.html' title='Multiple defined in 3 places.'>OFPT_HELLO</a>
<a name='L488'> 488             &amp;&amp; <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> != <a href='../D/3662.html' title='Multiple defined in 3 places.'>OFPT_ERROR</a>
<a name='L489'> 489             &amp;&amp; <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> != <a href='../D/3660.html' title='Multiple defined in 3 places.'>OFPT_ECHO_REQUEST</a>
<a name='L490'> 490             &amp;&amp; <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> != <a href='../D/3658.html' title='Multiple defined in 3 places.'>OFPT_ECHO_REPLY</a>
<a name='L491'> 491             &amp;&amp; <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> != <a href='../D/3698.html' title='Multiple defined in 2 places.'>OFPT_VENDOR</a>)
<a name='L492'> 492         <font color='red'>{</font>
<a name='L493'> 493             <b>if</b> (<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a> &lt; 0) <font color='red'>{</font>
<a name='L494'> 494                 <b>if</b> (<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> == <a href='../D/3680.html' title='Multiple defined in 3 places.'>OFPT_PACKET_IN</a>
<a name='L495'> 495                     || <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> == <a href='../D/3669.html' title='Multiple defined in 3 places.'>OFPT_FLOW_REMOVED</a>
<a name='L496'> 496                     || <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> == <a href='../D/3684.html' title='Multiple defined in 3 places.'>OFPT_PORT_STATUS</a>) <font color='red'>{</font>
<a name='L497'> 497                     <i><font color='green'>/* The kernel datapath is stateless and doesn't really</font></i>
<a name='L498'> 498 <i><font color='green'>                     * support version negotiation, so it can end up sending</font></i>
<a name='L499'> 499 <i><font color='green'>                     * these asynchronous message before version negotiation</font></i>
<a name='L500'> 500 <i><font color='green'>                     * is complete.  Just ignore them.</font></i>
<a name='L501'> 501 <i><font color='green'>                     *</font></i>
<a name='L502'> 502 <i><font color='green'>                     * (After we move OFPT_PORT_STATUS messages from the kernel</font></i>
<a name='L503'> 503 <i><font color='green'>                     * into secchan, we won't get those here, since secchan</font></i>
<a name='L504'> 504 <i><font color='green'>                     * does proper version negotiation.) */</font></i>
<a name='L505'> 505                     <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(*<a href='../Y/4532.html' title='Multiple used in 12 places.'>msgp</a>);
<a name='L506'> 506                     <b>goto</b> <a href='../Y/1352.html' title='Multiple used in 6 places.'>again</a>;
<a name='L507'> 507                 <font color='red'>}</font>
<a name='L508'> 508                 <a href='../S/859.html#L170' title='Defined at 170 in cbench/openflow/lib/vlog.h.'>VLOG_ERR_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "%s: received OpenFlow message type %"<a href='../Y/700.html' title='Multiple used in 19 places.'>PRIu8</a>" "
<a name='L509'> 509                             "before version negotiation complete",
<a name='L510'> 510                             <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>);
<a name='L511'> 511             <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L512'> 512                 <a href='../S/859.html#L170' title='Defined at 170 in cbench/openflow/lib/vlog.h.'>VLOG_ERR_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "%s: received OpenFlow version 0x%02"<a href='../Y/704.html' title='Multiple used in 9 places.'>PRIx8</a>" "
<a name='L513'> 513                             "!= expected %02x",
<a name='L514'> 514                             <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a>, <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a>);
<a name='L515'> 515             <font color='red'>}</font>
<a name='L516'> 516             <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(*<a href='../Y/4532.html' title='Multiple used in 12 places.'>msgp</a>);
<a name='L517'> 517             <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../Y/291.html' title='Multiple used in 24 places.'>EPROTO</a>;
<a name='L518'> 518         <font color='red'>}</font>
<a name='L519'> 519     <font color='red'>}</font>
<a name='L520'> 520     <b>if</b> (<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>) <font color='red'>{</font>
<a name='L521'> 521         *<a href='../Y/4532.html' title='Multiple used in 12 places.'>msgp</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L522'> 522     <font color='red'>}</font>
<a name='L523'> 523     <b>return</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L524'> 524 <font color='red'>}</font>
<a name='L525'> 525 
<a name='L526'> 526 <i><font color='green'>/* Tries to queue 'msg' for transmission on 'vconn', which must be an active</font></i>
<a name='L527'> 527 <i><font color='green'> * vconn.  If successful, returns 0, in which case ownership of 'msg' is</font></i>
<a name='L528'> 528 <i><font color='green'> * transferred to the vconn.  Success does not guarantee that 'msg' has been or</font></i>
<a name='L529'> 529 <i><font color='green'> * ever will be delivered to the peer, only that it has been queued for</font></i>
<a name='L530'> 530 <i><font color='green'> * transmission.</font></i>
<a name='L531'> 531 <i><font color='green'> *</font></i>
<a name='L532'> 532 <i><font color='green'> * Returns a positive errno value on failure, in which case the caller</font></i>
<a name='L533'> 533 <i><font color='green'> * retains ownership of 'msg'.</font></i>
<a name='L534'> 534 <i><font color='green'> *</font></i>
<a name='L535'> 535 <i><font color='green'> * vconn_send will not block.  If 'msg' cannot be immediately accepted for</font></i>
<a name='L536'> 536 <i><font color='green'> * transmission, it returns EAGAIN immediately. */</font></i>
<a name='L537'> 537 <b>int</b>
<a name='L538'> 538 <a href='../R/4913.html' title='Multiple refered from 4 places.'>vconn_send</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>)
<a name='L539'> 539 <font color='red'>{</font>
<a name='L540'> 540     <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../S/881.html#L413' title='Defined at 413 in cbench/openflow/lib/vconn.c.'>vconn_connect</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L541'> 541     <b>if</b> (!<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>) <font color='red'>{</font>
<a name='L542'> 542         <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../S/881.html#L548' title='Defined at 548 in cbench/openflow/lib/vconn.c.'>do_send</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>);
<a name='L543'> 543     <font color='red'>}</font>
<a name='L544'> 544     <b>return</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L545'> 545 <font color='red'>}</font>
<a name='L546'> 546 
<a name='L547'> 547 <b>static</b> <b>int</b>
<a name='L548'> 548 <a href='../R/2750.html' title='Multiple refered from 4 places.'>do_send</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>)
<a name='L549'> 549 <font color='red'>{</font>
<a name='L550'> 550     <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L551'> 551 
<a name='L552'> 552     <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> &gt;= <b>sizeof</b>(<b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a>));
<a name='L553'> 553     <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(((<b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a> *) <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>)-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a> == <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>));
<a name='L554'> 554     <b>if</b> (!<a href='../S/859.html#L162' title='Defined at 162 in cbench/openflow/lib/vlog.h.'>VLOG_IS_DBG_ENABLED</a>()) <font color='red'>{</font>
<a name='L555'> 555         <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = (<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/6650.html' title='Multiple used in 11 places.'>send</a>)(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>);
<a name='L556'> 556     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L557'> 557         <b>char</b> *<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a> = <a href='../S/825.html#L1530' title='Defined at 1530 in cbench/openflow/lib/ofp-print.c.'>ofp_to_string</a>(<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>, <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>, 1);
<a name='L558'> 558         <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = (<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/6650.html' title='Multiple used in 11 places.'>send</a>)(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>);
<a name='L559'> 559         <b>if</b> (<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> != <a href='../Y/259.html' title='Multiple used in 75 places.'>EAGAIN</a>) <font color='red'>{</font>
<a name='L560'> 560             <a href='../S/859.html#L173' title='Defined at 173 in cbench/openflow/lib/vlog.h.'>VLOG_DBG_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "%s: sent (%s): %s",
<a name='L561'> 561                         <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/7090.html' title='Multiple used in 143 places.'>strerror</a>(<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>), <a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>);
<a name='L562'> 562         <font color='red'>}</font>
<a name='L563'> 563         <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/6552.html' title='Multiple used in 565 places.'>s</a>);
<a name='L564'> 564     <font color='red'>}</font>
<a name='L565'> 565     <b>return</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L566'> 566 <font color='red'>}</font>
<a name='L567'> 567 
<a name='L568'> 568 <i><font color='green'>/* Same as vconn_send, except that it waits until 'msg' can be transmitted. */</font></i>
<a name='L569'> 569 <b>int</b>
<a name='L570'> 570 <a href='../R/4914.html' title='Multiple refered from 3 places.'>vconn_send_block</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>)
<a name='L571'> 571 <font color='red'>{</font>
<a name='L572'> 572     <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L573'> 573     <b>while</b> ((<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../S/881.html#L538' title='Defined at 538 in cbench/openflow/lib/vconn.c.'>vconn_send</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>)) == <a href='../Y/259.html' title='Multiple used in 75 places.'>EAGAIN</a>) <font color='red'>{</font>
<a name='L574'> 574         <a href='../S/881.html#L686' title='Defined at 686 in cbench/openflow/lib/vconn.c.'>vconn_send_wait</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L575'> 575         <a href='../S/854.html#L154' title='Defined at 154 in cbench/openflow/lib/poll-loop.c.'>poll_block</a>();
<a name='L576'> 576     <font color='red'>}</font>
<a name='L577'> 577     <b>return</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L578'> 578 <font color='red'>}</font>
<a name='L579'> 579 
<a name='L580'> 580 <i><font color='green'>/* Same as vconn_recv, except that it waits until a message is received. */</font></i>
<a name='L581'> 581 <b>int</b>
<a name='L582'> 582 <a href='../R/4910.html' title='Multiple refered from 4 places.'>vconn_recv_block</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> **<a href='../Y/4532.html' title='Multiple used in 12 places.'>msgp</a>)
<a name='L583'> 583 <font color='red'>{</font>
<a name='L584'> 584     <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L585'> 585     <b>while</b> ((<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../S/881.html#L460' title='Defined at 460 in cbench/openflow/lib/vconn.c.'>vconn_recv</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../Y/4532.html' title='Multiple used in 12 places.'>msgp</a>)) == <a href='../Y/259.html' title='Multiple used in 75 places.'>EAGAIN</a>) <font color='red'>{</font>
<a name='L586'> 586         <a href='../S/881.html#L680' title='Defined at 680 in cbench/openflow/lib/vconn.c.'>vconn_recv_wait</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>);
<a name='L587'> 587         <a href='../S/854.html#L154' title='Defined at 154 in cbench/openflow/lib/poll-loop.c.'>poll_block</a>();
<a name='L588'> 588     <font color='red'>}</font>
<a name='L589'> 589     <b>return</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L590'> 590 <font color='red'>}</font>
<a name='L591'> 591 
<a name='L592'> 592 <i><font color='green'>/* Waits until a message with a transaction ID matching 'xid' is recived on</font></i>
<a name='L593'> 593 <i><font color='green'> * 'vconn'.  Returns 0 if successful, in which case the reply is stored in</font></i>
<a name='L594'> 594 <i><font color='green'> * '*replyp' for the caller to examine and free.  Otherwise returns a positive</font></i>
<a name='L595'> 595 <i><font color='green'> * errno value, or EOF, and sets '*replyp' to null.</font></i>
<a name='L596'> 596 <i><font color='green'> *</font></i>
<a name='L597'> 597 <i><font color='green'> * 'request' is always destroyed, regardless of the return value. */</font></i>
<a name='L598'> 598 <b>int</b>
<a name='L599'> 599 <a href='../R/4912.html' title='Multiple refered from 2 places.'>vconn_recv_xid</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>, <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> **<a href='../Y/6384.html' title='Multiple used in 9 places.'>replyp</a>)
<a name='L600'> 600 <font color='red'>{</font>
<a name='L601'> 601     <b>for</b> (;;) <font color='red'>{</font>
<a name='L602'> 602         <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/6313.html' title='Multiple used in 8 places.'>recv_xid</a>;
<a name='L603'> 603         <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/6383.html' title='Multiple used in 144 places.'>reply</a>;
<a name='L604'> 604         <b>int</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L605'> 605 
<a name='L606'> 606         <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../S/881.html#L582' title='Defined at 582 in cbench/openflow/lib/vconn.c.'>vconn_recv_block</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, &amp;<a href='../Y/6383.html' title='Multiple used in 144 places.'>reply</a>);
<a name='L607'> 607         <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>) <font color='red'>{</font>
<a name='L608'> 608             *<a href='../Y/6384.html' title='Multiple used in 9 places.'>replyp</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L609'> 609             <b>return</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L610'> 610         <font color='red'>}</font>
<a name='L611'> 611         <a href='../Y/6313.html' title='Multiple used in 8 places.'>recv_xid</a> = ((<b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a> *) <a href='../Y/6383.html' title='Multiple used in 144 places.'>reply</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>)-&gt;<a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a>;
<a name='L612'> 612         <b>if</b> (<a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a> == <a href='../Y/6313.html' title='Multiple used in 8 places.'>recv_xid</a>) <font color='red'>{</font>
<a name='L613'> 613             *<a href='../Y/6384.html' title='Multiple used in 9 places.'>replyp</a> = <a href='../Y/6383.html' title='Multiple used in 144 places.'>reply</a>;
<a name='L614'> 614             <b>return</b> 0;
<a name='L615'> 615         <font color='red'>}</font>
<a name='L616'> 616 
<a name='L617'> 617         <a href='../S/859.html#L173' title='Defined at 173 in cbench/openflow/lib/vlog.h.'>VLOG_DBG_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "%s: received reply with xid %08"<a href='../Y/702.html' title='Multiple used in 15 places.'>PRIx32</a>" != expected "
<a name='L618'> 618                     "%08"<a href='../Y/702.html' title='Multiple used in 15 places.'>PRIx32</a>, <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/6313.html' title='Multiple used in 8 places.'>recv_xid</a>, <a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a>);
<a name='L619'> 619         <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/6383.html' title='Multiple used in 144 places.'>reply</a>);
<a name='L620'> 620     <font color='red'>}</font>
<a name='L621'> 621 <font color='red'>}</font>
<a name='L622'> 622 
<a name='L623'> 623 <i><font color='green'>/* Sends 'request' to 'vconn' and blocks until it receives a reply with a</font></i>
<a name='L624'> 624 <i><font color='green'> * matching transaction ID.  Returns 0 if successful, in which case the reply</font></i>
<a name='L625'> 625 <i><font color='green'> * is stored in '*replyp' for the caller to examine and free.  Otherwise</font></i>
<a name='L626'> 626 <i><font color='green'> * returns a positive errno value, or EOF, and sets '*replyp' to null.</font></i>
<a name='L627'> 627 <i><font color='green'> *</font></i>
<a name='L628'> 628 <i><font color='green'> * 'request' is always destroyed, regardless of the return value. */</font></i>
<a name='L629'> 629 <b>int</b>
<a name='L630'> 630 <a href='../R/4922.html' title='Multiple refered from 9 places.'>vconn_transact</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/6400.html' title='Multiple used in 153 places.'>request</a>,
<a name='L631'> 631                <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> **<a href='../Y/6384.html' title='Multiple used in 9 places.'>replyp</a>)
<a name='L632'> 632 <font color='red'>{</font>
<a name='L633'> 633     <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/6660.html' title='Multiple used in 5 places.'>send_xid</a> = ((<b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a> *) <a href='../Y/6400.html' title='Multiple used in 153 places.'>request</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>)-&gt;<a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a>;
<a name='L634'> 634     <b>int</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L635'> 635 
<a name='L636'> 636     *<a href='../Y/6384.html' title='Multiple used in 9 places.'>replyp</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L637'> 637     <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../S/881.html#L570' title='Defined at 570 in cbench/openflow/lib/vconn.c.'>vconn_send_block</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../Y/6400.html' title='Multiple used in 153 places.'>request</a>);
<a name='L638'> 638     <b>if</b> (<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>) <font color='red'>{</font>
<a name='L639'> 639         <a href='../S/887.html#L110' title='Defined at 110 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_delete</a>(<a href='../Y/6400.html' title='Multiple used in 153 places.'>request</a>);
<a name='L640'> 640     <font color='red'>}</font>
<a name='L641'> 641     <b>return</b> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> ? <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> : <a href='../S/881.html#L599' title='Defined at 599 in cbench/openflow/lib/vconn.c.'>vconn_recv_xid</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../Y/6660.html' title='Multiple used in 5 places.'>send_xid</a>, <a href='../Y/6384.html' title='Multiple used in 9 places.'>replyp</a>);
<a name='L642'> 642 <font color='red'>}</font>
<a name='L643'> 643 
<a name='L644'> 644 <b>void</b>
<a name='L645'> 645 <a href='../R/4924.html' title='Multiple refered from 6 places.'>vconn_wait</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>, <b>enum</b> <a href='../Y/7751.html' title='Multiple used in 5 places.'>vconn_wait_type</a> <a href='../Y/7837.html' title='Multiple used in 31 places.'>wait</a>)
<a name='L646'> 646 <font color='red'>{</font>
<a name='L647'> 647     <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/7837.html' title='Multiple used in 31 places.'>wait</a> == <a href='../S/906.html#L67' title='Defined at 67 in cbench/openflow/lib/vconn.h.'>WAIT_CONNECT</a> || <a href='../Y/7837.html' title='Multiple used in 31 places.'>wait</a> == <a href='../S/906.html#L68' title='Defined at 68 in cbench/openflow/lib/vconn.h.'>WAIT_RECV</a> || <a href='../Y/7837.html' title='Multiple used in 31 places.'>wait</a> == <a href='../S/906.html#L69' title='Defined at 69 in cbench/openflow/lib/vconn.h.'>WAIT_SEND</a>);
<a name='L648'> 648 
<a name='L649'> 649     <b>switch</b> (<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>) <font color='red'>{</font>
<a name='L650'> 650     <b>case</b> <a href='../S/881.html#L58' title='Defined at 58 in cbench/openflow/lib/vconn.c.'>VCS_CONNECTING</a>:
<a name='L651'> 651         <a href='../Y/7837.html' title='Multiple used in 31 places.'>wait</a> = <a href='../S/906.html#L67' title='Defined at 67 in cbench/openflow/lib/vconn.h.'>WAIT_CONNECT</a>;
<a name='L652'> 652         <b>break</b>;
<a name='L653'> 653 
<a name='L654'> 654     <b>case</b> <a href='../S/881.html#L59' title='Defined at 59 in cbench/openflow/lib/vconn.c.'>VCS_SEND_HELLO</a>:
<a name='L655'> 655     <b>case</b> <a href='../S/881.html#L64' title='Defined at 64 in cbench/openflow/lib/vconn.c.'>VCS_SEND_ERROR</a>:
<a name='L656'> 656         <a href='../Y/7837.html' title='Multiple used in 31 places.'>wait</a> = <a href='../S/906.html#L69' title='Defined at 69 in cbench/openflow/lib/vconn.h.'>WAIT_SEND</a>;
<a name='L657'> 657         <b>break</b>;
<a name='L658'> 658 
<a name='L659'> 659     <b>case</b> <a href='../S/881.html#L60' title='Defined at 60 in cbench/openflow/lib/vconn.c.'>VCS_RECV_HELLO</a>:
<a name='L660'> 660         <a href='../Y/7837.html' title='Multiple used in 31 places.'>wait</a> = <a href='../S/906.html#L68' title='Defined at 68 in cbench/openflow/lib/vconn.h.'>WAIT_RECV</a>;
<a name='L661'> 661         <b>break</b>;
<a name='L662'> 662 
<a name='L663'> 663     <b>case</b> <a href='../S/881.html#L61' title='Defined at 61 in cbench/openflow/lib/vconn.c.'>VCS_CONNECTED</a>:
<a name='L664'> 664         <b>break</b>;
<a name='L665'> 665 
<a name='L666'> 666     <b>case</b> <a href='../S/881.html#L65' title='Defined at 65 in cbench/openflow/lib/vconn.c.'>VCS_DISCONNECTED</a>:
<a name='L667'> 667         <a href='../S/854.html#L119' title='Defined at 119 in cbench/openflow/lib/poll-loop.c.'>poll_immediate_wake</a>();
<a name='L668'> 668         <b>return</b>;
<a name='L669'> 669     <font color='red'>}</font>
<a name='L670'> 670     (<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/7837.html' title='Multiple used in 31 places.'>wait</a>)(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../Y/7837.html' title='Multiple used in 31 places.'>wait</a>);
<a name='L671'> 671 <font color='red'>}</font>
<a name='L672'> 672 
<a name='L673'> 673 <b>void</b>
<a name='L674'> 674 <a href='../R/4901.html' title='Multiple refered from 2 places.'>vconn_connect_wait</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>)
<a name='L675'> 675 <font color='red'>{</font>
<a name='L676'> 676     <a href='../S/881.html#L645' title='Defined at 645 in cbench/openflow/lib/vconn.c.'>vconn_wait</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../S/906.html#L67' title='Defined at 67 in cbench/openflow/lib/vconn.h.'>WAIT_CONNECT</a>);
<a name='L677'> 677 <font color='red'>}</font>
<a name='L678'> 678 
<a name='L679'> 679 <b>void</b>
<a name='L680'> 680 <a href='../R/4911.html' title='Multiple refered from 2 places.'>vconn_recv_wait</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>)
<a name='L681'> 681 <font color='red'>{</font>
<a name='L682'> 682     <a href='../S/881.html#L645' title='Defined at 645 in cbench/openflow/lib/vconn.c.'>vconn_wait</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../S/906.html#L68' title='Defined at 68 in cbench/openflow/lib/vconn.h.'>WAIT_RECV</a>);
<a name='L683'> 683 <font color='red'>}</font>
<a name='L684'> 684 
<a name='L685'> 685 <b>void</b>
<a name='L686'> 686 <a href='../R/4915.html' title='Multiple refered from 2 places.'>vconn_send_wait</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>)
<a name='L687'> 687 <font color='red'>{</font>
<a name='L688'> 688     <a href='../S/881.html#L645' title='Defined at 645 in cbench/openflow/lib/vconn.c.'>vconn_wait</a>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>, <a href='../S/906.html#L69' title='Defined at 69 in cbench/openflow/lib/vconn.h.'>WAIT_SEND</a>);
<a name='L689'> 689 <font color='red'>}</font>
<a name='L690'> 690 
<a name='L691'> 691 <i><font color='green'>/* Attempts to start listening for OpenFlow connections.  'name' is a</font></i>
<a name='L692'> 692 <i><font color='green'> * connection name in the form "TYPE:ARGS", where TYPE is an passive vconn</font></i>
<a name='L693'> 693 <i><font color='green'> * class's name and ARGS are vconn class-specific.</font></i>
<a name='L694'> 694 <i><font color='green'> *</font></i>
<a name='L695'> 695 <i><font color='green'> * Returns 0 if successful, otherwise a positive errno value.  If successful,</font></i>
<a name='L696'> 696 <i><font color='green'> * stores a pointer to the new connection in '*pvconnp', otherwise a null</font></i>
<a name='L697'> 697 <i><font color='green'> * pointer.  */</font></i>
<a name='L698'> 698 <b>int</b>
<a name='L699'> 699 <a href='../R/4226.html' title='Multiple refered from 4 places.'>pvconn_open</a>(<b>const</b> <b>char</b> *<a href='../Y/4631.html' title='Multiple used in 221 places.'>name</a>, <b>struct</b> <a href='../Y/6174.html' title='Multiple used in 31 places.'>pvconn</a> **<a href='../Y/6178.html' title='Multiple used in 14 places.'>pvconnp</a>)
<a name='L700'> 700 <font color='red'>{</font>
<a name='L701'> 701     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/5865.html' title='Multiple used in 14 places.'>prefix_len</a>;
<a name='L702'> 702     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>;
<a name='L703'> 703 
<a name='L704'> 704     <a href='../S/881.html#L97' title='Defined at 97 in cbench/openflow/lib/vconn.c.'>check_vconn_classes</a>();
<a name='L705'> 705 
<a name='L706'> 706     *<a href='../Y/6178.html' title='Multiple used in 14 places.'>pvconnp</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L707'> 707     <a href='../Y/5865.html' title='Multiple used in 14 places.'>prefix_len</a> = <a href='../Y/7084.html' title='Multiple used in 6 places.'>strcspn</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, ":");
<a name='L708'> 708     <b>if</b> (<a href='../Y/5865.html' title='Multiple used in 14 places.'>prefix_len</a> == <a href='../Y/7098.html' title='Multiple used in 203 places.'>strlen</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>)) <font color='red'>{</font>
<a name='L709'> 709         <b>return</b> <a href='../Y/258.html' title='Multiple used in 9 places.'>EAFNOSUPPORT</a>;
<a name='L710'> 710     <font color='red'>}</font>
<a name='L711'> 711     <b>for</b> (<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> = 0; <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a> &lt; <a href='../S/840.html#L69' title='Defined at 69 in cbench/openflow/lib/util.h.'>ARRAY_SIZE</a>(<a href='../Y/6176.html' title='Multiple used in 5 places.'>pvconn_classes</a>); <a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>++) <font color='red'>{</font>
<a name='L712'> 712         <b>struct</b> <a href='../S/895.html#L146' title='Defined at 146 in cbench/openflow/lib/vconn-provider.h.'>pvconn_class</a> *<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a> = <a href='../Y/6176.html' title='Multiple used in 5 places.'>pvconn_classes</a>[<a href='../Y/3700.html' title='Multiple used in 2939 places.'>i</a>];
<a name='L713'> 713         <b>if</b> (<a href='../Y/7098.html' title='Multiple used in 203 places.'>strlen</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>) == <a href='../Y/5865.html' title='Multiple used in 14 places.'>prefix_len</a>
<a name='L714'> 714             &amp;&amp; !<a href='../Y/4416.html' title='Multiple used in 69 places.'>memcmp</a>(<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/5865.html' title='Multiple used in 14 places.'>prefix_len</a>)) <font color='red'>{</font>
<a name='L715'> 715             <b>char</b> *<a href='../Y/7157.html' title='Multiple used in 6 places.'>suffix_copy</a> = <a href='../S/878.html#L98' title='Defined at 98 in cbench/openflow/lib/util.c.'>xstrdup</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a> + <a href='../Y/5865.html' title='Multiple used in 14 places.'>prefix_len</a> + 1);
<a name='L716'> 716             <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = <a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/4168.html' title='Multiple used in 10 places.'>listen</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/7157.html' title='Multiple used in 6 places.'>suffix_copy</a>, <a href='../Y/6178.html' title='Multiple used in 14 places.'>pvconnp</a>);
<a name='L717'> 717             <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/7157.html' title='Multiple used in 6 places.'>suffix_copy</a>);
<a name='L718'> 718             <b>if</b> (<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>) <font color='red'>{</font>
<a name='L719'> 719                 *<a href='../Y/6178.html' title='Multiple used in 14 places.'>pvconnp</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L720'> 720             <font color='red'>}</font>
<a name='L721'> 721             <b>return</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L722'> 722         <font color='red'>}</font>
<a name='L723'> 723     <font color='red'>}</font>
<a name='L724'> 724     <b>return</b> <a href='../Y/258.html' title='Multiple used in 9 places.'>EAFNOSUPPORT</a>;
<a name='L725'> 725 <font color='red'>}</font>
<a name='L726'> 726 
<a name='L727'> 727 <i><font color='green'>/* Closes 'pvconn'. */</font></i>
<a name='L728'> 728 <b>void</b>
<a name='L729'> 729 <a href='../R/4224.html' title='Multiple refered from 2 places.'>pvconn_close</a>(<b>struct</b> <a href='../Y/6174.html' title='Multiple used in 31 places.'>pvconn</a> *<a href='../Y/6174.html' title='Multiple used in 31 places.'>pvconn</a>)
<a name='L730'> 730 <font color='red'>{</font>
<a name='L731'> 731     <b>if</b> (<a href='../S/895.html#L134' title='Defined at 134 in cbench/openflow/lib/vconn-provider.h.'>pvconn</a> != <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L732'> 732         <b>char</b> *<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a> = <a href='../S/895.html#L134' title='Defined at 134 in cbench/openflow/lib/vconn-provider.h.'>pvconn</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>;
<a name='L733'> 733         (<a href='../S/895.html#L134' title='Defined at 134 in cbench/openflow/lib/vconn-provider.h.'>pvconn</a>-&gt;<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/1918.html' title='Multiple used in 102 places.'>close</a>)(<a href='../S/895.html#L134' title='Defined at 134 in cbench/openflow/lib/vconn-provider.h.'>pvconn</a>);
<a name='L734'> 734         <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>);
<a name='L735'> 735     <font color='red'>}</font>
<a name='L736'> 736 <font color='red'>}</font>
<a name='L737'> 737 
<a name='L738'> 738 <i><font color='green'>/* Tries to accept a new connection on 'pvconn'.  If successful, stores the new</font></i>
<a name='L739'> 739 <i><font color='green'> * connection in '*new_vconn' and returns 0.  Otherwise, returns a positive</font></i>
<a name='L740'> 740 <i><font color='green'> * errno value.</font></i>
<a name='L741'> 741 <i><font color='green'> *</font></i>
<a name='L742'> 742 <i><font color='green'> * The new vconn will automatically negotiate an OpenFlow protocol version</font></i>
<a name='L743'> 743 <i><font color='green'> * acceptable to both peers on the connection.  The version negotiated will be</font></i>
<a name='L744'> 744 <i><font color='green'> * no lower than 'min_version' and no higher than OFP_VERSION.</font></i>
<a name='L745'> 745 <i><font color='green'> *</font></i>
<a name='L746'> 746 <i><font color='green'> * pvconn_accept() will not block waiting for a connection.  If no connection</font></i>
<a name='L747'> 747 <i><font color='green'> * is ready to be accepted, it returns EAGAIN immediately. */</font></i>
<a name='L748'> 748 <b>int</b>
<a name='L749'> 749 <a href='../R/4221.html' title='Multiple refered from 4 places.'>pvconn_accept</a>(<b>struct</b> <a href='../Y/6174.html' title='Multiple used in 31 places.'>pvconn</a> *<a href='../Y/6174.html' title='Multiple used in 31 places.'>pvconn</a>, <b>int</b> <a href='../Y/4470.html' title='Multiple used in 16 places.'>min_version</a>, <b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> **<a href='../Y/4790.html' title='Multiple used in 12 places.'>new_vconn</a>)
<a name='L750'> 750 <font color='red'>{</font>
<a name='L751'> 751     <b>int</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a> = (<a href='../S/895.html#L134' title='Defined at 134 in cbench/openflow/lib/vconn-provider.h.'>pvconn</a>-&gt;<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/1266.html' title='Multiple used in 18 places.'>accept</a>)(<a href='../S/895.html#L134' title='Defined at 134 in cbench/openflow/lib/vconn-provider.h.'>pvconn</a>, <a href='../Y/4790.html' title='Multiple used in 12 places.'>new_vconn</a>);
<a name='L752'> 752     <b>if</b> (<a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>) <font color='red'>{</font>
<a name='L753'> 753         *<a href='../Y/4790.html' title='Multiple used in 12 places.'>new_vconn</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L754'> 754     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L755'> 755         <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>((*<a href='../Y/4790.html' title='Multiple used in 12 places.'>new_vconn</a>)-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> != <a href='../S/881.html#L58' title='Defined at 58 in cbench/openflow/lib/vconn.c.'>VCS_CONNECTING</a>
<a name='L756'> 756                || (*<a href='../Y/4790.html' title='Multiple used in 12 places.'>new_vconn</a>)-&gt;<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/2093.html' title='Multiple used in 10 places.'>connect</a>);
<a name='L757'> 757         (*<a href='../Y/4790.html' title='Multiple used in 12 places.'>new_vconn</a>)-&gt;<a href='../Y/4470.html' title='Multiple used in 16 places.'>min_version</a> = <a href='../Y/4470.html' title='Multiple used in 16 places.'>min_version</a>;
<a name='L758'> 758     <font color='red'>}</font>
<a name='L759'> 759     <b>return</b> <a href='../Y/6437.html' title='Multiple used in 433 places.'>retval</a>;
<a name='L760'> 760 <font color='red'>}</font>
<a name='L761'> 761 
<a name='L762'> 762 <b>void</b>
<a name='L763'> 763 <a href='../R/4227.html' title='Multiple refered from 5 places.'>pvconn_wait</a>(<b>struct</b> <a href='../Y/6174.html' title='Multiple used in 31 places.'>pvconn</a> *<a href='../Y/6174.html' title='Multiple used in 31 places.'>pvconn</a>)
<a name='L764'> 764 <font color='red'>{</font>
<a name='L765'> 765     (<a href='../S/895.html#L134' title='Defined at 134 in cbench/openflow/lib/vconn-provider.h.'>pvconn</a>-&gt;<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>-&gt;<a href='../Y/7837.html' title='Multiple used in 31 places.'>wait</a>)(<a href='../S/895.html#L134' title='Defined at 134 in cbench/openflow/lib/vconn-provider.h.'>pvconn</a>);
<a name='L766'> 766 <font color='red'>}</font>
<a name='L767'> 767 
<a name='L768'> 768 <i><font color='green'>/* XXX we should really use consecutive xids to avoid probabilistic</font></i>
<a name='L769'> 769 <i><font color='green'> * failures. */</font></i>
<a name='L770'> 770 <b>static</b> <b>inline</b> <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a>
<a name='L771'> 771 <a href='../R/2184.html' title='Multiple refered from 3 places.'>alloc_xid</a>(<b>void</b>)
<a name='L772'> 772 <font color='red'>{</font>
<a name='L773'> 773     <b>return</b> <a href='../S/864.html#L88' title='Defined at 88 in cbench/openflow/lib/random.c.'>random_uint32</a>();
<a name='L774'> 774 <font color='red'>}</font>
<a name='L775'> 775 
<a name='L776'> 776 <i><font color='green'>/* Allocates and stores in '*bufferp' a new ofpbuf with a size of</font></i>
<a name='L777'> 777 <i><font color='green'> * 'openflow_len', starting with an OpenFlow header with the given 'type' and</font></i>
<a name='L778'> 778 <i><font color='green'> * an arbitrary transaction id.  Allocated bytes beyond the header, if any, are</font></i>
<a name='L779'> 779 <i><font color='green'> * zeroed.</font></i>
<a name='L780'> 780 <i><font color='green'> *</font></i>
<a name='L781'> 781 <i><font color='green'> * The caller is responsible for freeing '*bufferp' when it is no longer</font></i>
<a name='L782'> 782 <i><font color='green'> * needed.</font></i>
<a name='L783'> 783 <i><font color='green'> *</font></i>
<a name='L784'> 784 <i><font color='green'> * The OpenFlow header length is initially set to 'openflow_len'; if the</font></i>
<a name='L785'> 785 <i><font color='green'> * message is later extended, the length should be updated with</font></i>
<a name='L786'> 786 <i><font color='green'> * update_openflow_length() before sending.</font></i>
<a name='L787'> 787 <i><font color='green'> *</font></i>
<a name='L788'> 788 <i><font color='green'> * Returns the header. */</font></i>
<a name='L789'> 789 <b>void</b> *
<a name='L790'> 790 <a href='../R/3489.html' title='Multiple refered from 27 places.'>make_openflow</a>(<a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a>, <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> **<a href='../Y/1711.html' title='Multiple used in 21 places.'>bufferp</a>)
<a name='L791'> 791 <font color='red'>{</font>
<a name='L792'> 792     *<a href='../Y/1711.html' title='Multiple used in 21 places.'>bufferp</a> = <a href='../S/887.html#L87' title='Defined at 87 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_new</a>(<a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a>);
<a name='L793'> 793     <b>return</b> <a href='../S/881.html#L842' title='Defined at 842 in cbench/openflow/lib/vconn.c.'>put_openflow_xid</a>(<a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a>, <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../S/881.html#L771' title='Defined at 771 in cbench/openflow/lib/vconn.c.'>alloc_xid</a>(), *<a href='../Y/1711.html' title='Multiple used in 21 places.'>bufferp</a>);
<a name='L794'> 794 <font color='red'>}</font>
<a name='L795'> 795 
<a name='L796'> 796 <i><font color='green'>/* Allocates and stores in '*bufferp' a new ofpbuf with a size of</font></i>
<a name='L797'> 797 <i><font color='green'> * 'openflow_len', starting with an OpenFlow header with the given 'type' and</font></i>
<a name='L798'> 798 <i><font color='green'> * transaction id 'xid'.  Allocated bytes beyond the header, if any, are</font></i>
<a name='L799'> 799 <i><font color='green'> * zeroed.</font></i>
<a name='L800'> 800 <i><font color='green'> *</font></i>
<a name='L801'> 801 <i><font color='green'> * The caller is responsible for freeing '*bufferp' when it is no longer</font></i>
<a name='L802'> 802 <i><font color='green'> * needed.</font></i>
<a name='L803'> 803 <i><font color='green'> *</font></i>
<a name='L804'> 804 <i><font color='green'> * The OpenFlow header length is initially set to 'openflow_len'; if the</font></i>
<a name='L805'> 805 <i><font color='green'> * message is later extended, the length should be updated with</font></i>
<a name='L806'> 806 <i><font color='green'> * update_openflow_length() before sending.</font></i>
<a name='L807'> 807 <i><font color='green'> *</font></i>
<a name='L808'> 808 <i><font color='green'> * Returns the header. */</font></i>
<a name='L809'> 809 <b>void</b> *
<a name='L810'> 810 <a href='../R/3491.html' title='Multiple refered from 7 places.'>make_openflow_xid</a>(<a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a>, <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a>,
<a name='L811'> 811                   <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> **<a href='../Y/1711.html' title='Multiple used in 21 places.'>bufferp</a>)
<a name='L812'> 812 <font color='red'>{</font>
<a name='L813'> 813     *<a href='../Y/1711.html' title='Multiple used in 21 places.'>bufferp</a> = <a href='../S/887.html#L87' title='Defined at 87 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_new</a>(<a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a>);
<a name='L814'> 814     <b>return</b> <a href='../S/881.html#L842' title='Defined at 842 in cbench/openflow/lib/vconn.c.'>put_openflow_xid</a>(<a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a>, <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a>, *<a href='../Y/1711.html' title='Multiple used in 21 places.'>bufferp</a>);
<a name='L815'> 815 <font color='red'>}</font>
<a name='L816'> 816 
<a name='L817'> 817 <i><font color='green'>/* Appends 'openflow_len' bytes to 'buffer', starting with an OpenFlow header</font></i>
<a name='L818'> 818 <i><font color='green'> * with the given 'type' and an arbitrary transaction id.  Allocated bytes</font></i>
<a name='L819'> 819 <i><font color='green'> * beyond the header, if any, are zeroed.</font></i>
<a name='L820'> 820 <i><font color='green'> *</font></i>
<a name='L821'> 821 <i><font color='green'> * The OpenFlow header length is initially set to 'openflow_len'; if the</font></i>
<a name='L822'> 822 <i><font color='green'> * message is later extended, the length should be updated with</font></i>
<a name='L823'> 823 <i><font color='green'> * update_openflow_length() before sending.</font></i>
<a name='L824'> 824 <i><font color='green'> *</font></i>
<a name='L825'> 825 <i><font color='green'> * Returns the header. */</font></i>
<a name='L826'> 826 <b>void</b> *
<a name='L827'> 827 <a href='../S/906.html#L86' title='Refered from 86 in cbench/openflow/lib/vconn.h.'>put_openflow</a>(<a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a>, <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>)
<a name='L828'> 828 <font color='red'>{</font>
<a name='L829'> 829     <b>return</b> <a href='../S/881.html#L842' title='Defined at 842 in cbench/openflow/lib/vconn.c.'>put_openflow_xid</a>(<a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a>, <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../S/881.html#L771' title='Defined at 771 in cbench/openflow/lib/vconn.c.'>alloc_xid</a>(), <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>);
<a name='L830'> 830 <font color='red'>}</font>
<a name='L831'> 831 
<a name='L832'> 832 <i><font color='green'>/* Appends 'openflow_len' bytes to 'buffer', starting with an OpenFlow header</font></i>
<a name='L833'> 833 <i><font color='green'> * with the given 'type' and an transaction id 'xid'.  Allocated bytes beyond</font></i>
<a name='L834'> 834 <i><font color='green'> * the header, if any, are zeroed.</font></i>
<a name='L835'> 835 <i><font color='green'> *</font></i>
<a name='L836'> 836 <i><font color='green'> * The OpenFlow header length is initially set to 'openflow_len'; if the</font></i>
<a name='L837'> 837 <i><font color='green'> * message is later extended, the length should be updated with</font></i>
<a name='L838'> 838 <i><font color='green'> * update_openflow_length() before sending.</font></i>
<a name='L839'> 839 <i><font color='green'> *</font></i>
<a name='L840'> 840 <i><font color='green'> * Returns the header. */</font></i>
<a name='L841'> 841 <b>void</b> *
<a name='L842'> 842 <a href='../R/4216.html' title='Multiple refered from 4 places.'>put_openflow_xid</a>(<a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a>, <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a>,
<a name='L843'> 843                  <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>)
<a name='L844'> 844 <font color='red'>{</font>
<a name='L845'> 845     <b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>;
<a name='L846'> 846 
<a name='L847'> 847     <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a> &gt;= <b>sizeof</b> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>);
<a name='L848'> 848     <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a> &lt;= <a href='../S/294.html#L24' title='Defined at 24 in cbench/openflow/datapath/forward.h.'>UINT16_MAX</a>);
<a name='L849'> 849 
<a name='L850'> 850     <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a> = <a href='../S/887.html#L175' title='Defined at 175 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_uninit</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a>);
<a name='L851'> 851     <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a> = <a href='../Y/621.html' title='Multiple used in 78 places.'>OFP_VERSION</a>;
<a name='L852'> 852     <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>;
<a name='L853'> 853     <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a>);
<a name='L854'> 854     <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a> = <a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a>;
<a name='L855'> 855     <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a> + 1, 0, <a href='../Y/5475.html' title='Multiple used in 30 places.'>openflow_len</a> - <b>sizeof</b> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>);
<a name='L856'> 856     <b>return</b> <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>;
<a name='L857'> 857 <font color='red'>}</font>
<a name='L858'> 858 
<a name='L859'> 859 <i><font color='green'>/* Updates the 'length' field of the OpenFlow message in 'buffer' to</font></i>
<a name='L860'> 860 <i><font color='green'> * 'buffer-&gt;size'. */</font></i>
<a name='L861'> 861 <b>void</b>
<a name='L862'> 862 <a href='../R/4882.html' title='Multiple refered from 6 places.'>update_openflow_length</a>(<b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>) 
<a name='L863'> 863 <font color='red'>{</font>
<a name='L864'> 864     <b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a> = <a href='../S/887.html#L244' title='Defined at 244 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_at_assert</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, 0, <b>sizeof</b> *<a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>);
<a name='L865'> 865     <a href='../Y/5417.html' title='Multiple used in 183 places.'>oh</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>); 
<a name='L866'> 866 <font color='red'>}</font>
<a name='L867'> 867 
<a name='L868'> 868 <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *
<a name='L869'> 869 <a href='../R/3476.html' title='Multiple refered from 5 places.'>make_flow_mod</a>(<a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/2011.html' title='Multiple used in 60 places.'>command</a>, <b>const</b> <b>struct</b> <a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a> *<a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a>, <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>)
<a name='L870'> 870 <font color='red'>{</font>
<a name='L871'> 871     <b>struct</b> <a href='../D/8779.html' title='Multiple defined in 3 places.'>ofp_flow_mod</a> *<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>;
<a name='L872'> 872     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> = <b>sizeof</b> *<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a> + <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>;
<a name='L873'> 873     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a> = <a href='../S/887.html#L87' title='Defined at 87 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_new</a>(<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L874'> 874     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a> = <a href='../S/887.html#L188' title='Defined at 188 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_zeros</a>(<a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>, <b>sizeof</b> *<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>);
<a name='L875'> 875     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a> = <a href='../Y/621.html' title='Multiple used in 78 places.'>OFP_VERSION</a>;
<a name='L876'> 876     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../D/3667.html' title='Multiple defined in 3 places.'>OFPT_FLOW_MOD</a>;
<a name='L877'> 877     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L878'> 878     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/7877.html' title='Multiple used in 308 places.'>wildcards</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(0);
<a name='L879'> 879     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>;
<a name='L880'> 880     <a href='../Y/4417.html' title='Multiple used in 205 places.'>memcpy</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/2462.html' title='Multiple used in 77 places.'>dl_src</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2462.html' title='Multiple used in 77 places.'>dl_src</a>, <b>sizeof</b> <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/2462.html' title='Multiple used in 77 places.'>dl_src</a>);
<a name='L881'> 881     <a href='../Y/4417.html' title='Multiple used in 205 places.'>memcpy</a>(<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/2461.html' title='Multiple used in 96 places.'>dl_dst</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2461.html' title='Multiple used in 96 places.'>dl_dst</a>, <b>sizeof</b> <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/2461.html' title='Multiple used in 96 places.'>dl_dst</a>);
<a name='L882'> 882     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/2464.html' title='Multiple used in 65 places.'>dl_vlan</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2464.html' title='Multiple used in 65 places.'>dl_vlan</a>;
<a name='L883'> 883     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/2463.html' title='Multiple used in 81 places.'>dl_type</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2463.html' title='Multiple used in 81 places.'>dl_type</a>;
<a name='L884'> 884     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/2465.html' title='Multiple used in 33 places.'>dl_vlan_pcp</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/2465.html' title='Multiple used in 33 places.'>dl_vlan_pcp</a>;
<a name='L885'> 885     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/5018.html' title='Multiple used in 62 places.'>nw_src</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5018.html' title='Multiple used in 62 places.'>nw_src</a>;
<a name='L886'> 886     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/5015.html' title='Multiple used in 78 places.'>nw_dst</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5015.html' title='Multiple used in 78 places.'>nw_dst</a>;
<a name='L887'> 887     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/5017.html' title='Multiple used in 95 places.'>nw_proto</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/5017.html' title='Multiple used in 95 places.'>nw_proto</a>;
<a name='L888'> 888     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/7446.html' title='Multiple used in 54 places.'>tp_src</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/7446.html' title='Multiple used in 54 places.'>tp_src</a>;
<a name='L889'> 889     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/252.html#L421' title='Defined at 421 in cbench/openflow/tests/test-stp.c.'>match</a>.<a href='../Y/7444.html' title='Multiple used in 55 places.'>tp_dst</a> = <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>-&gt;<a href='../Y/7444.html' title='Multiple used in 55 places.'>tp_dst</a>;
<a name='L890'> 890     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/333.html#L92' title='Defined at 92 in cbench/openflow/utilities/dpctl.c.'>command</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../S/333.html#L92' title='Defined at 92 in cbench/openflow/utilities/dpctl.c.'>command</a>);
<a name='L891'> 891     <b>return</b> <a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>;
<a name='L892'> 892 <font color='red'>}</font>
<a name='L893'> 893 
<a name='L894'> 894 <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *
<a name='L895'> 895 <a href='../R/3465.html' title='Multiple refered from 4 places.'>make_add_flow</a>(<b>const</b> <b>struct</b> <a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a> *<a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a>, <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>,
<a name='L896'> 896               <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/3713.html' title='Multiple used in 7 places.'>idle_timeout</a>, <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>)
<a name='L897'> 897 <font color='red'>{</font>
<a name='L898'> 898     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a> = <a href='../D/8325.html' title='Multiple defined in 2 places.'>make_flow_mod</a>(<a href='../D/3403.html' title='Multiple defined in 3 places.'>OFPFC_ADD</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a>);
<a name='L899'> 899     <b>struct</b> <a href='../D/8779.html' title='Multiple defined in 3 places.'>ofp_flow_mod</a> *<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a> = <a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>;
<a name='L900'> 900     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../S/935.html#L773' title='Defined at 773 in src/cli.c.'>idle_timeout</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../S/935.html#L773' title='Defined at 773 in src/cli.c.'>idle_timeout</a>);
<a name='L901'> 901     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/3541.html' title='Multiple used in 76 places.'>hard_timeout</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/3756.html' title='Multiple defined in 3 places.'>OFP_FLOW_PERMANENT</a>);
<a name='L902'> 902     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>);
<a name='L903'> 903     <b>return</b> <a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>;
<a name='L904'> 904 <font color='red'>}</font>
<a name='L905'> 905 
<a name='L906'> 906 <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *
<a name='L907'> 907 <a href='../S/906.html#L94' title='Refered from 94 in cbench/openflow/lib/vconn.h.'>make_del_flow</a>(<b>const</b> <b>struct</b> <a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a> *<a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a>)
<a name='L908'> 908 <font color='red'>{</font>
<a name='L909'> 909     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a> = <a href='../D/8325.html' title='Multiple defined in 2 places.'>make_flow_mod</a>(<a href='../D/3405.html' title='Multiple defined in 3 places.'>OFPFC_DELETE_STRICT</a>, <a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, 0);
<a name='L910'> 910     <b>struct</b> <a href='../D/8779.html' title='Multiple defined in 3 places.'>ofp_flow_mod</a> *<a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a> = <a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>;
<a name='L911'> 911     <a href='../Y/5079.html' title='Multiple used in 245 places.'>ofm</a>-&gt;<a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/3587.html' title='Multiple defined in 2 places.'>OFPP_NONE</a>);
<a name='L912'> 912     <b>return</b> <a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>;
<a name='L913'> 913 <font color='red'>}</font>
<a name='L914'> 914 
<a name='L915'> 915 <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *
<a name='L916'> 916 <a href='../R/3466.html' title='Multiple refered from 3 places.'>make_add_simple_flow</a>(<b>const</b> <b>struct</b> <a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a> *<a href='../Y/3131.html' title='Multiple used in 114 places.'>flow</a>,
<a name='L917'> 917                      <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>, <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>,
<a name='L918'> 918                      <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/3713.html' title='Multiple used in 7 places.'>idle_timeout</a>)
<a name='L919'> 919 <font color='red'>{</font>
<a name='L920'> 920     <b>struct</b> <a href='../D/8741.html' title='Multiple defined in 3 places.'>ofp_action_output</a> *<a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>;
<a name='L921'> 921     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a> = <a href='../S/881.html#L895' title='Defined at 895 in cbench/openflow/lib/vconn.c.'>make_add_flow</a>(<a href='../D/7829.html' title='Multiple defined in 2 places.'>flow</a>, <a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>, <a href='../S/935.html#L773' title='Defined at 773 in src/cli.c.'>idle_timeout</a>,
<a name='L922'> 922                                           <b>sizeof</b> *<a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>);
<a name='L923'> 923     <a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a> = <a href='../S/887.html#L188' title='Defined at 188 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_zeros</a>(<a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>, <b>sizeof</b> *<a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>);
<a name='L924'> 924     <a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/3289.html' title='Multiple defined in 3 places.'>OFPAT_OUTPUT</a>);
<a name='L925'> 925     <a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>-&gt;<a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<b>sizeof</b> *<a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>);
<a name='L926'> 926     <a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>);
<a name='L927'> 927     <b>if</b> (<a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> == <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/3582.html' title='Multiple defined in 3 places.'>OFPP_CONTROLLER</a>))
<a name='L928'> 928         <a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>-&gt;<a href='../Y/4375.html' title='Multiple used in 47 places.'>max_len</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../S/294.html#L24' title='Defined at 24 in cbench/openflow/datapath/forward.h.'>UINT16_MAX</a>); <i><font color='green'>/* Enough to carry entire packet */</font></i>
<a name='L929'> 929     <b>return</b> <a href='../Y/1704.html' title='Multiple used in 387 places.'>buffer</a>;
<a name='L930'> 930 <font color='red'>}</font>
<a name='L931'> 931 
<a name='L932'> 932 <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *
<a name='L933'> 933 <a href='../R/3500.html' title='Multiple refered from 6 places.'>make_unbuffered_packet_out</a>(<b>const</b> <b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/5592.html' title='Multiple used in 61 places.'>packet</a>,
<a name='L934'> 934                            <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>, <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>)
<a name='L935'> 935 <font color='red'>{</font>
<a name='L936'> 936     <b>struct</b> <a href='../D/8849.html' title='Multiple defined in 4 places.'>ofp_packet_out</a> *<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>;
<a name='L937'> 937     <b>struct</b> <a href='../D/8741.html' title='Multiple defined in 3 places.'>ofp_action_output</a> *<a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>;
<a name='L938'> 938     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> = <b>sizeof</b> *<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a> + <b>sizeof</b> *<a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>;
<a name='L939'> 939     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a> = <a href='../S/887.html#L87' title='Defined at 87 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_new</a>(<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> + <a href='../Y/5592.html' title='Multiple used in 61 places.'>packet</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L940'> 940 
<a name='L941'> 941     <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a> = <a href='../S/887.html#L188' title='Defined at 188 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_zeros</a>(<a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>, <a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L942'> 942     <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a> = <a href='../Y/621.html' title='Multiple used in 78 places.'>OFP_VERSION</a>;
<a name='L943'> 943     <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../D/3682.html' title='Multiple defined in 3 places.'>OFPT_PACKET_OUT</a>;
<a name='L944'> 944     <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../S/294.html#L23' title='Defined at 23 in cbench/openflow/datapath/forward.h.'>UINT32_MAX</a>);
<a name='L945'> 945     <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>);
<a name='L946'> 946 
<a name='L947'> 947     <a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a> = (<b>struct</b> <a href='../D/8741.html' title='Multiple defined in 3 places.'>ofp_action_output</a> *)&amp;<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>[0];
<a name='L948'> 948     <a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/3289.html' title='Multiple defined in 3 places.'>OFPAT_OUTPUT</a>);
<a name='L949'> 949     <a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>-&gt;<a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<b>sizeof</b> *<a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>);
<a name='L950'> 950     <a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>);
<a name='L951'> 951 
<a name='L952'> 952     <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<b>sizeof</b> *<a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>);
<a name='L953'> 953 
<a name='L954'> 954     <a href='../S/887.html#L199' title='Defined at 199 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put</a>(<a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>, <a href='../Y/5592.html' title='Multiple used in 61 places.'>packet</a>-&gt;<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>, <a href='../Y/5592.html' title='Multiple used in 61 places.'>packet</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L955'> 955     <a href='../S/881.html#L862' title='Defined at 862 in cbench/openflow/lib/vconn.c.'>update_openflow_length</a>(<a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>);
<a name='L956'> 956     <b>return</b> <a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>;
<a name='L957'> 957 <font color='red'>}</font>
<a name='L958'> 958 
<a name='L959'> 959 <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *
<a name='L960'> 960 <a href='../R/3468.html' title='Multiple refered from 3 places.'>make_buffered_packet_out</a>(<a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>,
<a name='L961'> 961                          <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>, <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>)
<a name='L962'> 962 <font color='red'>{</font>
<a name='L963'> 963     <b>struct</b> <a href='../D/8849.html' title='Multiple defined in 4 places.'>ofp_packet_out</a> *<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>;
<a name='L964'> 964     <b>struct</b> <a href='../D/8741.html' title='Multiple defined in 3 places.'>ofp_action_output</a> *<a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>;
<a name='L965'> 965     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> = <b>sizeof</b> *<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a> + <b>sizeof</b> *<a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>;
<a name='L966'> 966     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a> = <a href='../S/887.html#L87' title='Defined at 87 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_new</a>(<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L967'> 967     <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a> = <a href='../S/887.html#L188' title='Defined at 188 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_zeros</a>(<a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>, <a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L968'> 968     <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a> = <a href='../Y/621.html' title='Multiple used in 78 places.'>OFP_VERSION</a>;
<a name='L969'> 969     <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../D/3682.html' title='Multiple defined in 3 places.'>OFPT_PACKET_OUT</a>;
<a name='L970'> 970     <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L971'> 971     <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../Y/1706.html' title='Multiple used in 133 places.'>buffer_id</a>);
<a name='L972'> 972     <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/3786.html' title='Multiple used in 144 places.'>in_port</a>);
<a name='L973'> 973 
<a name='L974'> 974     <a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a> = (<b>struct</b> <a href='../D/8741.html' title='Multiple defined in 3 places.'>ofp_action_output</a> *)&amp;<a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>[0];
<a name='L975'> 975     <a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../D/3289.html' title='Multiple defined in 3 places.'>OFPAT_OUTPUT</a>);
<a name='L976'> 976     <a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>-&gt;<a href='../Y/4119.html' title='Multiple used in 983 places.'>len</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<b>sizeof</b> *<a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>);
<a name='L977'> 977     <a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>-&gt;<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/5548.html' title='Multiple used in 164 places.'>out_port</a>);
<a name='L978'> 978 
<a name='L979'> 979     <a href='../Y/5489.html' title='Multiple used in 55 places.'>opo</a>-&gt;<a href='../Y/1295.html' title='Multiple used in 192 places.'>actions_len</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<b>sizeof</b> *<a href='../Y/5035.html' title='Multiple used in 36 places.'>oao</a>);
<a name='L980'> 980     <b>return</b> <a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>;
<a name='L981'> 981 <font color='red'>}</font>
<a name='L982'> 982 
<a name='L983'> 983 <i><font color='green'>/* Creates and returns an OFPT_ECHO_REQUEST message with an empty payload. */</font></i>
<a name='L984'> 984 <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *
<a name='L985'> 985 <a href='../R/3474.html' title='Multiple refered from 2 places.'>make_echo_request</a>(<b>void</b>)
<a name='L986'> 986 <font color='red'>{</font>
<a name='L987'> 987     <b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a> *<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>;
<a name='L988'> 988     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a> = <a href='../S/887.html#L87' title='Defined at 87 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_new</a>(<b>sizeof</b> *<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>);
<a name='L989'> 989     <a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a> = <a href='../S/887.html#L175' title='Defined at 175 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_uninit</a>(<a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>, <b>sizeof</b> *<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>);
<a name='L990'> 990     <a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a> = <a href='../Y/621.html' title='Multiple used in 78 places.'>OFP_VERSION</a>;
<a name='L991'> 991     <a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../D/3660.html' title='Multiple defined in 3 places.'>OFPT_ECHO_REQUEST</a>;
<a name='L992'> 992     <a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<b>sizeof</b> *<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>);
<a name='L993'> 993     <a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/7997.html' title='Multiple used in 182 places.'>xid</a> = <a href='../S/881.html#L771' title='Defined at 771 in cbench/openflow/lib/vconn.c.'>alloc_xid</a>();
<a name='L994'> 994     <b>return</b> <a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>;
<a name='L995'> 995 <font color='red'>}</font>
<a name='L996'> 996 
<a name='L997'> 997 <i><font color='green'>/* Creates and returns an OFPT_ECHO_REPLY message matching the</font></i>
<a name='L998'> 998 <i><font color='green'> * OFPT_ECHO_REQUEST message in 'rq'. */</font></i>
<a name='L999'> 999 <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *
<a name='L1000'>1000 <a href='../R/3473.html' title='Multiple refered from 3 places.'>make_echo_reply</a>(<b>const</b> <b>struct</b> <a href='../Y/5176.html' title='Multiple used in 54 places.'>ofp_header</a> *<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>)
<a name='L1001'>1001 <font color='red'>{</font>
<a name='L1002'>1002     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>);
<a name='L1003'>1003     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a> = <a href='../S/887.html#L87' title='Defined at 87 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_new</a>(<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L1004'>1004     <b>struct</b> <a href='../D/8801.html' title='Multiple defined in 3 places.'>ofp_header</a> *<a href='../Y/6383.html' title='Multiple used in 144 places.'>reply</a> = <a href='../S/887.html#L199' title='Defined at 199 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put</a>(<a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>, <a href='../Y/6474.html' title='Multiple used in 76 places.'>rq</a>, <a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L1005'>1005     <a href='../Y/6383.html' title='Multiple used in 144 places.'>reply</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../D/3658.html' title='Multiple defined in 3 places.'>OFPT_ECHO_REPLY</a>;
<a name='L1006'>1006     <b>return</b> <a href='../Y/5531.html' title='Multiple used in 554 places.'>out</a>;
<a name='L1007'>1007 <font color='red'>}</font>
<a name='L1008'>1008 
<a name='L1009'>1009 <b>static</b> <b>int</b>
<a name='L1010'>1010 <a href='../R/2345.html' title='Multiple refered from 2 places.'>check_message_type</a>(<a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/3450.html' title='Multiple used in 3 places.'>got_type</a>, <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/7847.html' title='Multiple used in 3 places.'>want_type</a>) 
<a name='L1011'>1011 <font color='red'>{</font>
<a name='L1012'>1012     <b>if</b> (<a href='../Y/3450.html' title='Multiple used in 3 places.'>got_type</a> != <a href='../Y/7847.html' title='Multiple used in 3 places.'>want_type</a>) <font color='red'>{</font>
<a name='L1013'>1013         <b>char</b> *<a href='../Y/7848.html' title='Multiple used in 3 places.'>want_type_name</a> = <a href='../S/825.html#L1594' title='Defined at 1594 in cbench/openflow/lib/ofp-print.c.'>ofp_message_type_to_string</a>(<a href='../Y/7847.html' title='Multiple used in 3 places.'>want_type</a>);
<a name='L1014'>1014         <b>char</b> *<a href='../Y/3451.html' title='Multiple used in 3 places.'>got_type_name</a> = <a href='../S/825.html#L1594' title='Defined at 1594 in cbench/openflow/lib/ofp-print.c.'>ofp_message_type_to_string</a>(<a href='../Y/3450.html' title='Multiple used in 3 places.'>got_type</a>);
<a name='L1015'>1015         <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("received bad message type %s (expected %s)",
<a name='L1016'>1016                   <a href='../Y/3451.html' title='Multiple used in 3 places.'>got_type_name</a>, <a href='../Y/7848.html' title='Multiple used in 3 places.'>want_type_name</a>);
<a name='L1017'>1017         <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/7848.html' title='Multiple used in 3 places.'>want_type_name</a>);
<a name='L1018'>1018         <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/3451.html' title='Multiple used in 3 places.'>got_type_name</a>);
<a name='L1019'>1019         <b>return</b> <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L1020'>1020     <font color='red'>}</font>
<a name='L1021'>1021     <b>return</b> <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>;
<a name='L1022'>1022 <font color='red'>}</font>
<a name='L1023'>1023 
<a name='L1024'>1024 <i><font color='green'>/* Checks that 'msg' has type 'type' and that it is exactly 'size' bytes long.</font></i>
<a name='L1025'>1025 <i><font color='green'> * Returns 0 if the checks pass, otherwise EINVAL. */</font></i>
<a name='L1026'>1026 <b>int</b>
<a name='L1027'>1027 <a href='../S/906.html#L104' title='Refered from 104 in cbench/openflow/lib/vconn.h.'>check_ofp_message</a>(<b>const</b> <b>struct</b> <a href='../Y/5176.html' title='Multiple used in 54 places.'>ofp_header</a> *<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>, <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>)
<a name='L1028'>1028 <font color='red'>{</font>
<a name='L1029'>1029     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/3449.html' title='Multiple used in 12 places.'>got_size</a>;
<a name='L1030'>1030 
<a name='L1031'>1031     <b>if</b> (!<a href='../S/881.html#L1010' title='Defined at 1010 in cbench/openflow/lib/vconn.c.'>check_message_type</a>(<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>)) <font color='red'>{</font>
<a name='L1032'>1032         <b>return</b> <a href='../Y/267.html' title='Multiple used in 50 places.'>EINVAL</a>;
<a name='L1033'>1033     <font color='red'>}</font>
<a name='L1034'>1034 
<a name='L1035'>1035     <a href='../Y/3449.html' title='Multiple used in 12 places.'>got_size</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>);
<a name='L1036'>1036     <b>if</b> (<a href='../Y/3449.html' title='Multiple used in 12 places.'>got_size</a> != <a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>) <font color='red'>{</font>
<a name='L1037'>1037         <b>char</b> *<a href='../Y/7557.html' title='Multiple used in 9 places.'>type_name</a> = <a href='../S/825.html#L1594' title='Defined at 1594 in cbench/openflow/lib/ofp-print.c.'>ofp_message_type_to_string</a>(<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>);
<a name='L1038'>1038         <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("received %s message of length %"<a href='../Y/697.html' title='Multiple used in 38 places.'>PRIu16</a>" (expected %zu)",
<a name='L1039'>1039                   <a href='../Y/7557.html' title='Multiple used in 9 places.'>type_name</a>, <a href='../Y/3449.html' title='Multiple used in 12 places.'>got_size</a>, <a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a>);
<a name='L1040'>1040         <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/7557.html' title='Multiple used in 9 places.'>type_name</a>);
<a name='L1041'>1041         <b>return</b> <a href='../Y/267.html' title='Multiple used in 50 places.'>EINVAL</a>;
<a name='L1042'>1042     <font color='red'>}</font>
<a name='L1043'>1043 
<a name='L1044'>1044     <b>return</b> 0;
<a name='L1045'>1045 <font color='red'>}</font>
<a name='L1046'>1046 
<a name='L1047'>1047 <i><font color='green'>/* Checks that 'msg' has type 'type' and that 'msg' is 'size' plus a</font></i>
<a name='L1048'>1048 <i><font color='green'> * nonnegative integer multiple of 'array_elt_size' bytes long.  Returns 0 if</font></i>
<a name='L1049'>1049 <i><font color='green'> * the checks pass, otherwise EINVAL.</font></i>
<a name='L1050'>1050 <i><font color='green'> *</font></i>
<a name='L1051'>1051 <i><font color='green'> * If 'n_array_elts' is nonnull, then '*n_array_elts' is set to the number of</font></i>
<a name='L1052'>1052 <i><font color='green'> * 'array_elt_size' blocks in 'msg' past the first 'min_size' bytes, when</font></i>
<a name='L1053'>1053 <i><font color='green'> * successful. */</font></i>
<a name='L1054'>1054 <b>int</b>
<a name='L1055'>1055 <a href='../S/906.html#L105' title='Refered from 105 in cbench/openflow/lib/vconn.h.'>check_ofp_message_array</a>(<b>const</b> <b>struct</b> <a href='../Y/5176.html' title='Multiple used in 54 places.'>ofp_header</a> *<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>, <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>,
<a name='L1056'>1056                         <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a>, <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/1491.html' title='Multiple used in 6 places.'>array_elt_size</a>,
<a name='L1057'>1057                         <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> *<a href='../Y/4567.html' title='Multiple used in 4 places.'>n_array_elts</a>)
<a name='L1058'>1058 <font color='red'>{</font>
<a name='L1059'>1059     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/3449.html' title='Multiple used in 12 places.'>got_size</a>;
<a name='L1060'>1060 
<a name='L1061'>1061     <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/1491.html' title='Multiple used in 6 places.'>array_elt_size</a>);
<a name='L1062'>1062 
<a name='L1063'>1063     <b>if</b> (!<a href='../S/881.html#L1010' title='Defined at 1010 in cbench/openflow/lib/vconn.c.'>check_message_type</a>(<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>-&gt;<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>)) <font color='red'>{</font>
<a name='L1064'>1064         <b>return</b> <a href='../Y/267.html' title='Multiple used in 50 places.'>EINVAL</a>;
<a name='L1065'>1065     <font color='red'>}</font>
<a name='L1066'>1066 
<a name='L1067'>1067     <a href='../Y/3449.html' title='Multiple used in 12 places.'>got_size</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/4517.html' title='Multiple used in 949 places.'>msg</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>);
<a name='L1068'>1068     <b>if</b> (<a href='../Y/3449.html' title='Multiple used in 12 places.'>got_size</a> &lt; <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a>) <font color='red'>{</font>
<a name='L1069'>1069         <b>char</b> *<a href='../Y/7557.html' title='Multiple used in 9 places.'>type_name</a> = <a href='../S/825.html#L1594' title='Defined at 1594 in cbench/openflow/lib/ofp-print.c.'>ofp_message_type_to_string</a>(<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>);
<a name='L1070'>1070         <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("received %s message of length %"<a href='../Y/697.html' title='Multiple used in 38 places.'>PRIu16</a>" "
<a name='L1071'>1071                   "(expected at least %zu)",
<a name='L1072'>1072                   <a href='../Y/7557.html' title='Multiple used in 9 places.'>type_name</a>, <a href='../Y/3449.html' title='Multiple used in 12 places.'>got_size</a>, <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a>);
<a name='L1073'>1073         <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/7557.html' title='Multiple used in 9 places.'>type_name</a>);
<a name='L1074'>1074         <b>return</b> <a href='../Y/267.html' title='Multiple used in 50 places.'>EINVAL</a>;
<a name='L1075'>1075     <font color='red'>}</font>
<a name='L1076'>1076     <b>if</b> ((<a href='../Y/3449.html' title='Multiple used in 12 places.'>got_size</a> - <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a>) % <a href='../Y/1491.html' title='Multiple used in 6 places.'>array_elt_size</a>) <font color='red'>{</font>
<a name='L1077'>1077         <b>char</b> *<a href='../Y/7557.html' title='Multiple used in 9 places.'>type_name</a> = <a href='../S/825.html#L1594' title='Defined at 1594 in cbench/openflow/lib/ofp-print.c.'>ofp_message_type_to_string</a>(<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>);
<a name='L1078'>1078         <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("received %s message of bad length %"<a href='../Y/697.html' title='Multiple used in 38 places.'>PRIu16</a>": the "
<a name='L1079'>1079                   "excess over %zu (%zu) is not evenly divisible by %zu "
<a name='L1080'>1080                   "(remainder is %zu)",
<a name='L1081'>1081                   <a href='../Y/7557.html' title='Multiple used in 9 places.'>type_name</a>, <a href='../Y/3449.html' title='Multiple used in 12 places.'>got_size</a>, <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a>, <a href='../Y/3449.html' title='Multiple used in 12 places.'>got_size</a> - <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a>,
<a name='L1082'>1082                   <a href='../Y/1491.html' title='Multiple used in 6 places.'>array_elt_size</a>, (<a href='../Y/3449.html' title='Multiple used in 12 places.'>got_size</a> - <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a>) % <a href='../Y/1491.html' title='Multiple used in 6 places.'>array_elt_size</a>);
<a name='L1083'>1083         <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../Y/7557.html' title='Multiple used in 9 places.'>type_name</a>);
<a name='L1084'>1084         <b>return</b> <a href='../Y/267.html' title='Multiple used in 50 places.'>EINVAL</a>;
<a name='L1085'>1085     <font color='red'>}</font>
<a name='L1086'>1086     <b>if</b> (<a href='../Y/4567.html' title='Multiple used in 4 places.'>n_array_elts</a>) <font color='red'>{</font>
<a name='L1087'>1087         *<a href='../Y/4567.html' title='Multiple used in 4 places.'>n_array_elts</a> = (<a href='../Y/3449.html' title='Multiple used in 12 places.'>got_size</a> - <a href='../Y/4464.html' title='Multiple used in 36 places.'>min_size</a>) / <a href='../Y/1491.html' title='Multiple used in 6 places.'>array_elt_size</a>;
<a name='L1088'>1088     <font color='red'>}</font>
<a name='L1089'>1089     <b>return</b> 0;
<a name='L1090'>1090 <font color='red'>}</font>
<a name='L1091'>1091 
<a name='L1092'>1092 <b>const</b> <b>struct</b> <a href='../D/8785.html' title='Multiple defined in 3 places.'>ofp_flow_stats</a> *
<a name='L1093'>1093 <a href='../R/3083.html' title='Multiple refered from 2 places.'>flow_stats_first</a>(<b>struct</b> <a href='../Y/3166.html' title='Multiple used in 4 places.'>flow_stats_iterator</a> *<a href='../Y/3957.html' title='Multiple used in 11 places.'>iter</a>,
<a name='L1094'>1094                  <b>const</b> <b>struct</b> <a href='../Y/5324.html' title='Multiple used in 4 places.'>ofp_stats_reply</a> *<a href='../Y/5524.html' title='Multiple used in 32 places.'>osr</a>)
<a name='L1095'>1095 <font color='red'>{</font>
<a name='L1096'>1096     <a href='../Y/3957.html' title='Multiple used in 11 places.'>iter</a>-&gt;<a href='../Y/5842.html' title='Multiple used in 174 places.'>pos</a> = <a href='../Y/5524.html' title='Multiple used in 32 places.'>osr</a>-&gt;<a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>;
<a name='L1097'>1097     <a href='../Y/3957.html' title='Multiple used in 11 places.'>iter</a>-&gt;<a href='../Y/2677.html' title='Multiple used in 62 places.'>end</a> = <a href='../Y/5524.html' title='Multiple used in 32 places.'>osr</a>-&gt;<a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a> + (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/5524.html' title='Multiple used in 32 places.'>osr</a>-&gt;<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>)
<a name='L1098'>1098                              - <a href='../Y/5075.html' title='Multiple used in 34 places.'>offsetof</a>(<b>struct</b> <a href='../D/8896.html' title='Multiple defined in 3 places.'>ofp_stats_reply</a>, <a href='../Y/1642.html' title='Multiple used in 85 places.'>body</a>));
<a name='L1099'>1099     <b>return</b> <a href='../S/881.html#L1103' title='Defined at 1103 in cbench/openflow/lib/vconn.c.'>flow_stats_next</a>(<a href='../Y/3957.html' title='Multiple used in 11 places.'>iter</a>);
<a name='L1100'>1100 <font color='red'>}</font>
<a name='L1101'>1101 
<a name='L1102'>1102 <b>const</b> <b>struct</b> <a href='../D/8785.html' title='Multiple defined in 3 places.'>ofp_flow_stats</a> *
<a name='L1103'>1103 <a href='../R/3086.html' title='Multiple refered from 3 places.'>flow_stats_next</a>(<b>struct</b> <a href='../Y/3166.html' title='Multiple used in 4 places.'>flow_stats_iterator</a> *<a href='../Y/3957.html' title='Multiple used in 11 places.'>iter</a>)
<a name='L1104'>1104 <font color='red'>{</font>
<a name='L1105'>1105     <b>static</b> <b>struct</b> <a href='../D/10099.html' title='Multiple defined in 2 places.'>vlog_rate_limit</a> <a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a> = <a href='../S/859.html#L107' title='Defined at 107 in cbench/openflow/lib/vlog.h.'>VLOG_RATE_LIMIT_INIT</a>(1, 5);
<a name='L1106'>1106     <a href='../Y/6158.html' title='Multiple used in 2 places.'>ptrdiff_t</a> <a href='../Y/1740.html' title='Multiple used in 12 places.'>bytes_left</a> = <a href='../Y/3957.html' title='Multiple used in 11 places.'>iter</a>-&gt;<a href='../Y/2677.html' title='Multiple used in 62 places.'>end</a> - <a href='../Y/3957.html' title='Multiple used in 11 places.'>iter</a>-&gt;<a href='../Y/5842.html' title='Multiple used in 174 places.'>pos</a>;
<a name='L1107'>1107     <b>const</b> <b>struct</b> <a href='../D/8785.html' title='Multiple defined in 3 places.'>ofp_flow_stats</a> *<a href='../Y/3256.html' title='Multiple used in 160 places.'>fs</a>;
<a name='L1108'>1108     <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>;
<a name='L1109'>1109 
<a name='L1110'>1110     <b>if</b> (<a href='../Y/1740.html' title='Multiple used in 12 places.'>bytes_left</a> &lt; <b>sizeof</b> *<a href='../Y/3256.html' title='Multiple used in 160 places.'>fs</a>) <font color='red'>{</font>
<a name='L1111'>1111         <b>if</b> (<a href='../Y/1740.html' title='Multiple used in 12 places.'>bytes_left</a> != 0) <font color='red'>{</font>
<a name='L1112'>1112             <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "%td leftover bytes in flow stats reply",
<a name='L1113'>1113                          <a href='../Y/1740.html' title='Multiple used in 12 places.'>bytes_left</a>);
<a name='L1114'>1114         <font color='red'>}</font>
<a name='L1115'>1115         <b>return</b> <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L1116'>1116     <font color='red'>}</font>
<a name='L1117'>1117 
<a name='L1118'>1118     <a href='../Y/3256.html' title='Multiple used in 160 places.'>fs</a> = (<b>const</b> <b>void</b> *) <a href='../Y/3957.html' title='Multiple used in 11 places.'>iter</a>-&gt;<a href='../Y/5842.html' title='Multiple used in 174 places.'>pos</a>;
<a name='L1119'>1119     <a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/3256.html' title='Multiple used in 160 places.'>fs</a>-&gt;<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>);
<a name='L1120'>1120     <b>if</b> (<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a> &lt; <b>sizeof</b> *<a href='../Y/3256.html' title='Multiple used in 160 places.'>fs</a>) <font color='red'>{</font>
<a name='L1121'>1121         <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "flow stats length %zu is shorter than min %zu",
<a name='L1122'>1122         <a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>, <b>sizeof</b> *<a href='../Y/3256.html' title='Multiple used in 160 places.'>fs</a>);
<a name='L1123'>1123         <b>return</b> <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L1124'>1124     <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a> &gt; <a href='../Y/1740.html' title='Multiple used in 12 places.'>bytes_left</a>) <font color='red'>{</font>
<a name='L1125'>1125         <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "flow stats length %zu but only %td bytes left",
<a name='L1126'>1126                      <a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>, <a href='../Y/1740.html' title='Multiple used in 12 places.'>bytes_left</a>);
<a name='L1127'>1127         <b>return</b> <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L1128'>1128     <font color='red'>}</font> <b>else</b> <b>if</b> ((<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a> - <b>sizeof</b> *<a href='../Y/3256.html' title='Multiple used in 160 places.'>fs</a>) % <b>sizeof</b> <a href='../Y/3256.html' title='Multiple used in 160 places.'>fs</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>[0]) <font color='red'>{</font>
<a name='L1129'>1129         <a href='../S/859.html#L171' title='Defined at 171 in cbench/openflow/lib/vlog.h.'>VLOG_WARN_RL</a>(&amp;<a href='../Y/6448.html' title='Multiple used in 214 places.'>rl</a>, "flow stats length %zu has %zu bytes "
<a name='L1130'>1130                      "left over in final action", <a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>,
<a name='L1131'>1131                      (<a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a> - <b>sizeof</b> *<a href='../Y/3256.html' title='Multiple used in 160 places.'>fs</a>) % <b>sizeof</b> <a href='../Y/3256.html' title='Multiple used in 160 places.'>fs</a>-&gt;<a href='../Y/1294.html' title='Multiple used in 157 places.'>actions</a>[0]);
<a name='L1132'>1132         <b>return</b> <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L1133'>1133     <font color='red'>}</font>
<a name='L1134'>1134     <a href='../Y/3957.html' title='Multiple used in 11 places.'>iter</a>-&gt;<a href='../Y/5842.html' title='Multiple used in 174 places.'>pos</a> += <a href='../Y/4125.html' title='Multiple used in 540 places.'>length</a>;
<a name='L1135'>1135     <b>return</b> <a href='../Y/3256.html' title='Multiple used in 160 places.'>fs</a>;
<a name='L1136'>1136 <font color='red'>}</font>
<a name='L1137'>1137 
<a name='L1138'>1138 <b>void</b>
<a name='L1139'>1139 <a href='../R/4904.html' title='Multiple refered from 4 places.'>vconn_init</a>(<b>struct</b> <a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a> *<a href='../Y/7745.html' title='Multiple used in 95 places.'>vconn</a>, <b>struct</b> <a href='../Y/7747.html' title='Multiple used in 3 places.'>vconn_class</a> *<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>, <b>int</b> <a href='../Y/2098.html' title='Multiple used in 10 places.'>connect_status</a>,
<a name='L1140'>1140            <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/3874.html' title='Multiple used in 230 places.'>ip</a>, <b>const</b> <b>char</b> *<a href='../Y/4631.html' title='Multiple used in 221 places.'>name</a>, <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/6305.html' title='Multiple used in 8 places.'>reconnectable</a>)
<a name='L1141'>1141 <font color='red'>{</font>
<a name='L1142'>1142     <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a> = <a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>;
<a name='L1143'>1143     <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = (<a href='../Y/2098.html' title='Multiple used in 10 places.'>connect_status</a> == <a href='../Y/259.html' title='Multiple used in 75 places.'>EAGAIN</a> ? <a href='../S/881.html#L58' title='Defined at 58 in cbench/openflow/lib/vconn.c.'>VCS_CONNECTING</a>
<a name='L1144'>1144                     : !<a href='../Y/2098.html' title='Multiple used in 10 places.'>connect_status</a> ? <a href='../S/881.html#L59' title='Defined at 59 in cbench/openflow/lib/vconn.c.'>VCS_SEND_HELLO</a>
<a name='L1145'>1145                     : <a href='../S/881.html#L65' title='Defined at 65 in cbench/openflow/lib/vconn.c.'>VCS_DISCONNECTED</a>);
<a name='L1146'>1146     <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a> = <a href='../Y/2098.html' title='Multiple used in 10 places.'>connect_status</a>;
<a name='L1147'>1147     <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/7770.html' title='Multiple used in 173 places.'>version</a> = -1;
<a name='L1148'>1148     <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/4470.html' title='Multiple used in 16 places.'>min_version</a> = -1;
<a name='L1149'>1149     <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/3874.html' title='Multiple used in 230 places.'>ip</a> = <a href='../Y/3874.html' title='Multiple used in 230 places.'>ip</a>;
<a name='L1150'>1150     <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a> = <a href='../S/878.html#L98' title='Defined at 98 in cbench/openflow/lib/util.c.'>xstrdup</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>);
<a name='L1151'>1151     <a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/6305.html' title='Multiple used in 8 places.'>reconnectable</a> = <a href='../Y/6305.html' title='Multiple used in 8 places.'>reconnectable</a>;
<a name='L1152'>1152     <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(&amp;<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/5400.html' title='Multiple used in 22 places.'>ofps_rcvd</a>, 0, <b>sizeof</b>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/5400.html' title='Multiple used in 22 places.'>ofps_rcvd</a>));
<a name='L1153'>1153     <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(&amp;<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/5401.html' title='Multiple used in 34 places.'>ofps_sent</a>, 0, <b>sizeof</b>(<a href='../S/895.html#L50' title='Defined at 50 in cbench/openflow/lib/vconn-provider.h.'>vconn</a>-&gt;<a href='../Y/5401.html' title='Multiple used in 34 places.'>ofps_sent</a>));
<a name='L1154'>1154 <font color='red'>}</font>
<a name='L1155'>1155 
<a name='L1156'>1156 <b>void</b>
<a name='L1157'>1157 <a href='../R/4225.html' title='Multiple refered from 3 places.'>pvconn_init</a>(<b>struct</b> <a href='../Y/6174.html' title='Multiple used in 31 places.'>pvconn</a> *<a href='../Y/6174.html' title='Multiple used in 31 places.'>pvconn</a>, <b>struct</b> <a href='../Y/6175.html' title='Multiple used in 3 places.'>pvconn_class</a> *<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>,
<a name='L1158'>1158             <b>const</b> <b>char</b> *<a href='../Y/4631.html' title='Multiple used in 221 places.'>name</a>)
<a name='L1159'>1159 <font color='red'>{</font>
<a name='L1160'>1160     <a href='../S/895.html#L134' title='Defined at 134 in cbench/openflow/lib/vconn-provider.h.'>pvconn</a>-&gt;<a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a> = <a href='../Y/1887.html' title='Multiple used in 77 places.'>class</a>;
<a name='L1161'>1161     <a href='../S/895.html#L134' title='Defined at 134 in cbench/openflow/lib/vconn-provider.h.'>pvconn</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a> = <a href='../S/878.html#L98' title='Defined at 98 in cbench/openflow/lib/util.c.'>xstrdup</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>);
<a name='L1162'>1162 <font color='red'>}</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L97'>[^]</a><a href='#L1157'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
