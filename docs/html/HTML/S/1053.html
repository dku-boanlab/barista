<html>
<head>
<title>ext_applications/l2_shortest/shim/shim.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.7.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/1159.html'>ext_applications</a>/<a href='../files/1165.html'>l2_shortest</a>/<a href='../files/1166.html'>shim</a>/shim.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L27'>[^]</a><a href='#L200'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L27' title='Defined at 27.'>init_app</a>
<li><a href='#L112' title='Defined at 112.'>app_thread_main</a>
<li><a href='#L126' title='Defined at 126.'>activate_app</a>
<li><a href='#L149' title='Defined at 149.'>deactivate_app</a>
<li><a href='#L164' title='Defined at 164.'>sigint_handler</a>
<li><a href='#L175' title='Defined at 175.'>sigkill_handler</a>
<li><a href='#L186' title='Defined at 186.'>sigterm_handler</a>
<li><a href='#L200' title='Defined at 200.'>main</a>
</ol>
<hr>
<pre>
<a name='L1'>   1 <i><font color='green'>/*</font></i>
<a name='L2'>   2 <i><font color='green'> * Copyright 2015-2018 NSSLab, KAIST</font></i>
<a name='L3'>   3 <i><font color='green'> */</font></i>
<a name='L4'>   4 
<a name='L5'>   5 <i><font color='green'>/**</font></i>
<a name='L6'>   6 <i><font color='green'> * \defgroup app_shim</font></i>
<a name='L7'>   7 <i><font color='green'> * @{</font></i>
<a name='L8'>   8 <i><font color='green'> * \defgroup app_load External Application Loader</font></i>
<a name='L9'>   9 <i><font color='green'> * \brief Functions to execute an external application</font></i>
<a name='L10'>  10 <i><font color='green'> * @{</font></i>
<a name='L11'>  11 <i><font color='green'> */</font></i>
<a name='L12'>  12 
<a name='L13'>  13 <i><font color='green'>/**</font></i>
<a name='L14'>  14 <i><font color='green'> * \file</font></i>
<a name='L15'>  15 <i><font color='green'> * \author Jaehyun Nam &lt;namjh@kaist.ac.kr&gt;</font></i>
<a name='L16'>  16 <i><font color='green'> */</font></i>
<a name='L17'>  17 
<a name='L18'>  18 <font color='darkred'>#include</font> "<a href='../I/652.html'>shim.h</a>"
<a name='L19'>  19 
<a name='L20'>  20 <i><font color='green'>/** \brief The configuration of an application */</font></i>
<a name='L21'>  21 <a href='../D/6871.html' title='Multiple defined in 6 places.'>app_t</a> <a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>;
<a name='L22'>  22 
<a name='L23'>  23 <i><font color='green'>/**</font></i>
<a name='L24'>  24 <i><font color='green'> * \brief Function to initialize an application</font></i>
<a name='L25'>  25 <i><font color='green'> * \return None</font></i>
<a name='L26'>  26 <i><font color='green'> */</font></i>
<a name='L27'>  27 <b>static</b> <b>int</b> <a href='../R/3288.html' title='Multiple refered from 3 places.'>init_app</a>(<b>void</b>)
<a name='L28'>  28 <font color='red'>{</font>
<a name='L29'>  29     <a href='../Y/3989.html' title='Multiple used in 80 places.'>json_t</a> *<a href='../Y/3979.html' title='Multiple used in 70 places.'>json</a>;
<a name='L30'>  30     <a href='../Y/3983.html' title='Multiple used in 8 places.'>json_error_t</a> <a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>;
<a name='L31'>  31 
<a name='L32'>  32     <b>char</b> <a href='../Y/1402.html' title='Multiple used in 32 places.'>app_conf_file</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L33'>  33     <a href='../Y/6924.html' title='Multiple used in 107 places.'>sprintf</a>(<a href='../Y/1402.html' title='Multiple used in 32 places.'>app_conf_file</a>, "%s/%s/%s.conf", <a href='../D/1177.html' title='Multiple defined in 6 places.'>DEFAULT_EXT_APP_PATH</a>, <a href='../D/5543.html' title='Multiple defined in 2 places.'>TARGET_APP</a>, <a href='../D/5543.html' title='Multiple defined in 2 places.'>TARGET_APP</a>);
<a name='L34'>  34 
<a name='L35'>  35     <a href='../D/4936.html' title='Multiple defined in 12 places.'>PRINTF</a>("External application configuration file: %s\n", <a href='../Y/1402.html' title='Multiple used in 32 places.'>app_conf_file</a>);
<a name='L36'>  36 
<a name='L37'>  37     <b>if</b> (<a href='../Y/1272.html' title='Multiple used in 15 places.'>access</a>(<a href='../Y/1402.html' title='Multiple used in 32 places.'>app_conf_file</a>, <a href='../Y/343.html' title='Multiple used in 15 places.'>F_OK</a>)) <font color='red'>{</font>
<a name='L38'>  38         <a href='../D/4936.html' title='Multiple defined in 12 places.'>PRINTF</a>("No file whose name is '%s'\n", <a href='../Y/1402.html' title='Multiple used in 32 places.'>app_conf_file</a>);
<a name='L39'>  39         <b>return</b> -1;
<a name='L40'>  40     <font color='red'>}</font>
<a name='L41'>  41 
<a name='L42'>  42     <b>char</b> *<a href='../Y/6247.html' title='Multiple used in 70 places.'>raw</a> = <a href='../S/946.html#L100' title='Defined at 100 in util/str.c.'>str_read</a>(<a href='../Y/1402.html' title='Multiple used in 32 places.'>app_conf_file</a>);
<a name='L43'>  43     <b>char</b> *<a href='../Y/2050.html' title='Multiple used in 34 places.'>conf</a> = <a href='../S/946.html#L130' title='Defined at 130 in util/str.c.'>str_preproc</a>(<a href='../Y/6247.html' title='Multiple used in 70 places.'>raw</a>);
<a name='L44'>  44 
<a name='L45'>  45     <a href='../Y/3979.html' title='Multiple used in 70 places.'>json</a> = <a href='../Y/3986.html' title='Multiple used in 10 places.'>json_loads</a>(<a href='../Y/2050.html' title='Multiple used in 34 places.'>conf</a>, 0, &amp;<a href='../Y/2762.html' title='Multiple used in 572 places.'>error</a>);
<a name='L46'>  46     <b>if</b> (!<a href='../Y/3979.html' title='Multiple used in 70 places.'>json</a>) <font color='red'>{</font>
<a name='L47'>  47         <a href='../D/4593.html' title='Multiple defined in 6 places.'>PERROR</a>("json_loads");
<a name='L48'>  48         <b>return</b> -1;
<a name='L49'>  49     <font color='red'>}</font>
<a name='L50'>  50 
<a name='L51'>  51     <b>if</b> (!<a href='../Y/3984.html' title='Multiple used in 19 places.'>json_is_array</a>(<a href='../Y/3979.html' title='Multiple used in 70 places.'>json</a>)) <font color='red'>{</font>
<a name='L52'>  52         <a href='../D/4593.html' title='Multiple defined in 6 places.'>PERROR</a>("json_is_array");
<a name='L53'>  53         <a href='../Y/3982.html' title='Multiple used in 16 places.'>json_decref</a>(<a href='../Y/3979.html' title='Multiple used in 70 places.'>json</a>);
<a name='L54'>  54     <font color='red'>}</font>
<a name='L55'>  55 
<a name='L56'>  56     <a href='../Y/3989.html' title='Multiple used in 80 places.'>json_t</a> *<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a> = <a href='../Y/3980.html' title='Multiple used in 28 places.'>json_array_get</a>(<a href='../Y/3979.html' title='Multiple used in 70 places.'>json</a>, 0);
<a name='L57'>  57 
<a name='L58'>  58     <b>char</b> <a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L59'>  59     <a href='../Y/3989.html' title='Multiple used in 80 places.'>json_t</a> *<a href='../Y/3971.html' title='Multiple used in 30 places.'>j_name</a> = <a href='../Y/3987.html' title='Multiple used in 44 places.'>json_object_get</a>(<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>, "name");
<a name='L60'>  60     <b>if</b> (<a href='../Y/3985.html' title='Multiple used in 35 places.'>json_is_string</a>(<a href='../Y/3971.html' title='Multiple used in 30 places.'>j_name</a>)) <font color='red'>{</font>
<a name='L61'>  61         <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/3988.html' title='Multiple used in 94 places.'>json_string_value</a>(<a href='../Y/3971.html' title='Multiple used in 30 places.'>j_name</a>));
<a name='L62'>  62     <font color='red'>}</font>
<a name='L63'>  63 
<a name='L64'>  64     <b>char</b> <a href='../Y/1469.html' title='Multiple used in 437 places.'>args</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L65'>  65     <a href='../Y/3989.html' title='Multiple used in 80 places.'>json_t</a> *<a href='../Y/3970.html' title='Multiple used in 18 places.'>j_args</a> = <a href='../Y/3987.html' title='Multiple used in 44 places.'>json_object_get</a>(<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>, "args");
<a name='L66'>  66     <b>if</b> (<a href='../Y/3985.html' title='Multiple used in 35 places.'>json_is_string</a>(<a href='../Y/3970.html' title='Multiple used in 18 places.'>j_args</a>)) <font color='red'>{</font>
<a name='L67'>  67         <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/1469.html' title='Multiple used in 437 places.'>args</a>, <a href='../Y/3988.html' title='Multiple used in 94 places.'>json_string_value</a>(<a href='../Y/3970.html' title='Multiple used in 18 places.'>j_args</a>));
<a name='L68'>  68     <font color='red'>}</font>
<a name='L69'>  69 
<a name='L70'>  70     <b>char</b> <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>[<a href='../D/6476.html' title='Multiple defined in 6 places.'>__CONF_WORD_LEN</a>] = <font color='red'>{</font>0<font color='red'>}</font>;
<a name='L71'>  71     <a href='../Y/3989.html' title='Multiple used in 80 places.'>json_t</a> *<a href='../Y/3976.html' title='Multiple used in 18 places.'>j_type</a> = <a href='../Y/3987.html' title='Multiple used in 44 places.'>json_object_get</a>(<a href='../Y/2247.html' title='Multiple used in 1185 places.'>data</a>, "type");
<a name='L72'>  72     <b>if</b> (<a href='../Y/3985.html' title='Multiple used in 35 places.'>json_is_string</a>(<a href='../Y/3976.html' title='Multiple used in 18 places.'>j_type</a>)) <font color='red'>{</font>
<a name='L73'>  73         <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <a href='../Y/3988.html' title='Multiple used in 94 places.'>json_string_value</a>(<a href='../Y/3976.html' title='Multiple used in 18 places.'>j_type</a>));
<a name='L74'>  74     <font color='red'>}</font>
<a name='L75'>  75 
<a name='L76'>  76     <i><font color='green'>// set the application name</font></i>
<a name='L77'>  77     <b>if</b> (<a href='../Y/7098.html' title='Multiple used in 203 places.'>strlen</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>) == 0) <font color='red'>{</font>
<a name='L78'>  78         <a href='../D/4936.html' title='Multiple defined in 12 places.'>PRINTF</a>("No application name\n");
<a name='L79'>  79         <b>return</b> -1;
<a name='L80'>  80     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L81'>  81         <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>);
<a name='L82'>  82     <font color='red'>}</font>
<a name='L83'>  83 
<a name='L84'>  84     <i><font color='green'>// set arguments</font></i>
<a name='L85'>  85     <a href='../Y/7083.html' title='Multiple used in 242 places.'>strcpy</a>(<a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1469.html' title='Multiple used in 437 places.'>args</a>, <a href='../Y/1469.html' title='Multiple used in 437 places.'>args</a>);
<a name='L86'>  86     <a href='../S/946.html#L41' title='Defined at 41 in util/str.c.'>str2args</a>(<a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1469.html' title='Multiple used in 437 places.'>args</a>, &amp;<a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1465.html' title='Multiple used in 309 places.'>argc</a>, &amp;<a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1474.html' title='Multiple used in 417 places.'>argv</a>[1], <a href='../D/6472.html' title='Multiple defined in 6 places.'>__CONF_ARGC</a>);
<a name='L87'>  87     <a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1465.html' title='Multiple used in 309 places.'>argc</a>++;
<a name='L88'>  88     <a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1474.html' title='Multiple used in 417 places.'>argv</a>[0] = <a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>;
<a name='L89'>  89 
<a name='L90'>  90     <i><font color='green'>// set functions</font></i>
<a name='L91'>  91     <a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../D/8313.html' title='Multiple defined in 17 places.'>main</a> = <a href='../Y/3291.html' title='Multiple used in 21 places.'>g_applications</a>[0].<a href='../D/8313.html' title='Multiple defined in 17 places.'>main</a>;
<a name='L92'>  92     <a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a> = <a href='../Y/3291.html' title='Multiple used in 21 places.'>g_applications</a>[0].<a href='../Y/3537.html' title='Multiple used in 150 places.'>handler</a>;
<a name='L93'>  93     <a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1895.html' title='Multiple used in 27 places.'>cleanup</a> = <a href='../Y/3291.html' title='Multiple used in 21 places.'>g_applications</a>[0].<a href='../Y/1895.html' title='Multiple used in 27 places.'>cleanup</a>;
<a name='L94'>  94     <a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1901.html' title='Multiple used in 1485 places.'>cli</a> = <a href='../Y/3291.html' title='Multiple used in 21 places.'>g_applications</a>[0].<a href='../Y/1901.html' title='Multiple used in 1485 places.'>cli</a>;
<a name='L95'>  95 
<a name='L96'>  96     <i><font color='green'>// set a type</font></i>
<a name='L97'>  97     <b>if</b> (<a href='../Y/7098.html' title='Multiple used in 203 places.'>strlen</a>(<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>) == 0) <font color='red'>{</font>
<a name='L98'>  98         <a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = <a href='../D/212.html' title='Multiple defined in 4 places.'>APP_GENERAL</a>;
<a name='L99'>  99     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L100'> 100         <a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> = (<a href='../Y/7082.html' title='Multiple used in 371 places.'>strcmp</a>(<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, "autonomous") == 0) ? <a href='../D/204.html' title='Multiple defined in 4 places.'>APP_AUTO</a> : <a href='../D/212.html' title='Multiple defined in 4 places.'>APP_GENERAL</a>;
<a name='L101'> 101     <font color='red'>}</font>
<a name='L102'> 102 
<a name='L103'> 103     <a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1297.html' title='Multiple used in 156 places.'>activated</a> = <a href='../D/1780.html' title='Multiple defined in 7 places.'>FALSE</a>;
<a name='L104'> 104 
<a name='L105'> 105     <b>return</b> 0;
<a name='L106'> 106 <font color='red'>}</font>
<a name='L107'> 107 
<a name='L108'> 108 <i><font color='green'>/**</font></i>
<a name='L109'> 109 <i><font color='green'> * \brief Function to execute the main function of an application</font></i>
<a name='L110'> 110 <i><font color='green'> * \param null NULL</font></i>
<a name='L111'> 111 <i><font color='green'> */</font></i>
<a name='L112'> 112 <b>static</b> <b>void</b> *<a href='../R/2196.html' title='Multiple refered from 12 places.'>app_thread_main</a>(<b>void</b> *<a href='../Y/4954.html' title='Multiple used in 18 places.'>null</a>)
<a name='L113'> 113 <font color='red'>{</font>
<a name='L114'> 114     <b>if</b> (<a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../D/8313.html' title='Multiple defined in 17 places.'>main</a>(&amp;<a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1297.html' title='Multiple used in 156 places.'>activated</a>, <a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1465.html' title='Multiple used in 309 places.'>argc</a>, <a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1474.html' title='Multiple used in 417 places.'>argv</a>) &lt; 0) <font color='red'>{</font>
<a name='L115'> 115         <a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1297.html' title='Multiple used in 156 places.'>activated</a> = <a href='../D/1780.html' title='Multiple defined in 7 places.'>FALSE</a>;
<a name='L116'> 116         <b>return</b> <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L117'> 117     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L118'> 118         <b>return</b> &amp;<a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>;
<a name='L119'> 119     <font color='red'>}</font>
<a name='L120'> 120 <font color='red'>}</font>
<a name='L121'> 121 
<a name='L122'> 122 <i><font color='green'>/**</font></i>
<a name='L123'> 123 <i><font color='green'> * \brief Function to activate an application</font></i>
<a name='L124'> 124 <i><font color='green'> * \return None</font></i>
<a name='L125'> 125 <i><font color='green'> */</font></i>
<a name='L126'> 126 <b>static</b> <b>int</b> <a href='../R/2150.html' title='Multiple refered from 3 places.'>activate_app</a>(<b>void</b>)
<a name='L127'> 127 <font color='red'>{</font>
<a name='L128'> 128     <i><font color='green'>// general type?</font></i>
<a name='L129'> 129     <b>if</b> (<a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a> == <a href='../D/212.html' title='Multiple defined in 4 places.'>APP_GENERAL</a>) <font color='red'>{</font>
<a name='L130'> 130         <b>if</b> (<a href='../D/6872.html' title='Multiple defined in 4 places.'>app_thread_main</a>(<a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L131'> 131             <b>return</b> -1;
<a name='L132'> 132         <font color='red'>}</font>
<a name='L133'> 133     <i><font color='green'>// autonomous type?</font></i>
<a name='L134'> 134     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L135'> 135         <a href='../Y/6150.html' title='Multiple used in 27 places.'>pthread_t</a> <a href='../Y/7357.html' title='Multiple used in 58 places.'>thread</a>;
<a name='L136'> 136         <b>if</b> (<a href='../Y/6132.html' title='Multiple used in 31 places.'>pthread_create</a>(&amp;<a href='../Y/7357.html' title='Multiple used in 58 places.'>thread</a>, <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>, &amp;<a href='../D/6872.html' title='Multiple defined in 4 places.'>app_thread_main</a>, <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>)) <font color='red'>{</font>
<a name='L137'> 137             <a href='../D/4593.html' title='Multiple defined in 6 places.'>PERROR</a>("pthread_create");
<a name='L138'> 138             <b>return</b> -1;
<a name='L139'> 139         <font color='red'>}</font>
<a name='L140'> 140     <font color='red'>}</font>
<a name='L141'> 141 
<a name='L142'> 142     <b>return</b> 0;
<a name='L143'> 143 <font color='red'>}</font>
<a name='L144'> 144 
<a name='L145'> 145 <i><font color='green'>/**</font></i>
<a name='L146'> 146 <i><font color='green'> * \brief Function to deactivate an application</font></i>
<a name='L147'> 147 <i><font color='green'> * \return None</font></i>
<a name='L148'> 148 <i><font color='green'> */</font></i>
<a name='L149'> 149 <b>static</b> <b>int</b> <a href='../R/2556.html' title='Multiple refered from 9 places.'>deactivate_app</a>(<b>void</b>)
<a name='L150'> 150 <font color='red'>{</font>
<a name='L151'> 151     <b>if</b> (<a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1895.html' title='Multiple used in 27 places.'>cleanup</a>(&amp;<a href='../Y/1398.html' title='Multiple used in 162 places.'>app</a>.<a href='../Y/1297.html' title='Multiple used in 156 places.'>activated</a>) &lt; 0) <font color='red'>{</font>
<a name='L152'> 152         <b>return</b> -1;
<a name='L153'> 153     <font color='red'>}</font>
<a name='L154'> 154 
<a name='L155'> 155     <b>return</b> 0;
<a name='L156'> 156 <font color='red'>}</font>
<a name='L157'> 157 
<a name='L158'> 158 <i><font color='green'>/////////////////////////////////////////////////////////////////////</font></i>
<a name='L159'> 159 
<a name='L160'> 160 <i><font color='green'>/** \brief The SIGINT handler definition */</font></i>
<a name='L161'> 161 <b>void</b> (*<a href='../Y/6766.html' title='Multiple used in 10 places.'>sigint_func</a>)(<b>int</b>);
<a name='L162'> 162 
<a name='L163'> 163 <i><font color='green'>/** \brief Function to handle the SIGINT signal */</font></i>
<a name='L164'> 164 <b>void</b> <a href='../R/4465.html' title='Multiple refered from 5 places.'>sigint_handler</a>(<b>int</b> <a href='../Y/6757.html' title='Multiple used in 15 places.'>sig</a>)
<a name='L165'> 165 <font color='red'>{</font>
<a name='L166'> 166     <a href='../D/7281.html' title='Multiple defined in 3 places.'>deactivate_app</a>();
<a name='L167'> 167     <a href='../D/7309.html' title='Multiple defined in 4 places.'>destroy_av_workers</a>(<a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L168'> 168     <a href='../Y/2943.html' title='Multiple used in 74 places.'>exit</a>(0);
<a name='L169'> 169 <font color='red'>}</font>
<a name='L170'> 170 
<a name='L171'> 171 <i><font color='green'>/** \brief The SIGKILL handler definition */</font></i>
<a name='L172'> 172 <b>void</b> (*<a href='../Y/6767.html' title='Multiple used in 10 places.'>sigkill_func</a>)(<b>int</b>);
<a name='L173'> 173 
<a name='L174'> 174 <i><font color='green'>/** \brief Function to handle the SIGKILL signal */</font></i>
<a name='L175'> 175 <b>void</b> <a href='../R/4466.html' title='Multiple refered from 5 places.'>sigkill_handler</a>(<b>int</b> <a href='../Y/6757.html' title='Multiple used in 15 places.'>sig</a>)
<a name='L176'> 176 <font color='red'>{</font>
<a name='L177'> 177     <a href='../D/7281.html' title='Multiple defined in 3 places.'>deactivate_app</a>();
<a name='L178'> 178     <a href='../D/7309.html' title='Multiple defined in 4 places.'>destroy_av_workers</a>(<a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L179'> 179     <a href='../Y/2943.html' title='Multiple used in 74 places.'>exit</a>(0);
<a name='L180'> 180 <font color='red'>}</font>
<a name='L181'> 181 
<a name='L182'> 182 <i><font color='green'>/** \brief The SIGTERM handler definition */</font></i>
<a name='L183'> 183 <b>void</b> (*<a href='../Y/6778.html' title='Multiple used in 10 places.'>sigterm_func</a>)(<b>int</b>);
<a name='L184'> 184 
<a name='L185'> 185  <i><font color='green'>/** \brief Function to handle the SIGTERM signal */</font></i>
<a name='L186'> 186 <b>void</b> <a href='../R/4474.html' title='Multiple refered from 5 places.'>sigterm_handler</a>(<b>int</b> <a href='../Y/6757.html' title='Multiple used in 15 places.'>sig</a>)
<a name='L187'> 187 <font color='red'>{</font>
<a name='L188'> 188     <a href='../D/7281.html' title='Multiple defined in 3 places.'>deactivate_app</a>();
<a name='L189'> 189     <a href='../D/7309.html' title='Multiple defined in 4 places.'>destroy_av_workers</a>(<a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>);
<a name='L190'> 190     <a href='../Y/2943.html' title='Multiple used in 74 places.'>exit</a>(0);
<a name='L191'> 191 <font color='red'>}</font>
<a name='L192'> 192 
<a name='L193'> 193 <i><font color='green'>/////////////////////////////////////////////////////////////////////</font></i>
<a name='L194'> 194 
<a name='L195'> 195 <i><font color='green'>/**</font></i>
<a name='L196'> 196 <i><font color='green'> * \brief Function to execute an external application</font></i>
<a name='L197'> 197 <i><font color='green'> * \param argc The number of arguments</font></i>
<a name='L198'> 198 <i><font color='green'> * \param argv Arguments</font></i>
<a name='L199'> 199 <i><font color='green'> */</font></i>
<a name='L200'> 200 <b>int</b> <a href='../R/3464.html' title='Multiple refered from 20 places.'>main</a>(<b>int</b> <a href='../Y/1465.html' title='Multiple used in 309 places.'>argc</a>, <b>char</b> *<a href='../Y/1474.html' title='Multiple used in 417 places.'>argv</a>[])
<a name='L201'> 201 <font color='red'>{</font>
<a name='L202'> 202     <i><font color='green'>// init app event handler</font></i>
<a name='L203'> 203     <b>if</b> (<a href='../D/6863.html' title='Multiple defined in 4 places.'>app_event_init</a>(<a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>)) <font color='red'>{</font>
<a name='L204'> 204         <a href='../D/4936.html' title='Multiple defined in 12 places.'>PRINTF</a>("Failed to initialize the external app event handler\n");
<a name='L205'> 205         <b>return</b> -1;
<a name='L206'> 206     <font color='red'>}</font>
<a name='L207'> 207 
<a name='L208'> 208     <i><font color='green'>// init app</font></i>
<a name='L209'> 209     <b>if</b> (<a href='../D/8108.html' title='Multiple defined in 3 places.'>init_app</a>()) <font color='red'>{</font>
<a name='L210'> 210         <a href='../D/4936.html' title='Multiple defined in 12 places.'>PRINTF</a>("Failed to initialize %s", <a href='../D/5543.html' title='Multiple defined in 2 places.'>TARGET_APP</a>);
<a name='L211'> 211         <b>return</b> -1;
<a name='L212'> 212     <font color='red'>}</font>
<a name='L213'> 213 
<a name='L214'> 214     <i><font color='green'>// activate app</font></i>
<a name='L215'> 215     <b>if</b> (<a href='../D/6826.html' title='Multiple defined in 3 places.'>activate_app</a>()) <font color='red'>{</font>
<a name='L216'> 216         <a href='../D/4936.html' title='Multiple defined in 12 places.'>PRINTF</a>("Failed to activate %s", <a href='../D/5543.html' title='Multiple defined in 2 places.'>TARGET_APP</a>);
<a name='L217'> 217         <b>return</b> -1;
<a name='L218'> 218     <font color='red'>}</font>
<a name='L219'> 219 
<a name='L220'> 220     <i><font color='green'>// signal handlers</font></i>
<a name='L221'> 221     <a href='../Y/6766.html' title='Multiple used in 10 places.'>sigint_func</a> = <a href='../S/871.html#L55' title='Defined at 55 in cbench/openflow/lib/signals.c.'>signal</a>(<a href='../Y/782.html' title='Multiple used in 7 places.'>SIGINT</a>, <a href='../D/9538.html' title='Multiple defined in 5 places.'>sigint_handler</a>);
<a name='L222'> 222     <a href='../Y/6767.html' title='Multiple used in 10 places.'>sigkill_func</a> = <a href='../S/871.html#L55' title='Defined at 55 in cbench/openflow/lib/signals.c.'>signal</a>(<a href='../Y/783.html' title='Multiple used in 8 places.'>SIGKILL</a>, <a href='../D/9539.html' title='Multiple defined in 5 places.'>sigkill_handler</a>);
<a name='L223'> 223     <a href='../Y/6778.html' title='Multiple used in 10 places.'>sigterm_func</a> = <a href='../S/871.html#L55' title='Defined at 55 in cbench/openflow/lib/signals.c.'>signal</a>(<a href='../Y/791.html' title='Multiple used in 8 places.'>SIGTERM</a>, <a href='../D/9547.html' title='Multiple defined in 5 places.'>sigterm_handler</a>);
<a name='L224'> 224 
<a name='L225'> 225     <b>while</b>(1) <font color='red'>{</font>
<a name='L226'> 226         <a href='../D/10115.html' title='Multiple defined in 6 places.'>waitsec</a>(1, 0);
<a name='L227'> 227     <font color='red'>}</font>
<a name='L228'> 228 
<a name='L229'> 229     <b>return</b> 0;
<a name='L230'> 230 <font color='red'>}</font>
<a name='L231'> 231 
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L27'>[^]</a><a href='#L200'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
