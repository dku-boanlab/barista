<html>
<head>
<title>cbench/oflops/log.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.7.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/1100.html'>cbench</a>/<a href='../files/1101.html'>oflops</a>/log.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L27'>[^]</a><a href='#L48'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L27' title='Defined at 27.'>oflops_log_init</a>
<li><a href='#L35' title='Defined at 35.'>oflops_log</a>
<li><a href='#L48' title='Defined at 48.'>oflops_log_close</a>
</ol>
<hr>
<pre>
<a name='L1'>   1 <font color='darkred'>#include</font> "<a href='../I/47.html'>log.h</a>"
<a name='L2'>   2 
<a name='L3'>   3 <b>const</b> <b>char</b> *<a href='../Y/4527.html' title='Multiple used in 2 places.'>msg_type</a>[] = <font color='red'>{</font>
<a name='L4'>   4   "OFPT_FLOW_MOD_ADD",
<a name='L5'>   5   "OFPT_STATS_REQUEST_FLOW",
<a name='L6'>   6   "OFPT_STATS_REPLY_FLOW",
<a name='L7'>   7   "OFPT_STATS_REQUEST_FLOW",
<a name='L8'>   8   "OFPT_STATS_REPLY_PORT",
<a name='L9'>   9   "OFPT_HELLO",
<a name='L10'>  10   "OFPT_ECHO_REPLY",
<a name='L11'>  11   "OFPT_ECHO_REQUEST",
<a name='L12'>  12   "OFPT_ERROR",
<a name='L13'>  13   "GENERIC_MSG",
<a name='L14'>  14   "SNMP_MSG",
<a name='L15'>  15   "PCAP_MSG",
<a name='L16'>  16   "OFPT_PACKET_IN_MSG",
<a name='L17'>  17   "PKTGEN_MSG"
<a name='L18'>  18 <font color='red'>}</font>;
<a name='L19'>  19 
<a name='L20'>  20 <a href='../Y/328.html' title='Multiple used in 113 places.'>FILE</a>* <a href='../Y/4235.html' title='Multiple used in 7 places.'>logger</a>;
<a name='L21'>  21 
<a name='L22'>  22 <i><font color='green'>/*</font></i>
<a name='L23'>  23 <i><font color='green'> * Initializes the logging system of oflops.</font></i>
<a name='L24'>  24 <i><font color='green'> * @param filename The file where the logging messages are stored. </font></i>
<a name='L25'>  25 <i><font color='green'> */</font></i>
<a name='L26'>  26 <b>void</b>
<a name='L27'>  27 <a href='../R/3816.html' title='Multiple refered from 2 places.'>oflops_log_init</a>(<b>const</b> <b>char</b> *<a href='../Y/3055.html' title='Multiple used in 60 places.'>filename</a>) <font color='red'>{</font>
<a name='L28'>  28   <a href='../Y/4235.html' title='Multiple used in 7 places.'>logger</a> = <a href='../Y/3190.html' title='Multiple used in 43 places.'>fopen</a>(<a href='../Y/3055.html' title='Multiple used in 60 places.'>filename</a>, "w");
<a name='L29'>  29   <b>if</b>(<a href='../Y/4235.html' title='Multiple used in 7 places.'>logger</a> == <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>) <font color='red'>{</font>
<a name='L30'>  30     <a href='../S/122.html#L48' title='Defined at 48 in cbench/oflops/utils.c.'>perror_and_exit</a>("failed to open log file", 1);
<a name='L31'>  31   <font color='red'>}</font>
<a name='L32'>  32 <font color='red'>}</font>
<a name='L33'>  33 
<a name='L34'>  34 <b>int</b> 
<a name='L35'>  35 <a href='../R/3814.html' title='Multiple refered from 138 places.'>oflops_log</a>(<b>struct</b> <a href='../Y/7388.html' title='Multiple used in 197 places.'>timeval</a> <a href='../Y/7493.html' title='Multiple used in 120 places.'>ts</a>, <b>int</b> <a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>, <b>char</b> *<a href='../Y/2358.html' title='Multiple used in 7 places.'>details</a>) <font color='red'>{</font>
<a name='L36'>  36   <a href='../Y/3207.html' title='Multiple used in 289 places.'>fprintf</a>(<a href='../Y/4235.html' title='Multiple used in 7 places.'>logger</a>, "%lu.%06lu:%s:%s\n",(<b>long</b> <b>unsigned</b> <b>int</b>)<a href='../Y/7493.html' title='Multiple used in 120 places.'>ts</a>.<a href='../Y/7510.html' title='Multiple used in 122 places.'>tv_sec</a>,
<a name='L37'>  37           (<b>long</b> <b>unsigned</b> <b>int</b>)<a href='../Y/7493.html' title='Multiple used in 120 places.'>ts</a>.<a href='../Y/7511.html' title='Multiple used in 105 places.'>tv_usec</a>, <a href='../Y/4527.html' title='Multiple used in 2 places.'>msg_type</a>[<a href='../Y/7553.html' title='Multiple used in 958 places.'>type</a>], <a href='../Y/2358.html' title='Multiple used in 7 places.'>details</a>);
<a name='L38'>  38   <a href='../Y/3028.html' title='Multiple used in 35 places.'>fflush</a>(<a href='../Y/4235.html' title='Multiple used in 7 places.'>logger</a>);
<a name='L39'>  39   <b>return</b> 1;
<a name='L40'>  40 <font color='red'>}</font>
<a name='L41'>  41 
<a name='L42'>  42 
<a name='L43'>  43 <i><font color='green'>/*</font></i>
<a name='L44'>  44 <i><font color='green'> * Initializes the logging system of oflops.</font></i>
<a name='L45'>  45 <i><font color='green'> * @param filename The file where the logging messages are stored. </font></i>
<a name='L46'>  46 <i><font color='green'> */</font></i>
<a name='L47'>  47 <b>void</b>
<a name='L48'>  48 <a href='../R/3815.html' title='Multiple refered from 2 places.'>oflops_log_close</a>() <font color='red'>{</font>
<a name='L49'>  49   <a href='../Y/3012.html' title='Multiple used in 34 places.'>fclose</a>(<a href='../Y/4235.html' title='Multiple used in 7 places.'>logger</a>);
<a name='L50'>  50 <font color='red'>}</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L27'>[^]</a><a href='#L48'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
