<html>
<head>
<title>cbench/openflow/lib/stp.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.7.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/1100.html'>cbench</a>/<a href='../files/1124.html'>openflow</a>/<a href='../files/1140.html'>lib</a>/stp.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L156'>[^]</a><a href='#L1220'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L156' title='Defined at 156.'>stp_next_enabled_port</a>
<li><a href='#L227' title='Defined at 227.'>stp_create</a>
<li><a href='#L274' title='Defined at 274.'>stp_destroy</a>
<li><a href='#L281' title='Defined at 281.'>stp_tick</a>
<li><a href='#L323' title='Defined at 323.'>set_bridge_id</a>
<li><a href='#L345' title='Defined at 345.'>stp_set_bridge_id</a>
<li><a href='#L353' title='Defined at 353.'>stp_set_bridge_priority</a>
<li><a href='#L365' title='Defined at 365.'>stp_set_hello_time</a>
<li><a href='#L377' title='Defined at 377.'>stp_set_max_age</a>
<li><a href='#L388' title='Defined at 388.'>stp_set_forward_delay</a>
<li><a href='#L396' title='Defined at 396.'>stp_get_name</a>
<li><a href='#L403' title='Defined at 403.'>stp_get_bridge_id</a>
<li><a href='#L410' title='Defined at 410.'>stp_get_designated_root</a>
<li><a href='#L418' title='Defined at 418.'>stp_is_root_bridge</a>
<li><a href='#L425' title='Defined at 425.'>stp_get_root_path_cost</a>
<li><a href='#L434' title='Defined at 434.'>stp_get_hello_time</a>
<li><a href='#L444' title='Defined at 444.'>stp_get_max_age</a>
<li><a href='#L454' title='Defined at 454.'>stp_get_forward_delay</a>
<li><a href='#L462' title='Defined at 462.'>stp_get_port</a>
<li><a href='#L471' title='Defined at 471.'>stp_get_root_port</a>
<li><a href='#L480' title='Defined at 480.'>stp_get_changed_port</a>
<li><a href='#L501' title='Defined at 501.'>stp_state_name</a>
<li><a href='#L525' title='Defined at 525.'>stp_forward_in_state</a>
<li><a href='#L536' title='Defined at 536.'>stp_learn_in_state</a>
<li><a href='#L546' title='Defined at 546.'>stp_received_bpdu</a>
<li><a href='#L599' title='Defined at 599.'>stp_port_get_stp</a>
<li><a href='#L606' title='Defined at 606.'>stp_port_no</a>
<li><a href='#L615' title='Defined at 615.'>stp_port_get_state</a>
<li><a href='#L622' title='Defined at 622.'>stp_port_disable</a>
<li><a href='#L643' title='Defined at 643.'>stp_port_enable</a>
<li><a href='#L654' title='Defined at 654.'>stp_port_set_priority</a>
<li><a href='#L675' title='Defined at 675.'>stp_port_set_path_cost</a>
<li><a href='#L687' title='Defined at 687.'>stp_port_set_speed</a>
<li><a href='#L700' title='Defined at 700.'>stp_port_enable_change_detection</a>
<li><a href='#L707' title='Defined at 707.'>stp_port_disable_change_detection</a>
<li><a href='#L713' title='Defined at 713.'>stp_transmit_config</a>
<li><a href='#L758' title='Defined at 758.'>stp_supersedes_port_info</a>
<li><a href='#L774' title='Defined at 774.'>stp_record_config_information</a>
<li><a href='#L785' title='Defined at 785.'>stp_record_config_timeout_values</a>
<li><a href='#L795' title='Defined at 795.'>stp_is_designated_port</a>
<li><a href='#L802' title='Defined at 802.'>stp_config_bpdu_generation</a>
<li><a href='#L814' title='Defined at 814.'>stp_transmit_tcn</a>
<li><a href='#L828' title='Defined at 828.'>stp_configuration_update</a>
<li><a href='#L835' title='Defined at 835.'>stp_supersedes_root</a>
<li><a href='#L854' title='Defined at 854.'>stp_root_selection</a>
<li><a href='#L880' title='Defined at 880.'>stp_designated_port_selection</a>
<li><a href='#L899' title='Defined at 899.'>stp_become_designated_port</a>
<li><a href='#L909' title='Defined at 909.'>stp_port_state_selection</a>
<li><a href='#L930' title='Defined at 930.'>stp_make_forwarding</a>
<li><a href='#L939' title='Defined at 939.'>stp_make_blocking</a>
<li><a href='#L953' title='Defined at 953.'>stp_set_port_state</a>
<li><a href='#L965' title='Defined at 965.'>stp_topology_change_detection</a>
<li><a href='#L978' title='Defined at 978.'>stp_topology_change_acknowledged</a>
<li><a href='#L985' title='Defined at 985.'>stp_acknowledge_topology_change</a>
<li><a href='#L992' title='Defined at 992.'>stp_received_config_bpdu</a>
<li><a href='#L1030' title='Defined at 1030.'>stp_received_tcn_bpdu</a>
<li><a href='#L1041' title='Defined at 1041.'>stp_hello_timer_expiry</a>
<li><a href='#L1048' title='Defined at 1048.'>stp_message_age_timer_expiry</a>
<li><a href='#L1067' title='Defined at 1067.'>stp_is_designated_for_some_port</a>
<li><a href='#L1080' title='Defined at 1080.'>stp_forward_delay_timer_expiry</a>
<li><a href='#L1096' title='Defined at 1096.'>stp_tcn_timer_expiry</a>
<li><a href='#L1103' title='Defined at 1103.'>stp_topology_change_timer_expiry</a>
<li><a href='#L1110' title='Defined at 1110.'>stp_hold_timer_expiry</a>
<li><a href='#L1118' title='Defined at 1118.'>stp_initialize_port</a>
<li><a href='#L1132' title='Defined at 1132.'>stp_become_root_bridge</a>
<li><a href='#L1144' title='Defined at 1144.'>stp_start_timer</a>
<li><a href='#L1151' title='Defined at 1151.'>stp_stop_timer</a>
<li><a href='#L1157' title='Defined at 1157.'>stp_timer_expired</a>
<li><a href='#L1172' title='Defined at 1172.'>ms_to_timer</a>
<li><a href='#L1180' title='Defined at 1180.'>ms_to_timer_remainder</a>
<li><a href='#L1188' title='Defined at 1188.'>timer_to_ms</a>
<li><a href='#L1194' title='Defined at 1194.'>clamp</a>
<li><a href='#L1200' title='Defined at 1200.'>stp_update_bridge_timers</a>
<li><a href='#L1220' title='Defined at 1220.'>stp_send_bpdu</a>
</ol>
<hr>
<pre>
<a name='L1'>   1 <i><font color='green'>/* Copyright (c) 2008, 2009 The Board of Trustees of The Leland Stanford</font></i>
<a name='L2'>   2 <i><font color='green'> * Junior University</font></i>
<a name='L3'>   3 <i><font color='green'> *</font></i>
<a name='L4'>   4 <i><font color='green'> * We are making the OpenFlow specification and associated documentation</font></i>
<a name='L5'>   5 <i><font color='green'> * (Software) available for public use and benefit with the expectation</font></i>
<a name='L6'>   6 <i><font color='green'> * that others will use, modify and enhance the Software and contribute</font></i>
<a name='L7'>   7 <i><font color='green'> * those enhancements back to the community. However, since we would</font></i>
<a name='L8'>   8 <i><font color='green'> * like to make the Software available for broadest use, with as few</font></i>
<a name='L9'>   9 <i><font color='green'> * restrictions as possible permission is hereby granted, free of</font></i>
<a name='L10'>  10 <i><font color='green'> * charge, to any person obtaining a copy of this Software to deal in</font></i>
<a name='L11'>  11 <i><font color='green'> * the Software under the copyrights without restriction, including</font></i>
<a name='L12'>  12 <i><font color='green'> * without limitation the rights to use, copy, modify, merge, publish,</font></i>
<a name='L13'>  13 <i><font color='green'> * distribute, sublicense, and/or sell copies of the Software, and to</font></i>
<a name='L14'>  14 <i><font color='green'> * permit persons to whom the Software is furnished to do so, subject to</font></i>
<a name='L15'>  15 <i><font color='green'> * the following conditions:</font></i>
<a name='L16'>  16 <i><font color='green'> *</font></i>
<a name='L17'>  17 <i><font color='green'> * The above copyright notice and this permission notice shall be</font></i>
<a name='L18'>  18 <i><font color='green'> * included in all copies or substantial portions of the Software.</font></i>
<a name='L19'>  19 <i><font color='green'> *</font></i>
<a name='L20'>  20 <i><font color='green'> * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,</font></i>
<a name='L21'>  21 <i><font color='green'> * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</font></i>
<a name='L22'>  22 <i><font color='green'> * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</font></i>
<a name='L23'>  23 <i><font color='green'> * NONINFRINGEMENT.  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS</font></i>
<a name='L24'>  24 <i><font color='green'> * BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN</font></i>
<a name='L25'>  25 <i><font color='green'> * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN</font></i>
<a name='L26'>  26 <i><font color='green'> * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</font></i>
<a name='L27'>  27 <i><font color='green'> * SOFTWARE.</font></i>
<a name='L28'>  28 <i><font color='green'> *</font></i>
<a name='L29'>  29 <i><font color='green'> * The name and trademarks of copyright holder(s) may NOT be used in</font></i>
<a name='L30'>  30 <i><font color='green'> * advertising or publicity pertaining to the Software or any</font></i>
<a name='L31'>  31 <i><font color='green'> * derivatives without specific, written prior permission.</font></i>
<a name='L32'>  32 <i><font color='green'> */</font></i>
<a name='L33'>  33 
<a name='L34'>  34 <i><font color='green'>/* Based on sample implementation in 802.1D-1998.  Above copyright and license</font></i>
<a name='L35'>  35 <i><font color='green'> * applies to all modifications. */</font></i>
<a name='L36'>  36 
<a name='L37'>  37 <font color='darkred'>#include</font> "<a href='897.html'>stp.h</a>"
<a name='L38'>  38 <font color='darkred'>#include</font> &lt;arpa/inet.h&gt;
<a name='L39'>  39 <font color='darkred'>#include</font> &lt;assert.h&gt;
<a name='L40'>  40 <font color='darkred'>#include</font> &lt;inttypes.h&gt;
<a name='L41'>  41 <font color='darkred'>#include</font> &lt;stdlib.h&gt;
<a name='L42'>  42 <font color='darkred'>#include</font> "<a href='865.html'>ofpbuf.h</a>"
<a name='L43'>  43 <font color='darkred'>#include</font> "<a href='860.html'>packets.h</a>"
<a name='L44'>  44 <font color='darkred'>#include</font> "<a href='../I/69.html'>util.h</a>"
<a name='L45'>  45 <font color='darkred'>#include</font> "<a href='889.html'>xtoxll.h</a>"
<a name='L46'>  46 
<a name='L47'>  47 <font color='darkred'>#include</font> "<a href='859.html'>vlog.h</a>"
<a name='L48'>  48 <font color='darkred'>#define</font> <a href='../R/1643.html' title='Multiple refered from 13 places.'>THIS_MODULE</a> VLM_stp
<a name='L49'>  49 
<a name='L50'>  50 <i><font color='green'>/* Ethernet address used as the destination for STP frames. */</font></i>
<a name='L51'>  51 <b>const</b> <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/7062.html' title='Multiple used in 7 places.'>stp_eth_addr</a>[<a href='../S/860.html#L42' title='Defined at 42 in cbench/openflow/lib/packets.h.'>ETH_ADDR_LEN</a>]
<a name='L52'>  52 = <font color='red'>{</font> 0x01, 0x80, 0xC2, 0x00, 0x00, 0x01 <font color='red'>}</font>;
<a name='L53'>  53 
<a name='L54'>  54 <font color='darkred'>#define</font> <a href='../R/1601.html' title='Multiple refered from 3 places.'>STP_PROTOCOL_ID</a> 0x0000
<a name='L55'>  55 <font color='darkred'>#define</font> <a href='../R/1602.html' title='Multiple refered from 3 places.'>STP_PROTOCOL_VERSION</a> 0x00
<a name='L56'>  56 <font color='darkred'>#define</font> <a href='../R/1604.html' title='Multiple refered from 2 places.'>STP_TYPE_CONFIG</a> 0x00
<a name='L57'>  57 <font color='darkred'>#define</font> <a href='../R/1605.html' title='Multiple refered from 2 places.'>STP_TYPE_TCN</a> 0x80
<a name='L58'>  58 
<a name='L59'>  59 <b>struct</b> <a href='../R/4541.html' title='Multiple refered from 4 places.'>stp_bpdu_header</a> <font color='red'>{</font>
<a name='L60'>  60     <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/6105.html' title='Multiple used in 5 places.'>protocol_id</a>;       <i><font color='green'>/* STP_PROTOCOL_ID. */</font></i>
<a name='L61'>  61     <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/6108.html' title='Multiple used in 5 places.'>protocol_version</a>;   <i><font color='green'>/* STP_PROTOCOL_VERSION. */</font></i>
<a name='L62'>  62     <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/1660.html' title='Multiple used in 5 places.'>bpdu_type</a>;          <i><font color='green'>/* One of STP_TYPE_*. */</font></i>
<a name='L63'>  63 <font color='red'>}</font> <b>__attribute__</b>((<a href='../Y/5591.html' title='Multiple used in 14 places.'>packed</a>));
<a name='L64'>  64 <a href='../D/522.html' title='Multiple defined in 2 places.'>BUILD_ASSERT_DECL</a>(<b>sizeof</b>(<b>struct</b> stp_bpdu_header) == 4);
<a name='L65'>  65 
<a name='L66'>  66 <b>enum</b> stp_config_bpdu_flags <font color='red'>{</font>
<a name='L67'>  67     <a href='../R/1588.html' title='Multiple refered from 2 places.'>STP_CONFIG_TOPOLOGY_CHANGE_ACK</a> = 0x80,
<a name='L68'>  68     <a href='../R/1587.html' title='Multiple refered from 2 places.'>STP_CONFIG_TOPOLOGY_CHANGE</a> = 0x01
<a name='L69'>  69 <font color='red'>}</font>;
<a name='L70'>  70 
<a name='L71'>  71 <b>struct</b> <a href='../R/4542.html' title='Multiple refered from 2 places.'>stp_config_bpdu</a> <font color='red'>{</font>
<a name='L72'>  72     <b>struct</b> <a href='../S/894.html#L59' title='Defined at 59 in cbench/openflow/lib/stp.c.'>stp_bpdu_header</a> <a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>; <i><font color='green'>/* Type STP_TYPE_CONFIG. */</font></i>
<a name='L73'>  73     <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a>;                 <i><font color='green'>/* STP_CONFIG_* flags. */</font></i>
<a name='L74'>  74     <a href='../Y/7623.html' title='Multiple used in 568 places.'>uint64_t</a> <a href='../Y/6462.html' title='Multiple used in 5 places.'>root_id</a>;              <i><font color='green'>/* 8.5.1.1: Bridge believed to be root. */</font></i>
<a name='L75'>  75     <a href='../Y/7621.html' title='Multiple used in 1429 places.'>uint32_t</a> <a href='../Y/6463.html' title='Multiple used in 16 places.'>root_path_cost</a>;       <i><font color='green'>/* 8.5.1.2: Cost of path to root. */</font></i>
<a name='L76'>  76     <a href='../Y/7623.html' title='Multiple used in 568 places.'>uint64_t</a> <a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>;            <i><font color='green'>/* 8.5.1.3: ID of transmitting bridge. */</font></i>
<a name='L77'>  77     <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a>;              <i><font color='green'>/* 8.5.1.4: Port transmitting the BPDU. */</font></i>
<a name='L78'>  78     <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/4427.html' title='Multiple used in 7 places.'>message_age</a>;          <i><font color='green'>/* 8.5.1.5: Age of BPDU at tx time. */</font></i>
<a name='L79'>  79     <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a>;              <i><font color='green'>/* 8.5.1.6: Timeout for received data. */</font></i>
<a name='L80'>  80     <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/3601.html' title='Multiple used in 9 places.'>hello_time</a>;           <i><font color='green'>/* 8.5.1.7: Time between BPDU generation. */</font></i>
<a name='L81'>  81     <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/3203.html' title='Multiple used in 10 places.'>forward_delay</a>;        <i><font color='green'>/* 8.5.1.8: State progression delay. */</font></i>
<a name='L82'>  82 <font color='red'>}</font> <b>__attribute__</b>((<a href='../Y/5591.html' title='Multiple used in 14 places.'>packed</a>));
<a name='L83'>  83 <a href='../D/522.html' title='Multiple defined in 2 places.'>BUILD_ASSERT_DECL</a>(<b>sizeof</b>(<b>struct</b> <a href='../Y/7061.html' title='Multiple used in 9 places.'>stp_config_bpdu</a>) == 35);
<a name='L84'>  84 
<a name='L85'>  85 <b>struct</b> <a href='../R/4610.html' title='Multiple refered from 2 places.'>stp_tcn_bpdu</a> <font color='red'>{</font>
<a name='L86'>  86     <b>struct</b> <a href='../S/894.html#L59' title='Defined at 59 in cbench/openflow/lib/stp.c.'>stp_bpdu_header</a> <a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>; <i><font color='green'>/* Type STP_TYPE_TCN. */</font></i>
<a name='L87'>  87 <font color='red'>}</font> <b>__attribute__</b>((<a href='../Y/5591.html' title='Multiple used in 14 places.'>packed</a>));
<a name='L88'>  88 <a href='../D/522.html' title='Multiple defined in 2 places.'>BUILD_ASSERT_DECL</a>(<b>sizeof</b>(<b>struct</b> stp_tcn_bpdu) == 4);
<a name='L89'>  89 
<a name='L90'>  90 <b>struct</b> <a href='../R/4613.html' title='Multiple refered from 6 places.'>stp_timer</a> <font color='red'>{</font>
<a name='L91'>  91     <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/1298.html' title='Multiple used in 9 places.'>active</a>;                 <i><font color='green'>/* Timer in use? */</font></i>
<a name='L92'>  92     <b>int</b> <a href='../Y/7726.html' title='Multiple used in 339 places.'>value</a>;                   <i><font color='green'>/* Current value of timer, counting up. */</font></i>
<a name='L93'>  93 <font color='red'>}</font>;
<a name='L94'>  94 
<a name='L95'>  95 <b>struct</b> <a href='../R/4577.html' title='Multiple refered from 30 places.'>stp_port</a> <font color='red'>{</font>
<a name='L96'>  96     <b>struct</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> *<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>;
<a name='L97'>  97     <b>int</b> <a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a>;                    <i><font color='green'>/* 8.5.5.1: Unique port identifier. */</font></i>
<a name='L98'>  98     <b>enum</b> <a href='../S/897.html#L96' title='Defined at 96 in cbench/openflow/lib/stp.h.'>stp_state</a> <a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>;           <i><font color='green'>/* 8.5.5.2: Current state. */</font></i>
<a name='L99'>  99     <b>int</b> <a href='../Y/5657.html' title='Multiple used in 15 places.'>path_cost</a>;                  <i><font color='green'>/* 8.5.5.3: Cost of tx/rx on this port. */</font></i>
<a name='L100'> 100     <a href='../S/897.html#L61' title='Defined at 61 in cbench/openflow/lib/stp.h.'>stp_identifier</a> <a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a>; <i><font color='green'>/* 8.5.5.4. */</font></i>
<a name='L101'> 101     <b>int</b> <a href='../Y/2342.html' title='Multiple used in 10 places.'>designated_cost</a>;            <i><font color='green'>/* 8.5.5.5: Path cost to root on port. */</font></i>
<a name='L102'> 102     <a href='../S/897.html#L61' title='Defined at 61 in cbench/openflow/lib/stp.h.'>stp_identifier</a> <a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a>; <i><font color='green'>/* 8.5.5.6. */</font></i>
<a name='L103'> 103     <b>int</b> <a href='../Y/2343.html' title='Multiple used in 10 places.'>designated_port</a>;            <i><font color='green'>/* 8.5.5.7: Port to send config msgs on. */</font></i>
<a name='L104'> 104     <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/7424.html' title='Multiple used in 8 places.'>topology_change_ack</a>;       <i><font color='green'>/* 8.5.5.8: Flag for next config BPDU. */</font></i>
<a name='L105'> 105     <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/2061.html' title='Multiple used in 8 places.'>config_pending</a>;            <i><font color='green'>/* 8.5.5.9: Send BPDU when hold expires? */</font></i>
<a name='L106'> 106     <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/1852.html' title='Multiple used in 6 places.'>change_detection_enabled</a>;  <i><font color='green'>/* 8.5.5.10: Detect topology changes? */</font></i>
<a name='L107'> 107 
<a name='L108'> 108     <b>struct</b> <a href='../S/894.html#L90' title='Defined at 90 in cbench/openflow/lib/stp.c.'>stp_timer</a> <a href='../Y/4428.html' title='Multiple used in 7 places.'>message_age_timer</a>; <i><font color='green'>/* 8.5.6.1: Age of received info. */</font></i>
<a name='L109'> 109     <b>struct</b> <a href='../S/894.html#L90' title='Defined at 90 in cbench/openflow/lib/stp.c.'>stp_timer</a> <a href='../Y/3204.html' title='Multiple used in 7 places.'>forward_delay_timer</a>; <i><font color='green'>/* 8.5.6.2: State change timer. */</font></i>
<a name='L110'> 110     <b>struct</b> <a href='../S/894.html#L90' title='Defined at 90 in cbench/openflow/lib/stp.c.'>stp_timer</a> <a href='../Y/3647.html' title='Multiple used in 5 places.'>hold_timer</a>;        <i><font color='green'>/* 8.5.6.3: BPDU rate limit timer. */</font></i>
<a name='L111'> 111 
<a name='L112'> 112     <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/7016.html' title='Multiple used in 5 places.'>state_changed</a>;
<a name='L113'> 113 <font color='red'>}</font>;
<a name='L114'> 114 
<a name='L115'> 115 <b>struct</b> <a href='../R/4537.html' title='Multiple refered from 279 places.'>stp</a> <font color='red'>{</font>
<a name='L116'> 116     <i><font color='green'>/* Static bridge data. */</font></i>
<a name='L117'> 117     <b>char</b> *<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>;                     <i><font color='green'>/* Human-readable name for log messages. */</font></i>
<a name='L118'> 118     <a href='../S/897.html#L61' title='Defined at 61 in cbench/openflow/lib/stp.h.'>stp_identifier</a> <a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>;       <i><font color='green'>/* 8.5.3.7: This bridge. */</font></i>
<a name='L119'> 119     <b>int</b> <a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a>;                    <i><font color='green'>/* 8.5.3.4: Time to drop received data. */</font></i>
<a name='L120'> 120     <b>int</b> <a href='../Y/3601.html' title='Multiple used in 9 places.'>hello_time</a>;                 <i><font color='green'>/* 8.5.3.5: Time between sending BPDUs. */</font></i>
<a name='L121'> 121     <b>int</b> <a href='../Y/3203.html' title='Multiple used in 10 places.'>forward_delay</a>;              <i><font color='green'>/* 8.5.3.6: Delay between state changes. */</font></i>
<a name='L122'> 122     <b>int</b> <a href='../Y/1674.html' title='Multiple used in 7 places.'>bridge_max_age</a>;             <i><font color='green'>/* 8.5.3.8: max_age when we're root. */</font></i>
<a name='L123'> 123     <b>int</b> <a href='../Y/1672.html' title='Multiple used in 8 places.'>bridge_hello_time</a>;          <i><font color='green'>/* 8.5.3.9: hello_time as root. */</font></i>
<a name='L124'> 124     <b>int</b> <a href='../Y/1671.html' title='Multiple used in 7 places.'>bridge_forward_delay</a>;       <i><font color='green'>/* 8.5.3.10: forward_delay as root. */</font></i>
<a name='L125'> 125     <b>int</b> <a href='../Y/6480.html' title='Multiple used in 4 places.'>rq_max_age</a>;                 <i><font color='green'>/* User-requested max age, in ms. */</font></i>
<a name='L126'> 126     <b>int</b> <a href='../Y/6478.html' title='Multiple used in 4 places.'>rq_hello_time</a>;              <i><font color='green'>/* User-requested hello time, in ms. */</font></i>
<a name='L127'> 127     <b>int</b> <a href='../Y/6476.html' title='Multiple used in 4 places.'>rq_forward_delay</a>;           <i><font color='green'>/* User-requested forward delay, in ms. */</font></i>
<a name='L128'> 128     <b>int</b> <a href='../Y/2637.html' title='Multiple used in 3 places.'>elapsed_remainder</a>;          <i><font color='green'>/* Left-over msecs from last stp_tick(). */</font></i>
<a name='L129'> 129 
<a name='L130'> 130     <i><font color='green'>/* Dynamic bridge data. */</font></i>
<a name='L131'> 131     <a href='../S/897.html#L61' title='Defined at 61 in cbench/openflow/lib/stp.h.'>stp_identifier</a> <a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a>; <i><font color='green'>/* 8.5.3.1: Bridge believed to be root. */</font></i>
<a name='L132'> 132     <b>unsigned</b> <b>int</b> <a href='../Y/6463.html' title='Multiple used in 16 places.'>root_path_cost</a>;    <i><font color='green'>/* 8.5.3.2: Cost of path to root. */</font></i>
<a name='L133'> 133     <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *<a href='../Y/6464.html' title='Multiple used in 14 places.'>root_port</a>;     <i><font color='green'>/* 8.5.3.3: Lowest cost port to root. */</font></i>
<a name='L134'> 134     <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/7425.html' title='Multiple used in 7 places.'>topology_change_detected</a>;  <i><font color='green'>/* 8.5.3.11: Detected a topology change? */</font></i>
<a name='L135'> 135     <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/7423.html' title='Multiple used in 6 places.'>topology_change</a>;           <i><font color='green'>/* 8.5.3.12: Received topology change? */</font></i>
<a name='L136'> 136 
<a name='L137'> 137     <i><font color='green'>/* Bridge timers. */</font></i>
<a name='L138'> 138     <b>struct</b> <a href='../S/894.html#L90' title='Defined at 90 in cbench/openflow/lib/stp.c.'>stp_timer</a> <a href='../Y/3602.html' title='Multiple used in 7 places.'>hello_timer</a>;   <i><font color='green'>/* 8.5.4.1: Hello timer. */</font></i>
<a name='L139'> 139     <b>struct</b> <a href='../S/894.html#L90' title='Defined at 90 in cbench/openflow/lib/stp.c.'>stp_timer</a> <a href='../Y/7270.html' title='Multiple used in 9 places.'>tcn_timer</a>;     <i><font color='green'>/* 8.5.4.2: Topology change timer. */</font></i>
<a name='L140'> 140     <b>struct</b> <a href='../S/894.html#L90' title='Defined at 90 in cbench/openflow/lib/stp.c.'>stp_timer</a> <a href='../Y/7426.html' title='Multiple used in 5 places.'>topology_change_timer</a>; <i><font color='green'>/* 8.5.4.3. */</font></i>
<a name='L141'> 141 
<a name='L142'> 142     <i><font color='green'>/* Ports. */</font></i>
<a name='L143'> 143     <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> <a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>[<a href='../S/897.html#L64' title='Defined at 64 in cbench/openflow/lib/stp.h.'>STP_MAX_PORTS</a>];
<a name='L144'> 144 
<a name='L145'> 145     <i><font color='green'>/* Interface to client. */</font></i>
<a name='L146'> 146     <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *<a href='../Y/3098.html' title='Multiple used in 7 places.'>first_changed_port</a>;
<a name='L147'> 147     <b>void</b> (*<a href='../D/9478.html' title='Multiple defined in 2 places.'>send_bpdu</a>)(<b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../S/252.html#L44' title='Defined at 44 in cbench/openflow/tests/test-stp.c.'>bpdu</a>, <b>int</b> <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>, <b>void</b> *<a href='../Y/1539.html' title='Multiple used in 86 places.'>aux</a>);
<a name='L148'> 148     <b>void</b> *<a href='../Y/1539.html' title='Multiple used in 86 places.'>aux</a>;
<a name='L149'> 149 <font color='red'>}</font>;
<a name='L150'> 150 
<a name='L151'> 151 <font color='darkred'>#define</font> <a href='../R/621.html' title='Multiple refered from 8 places.'>FOR_EACH_ENABLED_PORT</a>(<a href='../Y/692.html' title='Multiple used in 4 places.'>PORT</a>, <a href='../Y/903.html' title='Multiple used in 3 places.'>STP</a>)                        \
<a name='L152'> 152     <b>for</b> ((<a href='../Y/692.html' title='Multiple used in 4 places.'>PORT</a>) = <a href='../S/894.html#L156' title='Defined at 156 in cbench/openflow/lib/stp.c.'>stp_next_enabled_port</a>((<a href='../Y/903.html' title='Multiple used in 3 places.'>STP</a>), (<a href='../Y/903.html' title='Multiple used in 3 places.'>STP</a>)-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>);   \
<a name='L153'> 153          (<a href='../Y/692.html' title='Multiple used in 4 places.'>PORT</a>);                                                \
<a name='L154'> 154          (<a href='../Y/692.html' title='Multiple used in 4 places.'>PORT</a>) = <a href='../S/894.html#L156' title='Defined at 156 in cbench/openflow/lib/stp.c.'>stp_next_enabled_port</a>((<a href='../Y/903.html' title='Multiple used in 3 places.'>STP</a>), (<a href='../Y/692.html' title='Multiple used in 4 places.'>PORT</a>) + 1))
<a name='L155'> 155 <b>static</b> <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *
<a name='L156'> 156 <a href='../R/4575.html' title='Multiple refered from 2 places.'>stp_next_enabled_port</a>(<b>const</b> <b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>, <b>const</b> <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>)
<a name='L157'> 157 <font color='red'>{</font>
<a name='L158'> 158     <b>for</b> (; <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a> &lt; &amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>[<a href='../S/840.html#L69' title='Defined at 69 in cbench/openflow/lib/util.h.'>ARRAY_SIZE</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>)]; <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>++) <font color='red'>{</font>
<a name='L159'> 159         <b>if</b> (<a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> != <a href='../S/897.html#L97' title='Defined at 97 in cbench/openflow/lib/stp.h.'>STP_DISABLED</a>) <font color='red'>{</font>
<a name='L160'> 160             <b>return</b> (<b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *) <a href='../Y/5791.html' title='Multiple used in 749 places.'>port</a>;
<a name='L161'> 161         <font color='red'>}</font>
<a name='L162'> 162     <font color='red'>}</font>
<a name='L163'> 163     <b>return</b> <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L164'> 164 <font color='red'>}</font>
<a name='L165'> 165 
<a name='L166'> 166 <font color='darkred'>#define</font> <a href='../S/894.html#L743' title='Refered from 743 in cbench/openflow/lib/stp.c.'>MESSAGE_AGE_INCREMENT</a> 1
<a name='L167'> 167 
<a name='L168'> 168 <b>static</b> <b>void</b> <a href='../S/894.html#L713' title='Defined at 713 in cbench/openflow/lib/stp.c.'>stp_transmit_config</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *);
<a name='L169'> 169 <b>static</b> <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../S/894.html#L758' title='Defined at 758 in cbench/openflow/lib/stp.c.'>stp_supersedes_port_info</a>(<b>const</b> <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *,
<a name='L170'> 170                                      <b>const</b> <b>struct</b> <a href='../Y/7061.html' title='Multiple used in 9 places.'>stp_config_bpdu</a> *);
<a name='L171'> 171 <b>static</b> <b>void</b> <a href='../S/894.html#L774' title='Defined at 774 in cbench/openflow/lib/stp.c.'>stp_record_config_information</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *,
<a name='L172'> 172                                           <b>const</b> <b>struct</b> <a href='../Y/7061.html' title='Multiple used in 9 places.'>stp_config_bpdu</a> *);
<a name='L173'> 173 <b>static</b> <b>void</b> <a href='../S/894.html#L785' title='Defined at 785 in cbench/openflow/lib/stp.c.'>stp_record_config_timeout_values</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *,
<a name='L174'> 174                                              <b>const</b> <b>struct</b> <a href='../Y/7061.html' title='Multiple used in 9 places.'>stp_config_bpdu</a>  *);
<a name='L175'> 175 <b>static</b> <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../S/894.html#L795' title='Defined at 795 in cbench/openflow/lib/stp.c.'>stp_is_designated_port</a>(<b>const</b> <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *);
<a name='L176'> 176 <b>static</b> <b>void</b> <a href='../S/894.html#L802' title='Defined at 802 in cbench/openflow/lib/stp.c.'>stp_config_bpdu_generation</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *);
<a name='L177'> 177 <b>static</b> <b>void</b> <a href='../S/894.html#L814' title='Defined at 814 in cbench/openflow/lib/stp.c.'>stp_transmit_tcn</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *);
<a name='L178'> 178 <b>static</b> <b>void</b> <a href='../S/894.html#L828' title='Defined at 828 in cbench/openflow/lib/stp.c.'>stp_configuration_update</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *);
<a name='L179'> 179 <b>static</b> <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../S/894.html#L835' title='Defined at 835 in cbench/openflow/lib/stp.c.'>stp_supersedes_root</a>(<b>const</b> <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>,
<a name='L180'> 180                                 <b>const</b> <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *);
<a name='L181'> 181 <b>static</b> <b>void</b> <a href='../S/894.html#L854' title='Defined at 854 in cbench/openflow/lib/stp.c.'>stp_root_selection</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *);
<a name='L182'> 182 <b>static</b> <b>void</b> <a href='../S/894.html#L880' title='Defined at 880 in cbench/openflow/lib/stp.c.'>stp_designated_port_selection</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *);
<a name='L183'> 183 <b>static</b> <b>void</b> <a href='../S/894.html#L899' title='Defined at 899 in cbench/openflow/lib/stp.c.'>stp_become_designated_port</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *);
<a name='L184'> 184 <b>static</b> <b>void</b> <a href='../S/894.html#L909' title='Defined at 909 in cbench/openflow/lib/stp.c.'>stp_port_state_selection</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *);
<a name='L185'> 185 <b>static</b> <b>void</b> <a href='../S/894.html#L930' title='Defined at 930 in cbench/openflow/lib/stp.c.'>stp_make_forwarding</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *);
<a name='L186'> 186 <b>static</b> <b>void</b> <a href='../S/894.html#L939' title='Defined at 939 in cbench/openflow/lib/stp.c.'>stp_make_blocking</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *);
<a name='L187'> 187 <b>static</b> <b>void</b> <a href='../S/894.html#L953' title='Defined at 953 in cbench/openflow/lib/stp.c.'>stp_set_port_state</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *, <b>enum</b> <a href='../Y/7066.html' title='Multiple used in 10 places.'>stp_state</a>);
<a name='L188'> 188 <b>static</b> <b>void</b> <a href='../S/894.html#L965' title='Defined at 965 in cbench/openflow/lib/stp.c.'>stp_topology_change_detection</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *);
<a name='L189'> 189 <b>static</b> <b>void</b> <a href='../S/894.html#L978' title='Defined at 978 in cbench/openflow/lib/stp.c.'>stp_topology_change_acknowledged</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *);
<a name='L190'> 190 <b>static</b> <b>void</b> <a href='../S/894.html#L985' title='Defined at 985 in cbench/openflow/lib/stp.c.'>stp_acknowledge_topology_change</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *);
<a name='L191'> 191 <b>static</b> <b>void</b> <a href='../S/894.html#L992' title='Defined at 992 in cbench/openflow/lib/stp.c.'>stp_received_config_bpdu</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *, <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *,
<a name='L192'> 192                                      <b>const</b> <b>struct</b> <a href='../Y/7061.html' title='Multiple used in 9 places.'>stp_config_bpdu</a> *);
<a name='L193'> 193 <b>static</b> <b>void</b> <a href='../S/894.html#L1030' title='Defined at 1030 in cbench/openflow/lib/stp.c.'>stp_received_tcn_bpdu</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *, <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *);
<a name='L194'> 194 <b>static</b> <b>void</b> <a href='../S/894.html#L1041' title='Defined at 1041 in cbench/openflow/lib/stp.c.'>stp_hello_timer_expiry</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *);
<a name='L195'> 195 <b>static</b> <b>void</b> <a href='../S/894.html#L1048' title='Defined at 1048 in cbench/openflow/lib/stp.c.'>stp_message_age_timer_expiry</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *);
<a name='L196'> 196 <b>static</b> <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../S/894.html#L1067' title='Defined at 1067 in cbench/openflow/lib/stp.c.'>stp_is_designated_for_some_port</a>(<b>const</b> <b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *);
<a name='L197'> 197 <b>static</b> <b>void</b> <a href='../S/894.html#L1080' title='Defined at 1080 in cbench/openflow/lib/stp.c.'>stp_forward_delay_timer_expiry</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *);
<a name='L198'> 198 <b>static</b> <b>void</b> <a href='../S/894.html#L1096' title='Defined at 1096 in cbench/openflow/lib/stp.c.'>stp_tcn_timer_expiry</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *);
<a name='L199'> 199 <b>static</b> <b>void</b> <a href='../S/894.html#L1103' title='Defined at 1103 in cbench/openflow/lib/stp.c.'>stp_topology_change_timer_expiry</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *);
<a name='L200'> 200 <b>static</b> <b>void</b> <a href='../S/894.html#L1110' title='Defined at 1110 in cbench/openflow/lib/stp.c.'>stp_hold_timer_expiry</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *);
<a name='L201'> 201 <b>static</b> <b>void</b> <a href='../S/894.html#L1118' title='Defined at 1118 in cbench/openflow/lib/stp.c.'>stp_initialize_port</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *, <b>enum</b> <a href='../Y/7066.html' title='Multiple used in 10 places.'>stp_state</a>);
<a name='L202'> 202 <b>static</b> <b>void</b> <a href='../S/894.html#L1132' title='Defined at 1132 in cbench/openflow/lib/stp.c.'>stp_become_root_bridge</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *);
<a name='L203'> 203 <b>static</b> <b>void</b> <a href='../S/894.html#L1200' title='Defined at 1200 in cbench/openflow/lib/stp.c.'>stp_update_bridge_timers</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *);
<a name='L204'> 204 
<a name='L205'> 205 <b>static</b> <b>int</b> <a href='../D/7074.html' title='Multiple defined in 2 places.'>clamp</a>(<b>int</b> <a href='../Y/7991.html' title='Multiple used in 651 places.'>x</a>, <b>int</b> <a href='../Y/4443.html' title='Multiple used in 21 places.'>min</a>, <b>int</b> <a href='../Y/4352.html' title='Multiple used in 27 places.'>max</a>);
<a name='L206'> 206 <b>static</b> <b>int</b> <a href='../S/894.html#L1172' title='Defined at 1172 in cbench/openflow/lib/stp.c.'>ms_to_timer</a>(<b>int</b> <a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a>);
<a name='L207'> 207 <b>static</b> <b>int</b> <a href='../S/894.html#L1180' title='Defined at 1180 in cbench/openflow/lib/stp.c.'>ms_to_timer_remainder</a>(<b>int</b> <a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a>);
<a name='L208'> 208 <b>static</b> <b>int</b> <a href='../S/894.html#L1188' title='Defined at 1188 in cbench/openflow/lib/stp.c.'>timer_to_ms</a>(<b>int</b> <a href='../Y/7376.html' title='Multiple used in 24 places.'>timer</a>);
<a name='L209'> 209 <b>static</b> <b>void</b> <a href='../S/894.html#L1144' title='Defined at 1144 in cbench/openflow/lib/stp.c.'>stp_start_timer</a>(<b>struct</b> <a href='../Y/7068.html' title='Multiple used in 6 places.'>stp_timer</a> *, <b>int</b> <a href='../Y/7726.html' title='Multiple used in 339 places.'>value</a>);
<a name='L210'> 210 <b>static</b> <b>void</b> <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(<b>struct</b> <a href='../Y/7068.html' title='Multiple used in 6 places.'>stp_timer</a> *);
<a name='L211'> 211 <b>static</b> <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../S/894.html#L1157' title='Defined at 1157 in cbench/openflow/lib/stp.c.'>stp_timer_expired</a>(<b>struct</b> <a href='../Y/7068.html' title='Multiple used in 6 places.'>stp_timer</a> *, <b>int</b> <a href='../Y/2636.html' title='Multiple used in 18 places.'>elapsed</a>, <b>int</b> <a href='../Y/7372.html' title='Multiple used in 4 places.'>timeout</a>);
<a name='L212'> 212 
<a name='L213'> 213 <b>static</b> <b>void</b> <a href='../S/894.html#L1220' title='Defined at 1220 in cbench/openflow/lib/stp.c.'>stp_send_bpdu</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *, <b>const</b> <b>void</b> *, <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a>);
<a name='L214'> 214 
<a name='L215'> 215 <i><font color='green'>/* Creates and returns a new STP instance that initially has no ports enabled.</font></i>
<a name='L216'> 216 <i><font color='green'> *</font></i>
<a name='L217'> 217 <i><font color='green'> * 'bridge_id' should be a 48-bit MAC address as returned by</font></i>
<a name='L218'> 218 <i><font color='green'> * eth_addr_to_uint64().  'bridge_id' may also have a priority value in its top</font></i>
<a name='L219'> 219 <i><font color='green'> * 16 bits; if those bits are set to 0, STP_DEFAULT_BRIDGE_PRIORITY is used.</font></i>
<a name='L220'> 220 <i><font color='green'> * (This priority may be changed with stp_set_bridge_priority().)</font></i>
<a name='L221'> 221 <i><font color='green'> *</font></i>
<a name='L222'> 222 <i><font color='green'> * When the bridge needs to send out a BPDU, it calls 'send_bpdu'.  This</font></i>
<a name='L223'> 223 <i><font color='green'> * callback may be called from stp_tick() or stp_received_bpdu().  The</font></i>
<a name='L224'> 224 <i><font color='green'> * arguments to 'send_bpdu' are an STP BPDU encapsulated in </font></i>
<a name='L225'> 225 <i><font color='green'> */</font></i>
<a name='L226'> 226 <b>struct</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> *
<a name='L227'> 227 <a href='../R/4545.html' title='Multiple refered from 3 places.'>stp_create</a>(<b>const</b> <b>char</b> *<a href='../Y/4631.html' title='Multiple used in 221 places.'>name</a>, <a href='../Y/7064.html' title='Multiple used in 5 places.'>stp_identifier</a> <a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>,
<a name='L228'> 228            <b>void</b> (*<a href='../Y/6651.html' title='Multiple used in 2 places.'>send_bpdu</a>)(<b>struct</b> <a href='../Y/5376.html' title='Multiple used in 231 places.'>ofpbuf</a> *<a href='../Y/1658.html' title='Multiple used in 5 places.'>bpdu</a>, <b>int</b> <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>, <b>void</b> *<a href='../Y/1539.html' title='Multiple used in 86 places.'>aux</a>),
<a name='L229'> 229            <b>void</b> *<a href='../Y/1539.html' title='Multiple used in 86 places.'>aux</a>)
<a name='L230'> 230 <font color='red'>{</font>
<a name='L231'> 231     <b>struct</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> *<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>;
<a name='L232'> 232     <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L233'> 233 
<a name='L234'> 234     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> = <a href='../S/878.html#L51' title='Defined at 51 in cbench/openflow/lib/util.c.'>xcalloc</a>(1, <b>sizeof</b> *<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L235'> 235     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a> = <a href='../S/878.html#L98' title='Defined at 98 in cbench/openflow/lib/util.c.'>xstrdup</a>(<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>);
<a name='L236'> 236     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a> = <a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>;
<a name='L237'> 237     <b>if</b> (!(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a> &gt;&gt; 48)) <font color='red'>{</font>
<a name='L238'> 238         <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a> |= (<a href='../Y/7623.html' title='Multiple used in 568 places.'>uint64_t</a>) <a href='../S/897.html#L56' title='Defined at 56 in cbench/openflow/lib/stp.h.'>STP_DEFAULT_BRIDGE_PRIORITY</a> &lt;&lt; 48;
<a name='L239'> 239     <font color='red'>}</font>
<a name='L240'> 240 
<a name='L241'> 241     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6480.html' title='Multiple used in 4 places.'>rq_max_age</a> = 6000;
<a name='L242'> 242     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6478.html' title='Multiple used in 4 places.'>rq_hello_time</a> = 2000;
<a name='L243'> 243     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6476.html' title='Multiple used in 4 places.'>rq_forward_delay</a> = 4000;
<a name='L244'> 244     <a href='../S/894.html#L1200' title='Defined at 1200 in cbench/openflow/lib/stp.c.'>stp_update_bridge_timers</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L245'> 245     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1674.html' title='Multiple used in 7 places.'>bridge_max_age</a>;
<a name='L246'> 246     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3601.html' title='Multiple used in 9 places.'>hello_time</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1672.html' title='Multiple used in 8 places.'>bridge_hello_time</a>;
<a name='L247'> 247     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3203.html' title='Multiple used in 10 places.'>forward_delay</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1671.html' title='Multiple used in 7 places.'>bridge_forward_delay</a>;
<a name='L248'> 248 
<a name='L249'> 249     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>;
<a name='L250'> 250     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6463.html' title='Multiple used in 16 places.'>root_path_cost</a> = 0;
<a name='L251'> 251     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6464.html' title='Multiple used in 14 places.'>root_port</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L252'> 252     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7425.html' title='Multiple used in 7 places.'>topology_change_detected</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L253'> 253     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7423.html' title='Multiple used in 6 places.'>topology_change</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L254'> 254 
<a name='L255'> 255     <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7270.html' title='Multiple used in 9 places.'>tcn_timer</a>);
<a name='L256'> 256     <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7426.html' title='Multiple used in 5 places.'>topology_change_timer</a>);
<a name='L257'> 257     <a href='../S/894.html#L1144' title='Defined at 1144 in cbench/openflow/lib/stp.c.'>stp_start_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3602.html' title='Multiple used in 7 places.'>hello_timer</a>, 0);
<a name='L258'> 258 
<a name='L259'> 259     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../D/9478.html' title='Multiple defined in 2 places.'>send_bpdu</a> = <a href='../D/9478.html' title='Multiple defined in 2 places.'>send_bpdu</a>;
<a name='L260'> 260     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1539.html' title='Multiple used in 86 places.'>aux</a> = <a href='../Y/1539.html' title='Multiple used in 86 places.'>aux</a>;
<a name='L261'> 261 
<a name='L262'> 262     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3098.html' title='Multiple used in 7 places.'>first_changed_port</a> = &amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>[<a href='../S/840.html#L69' title='Defined at 69 in cbench/openflow/lib/util.h.'>ARRAY_SIZE</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>)];
<a name='L263'> 263     <b>for</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> &lt; &amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>[<a href='../S/840.html#L69' title='Defined at 69 in cbench/openflow/lib/util.h.'>ARRAY_SIZE</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>)]; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>++) <font color='red'>{</font>
<a name='L264'> 264         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>;
<a name='L265'> 265         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a> = (<a href='../S/894.html#L606' title='Defined at 606 in cbench/openflow/lib/stp.c.'>stp_port_no</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>) + 1) | (<a href='../S/897.html#L57' title='Defined at 57 in cbench/openflow/lib/stp.h.'>STP_DEFAULT_PORT_PRIORITY</a> &lt;&lt; 8);
<a name='L266'> 266         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5657.html' title='Multiple used in 15 places.'>path_cost</a> = 19;      <i><font color='green'>/* Recommended default for 100 Mb/s link. */</font></i>
<a name='L267'> 267         <a href='../S/894.html#L1118' title='Defined at 1118 in cbench/openflow/lib/stp.c.'>stp_initialize_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/897.html#L97' title='Defined at 97 in cbench/openflow/lib/stp.h.'>STP_DISABLED</a>);
<a name='L268'> 268     <font color='red'>}</font>
<a name='L269'> 269     <b>return</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>;
<a name='L270'> 270 <font color='red'>}</font>
<a name='L271'> 271 
<a name='L272'> 272 <i><font color='green'>/* Destroys 'stp'. */</font></i>
<a name='L273'> 273 <b>void</b>
<a name='L274'> 274 <a href='../S/897.html#L69' title='Refered from 69 in cbench/openflow/lib/stp.h.'>stp_destroy</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L275'> 275 <font color='red'>{</font>
<a name='L276'> 276     <a href='../Y/3233.html' title='Multiple used in 336 places.'>free</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L277'> 277 <font color='red'>}</font>
<a name='L278'> 278 
<a name='L279'> 279 <i><font color='green'>/* Runs 'stp' given that 'ms' milliseconds have passed. */</font></i>
<a name='L280'> 280 <b>void</b>
<a name='L281'> 281 <a href='../R/4612.html' title='Multiple refered from 3 places.'>stp_tick</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>, <b>int</b> <a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a>)
<a name='L282'> 282 <font color='red'>{</font>
<a name='L283'> 283     <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L284'> 284     <b>int</b> <a href='../Y/2636.html' title='Multiple used in 18 places.'>elapsed</a>;
<a name='L285'> 285 
<a name='L286'> 286     <i><font color='green'>/* Convert 'ms' to STP timer ticks.  Preserve any leftover milliseconds</font></i>
<a name='L287'> 287 <i><font color='green'>     * from previous stp_tick() calls so that we don't lose STP ticks when we</font></i>
<a name='L288'> 288 <i><font color='green'>     * are called too frequently. */</font></i>
<a name='L289'> 289     <a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a> = <a href='../D/7074.html' title='Multiple defined in 2 places.'>clamp</a>(<a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a>, 0, <a href='../Y/461.html' title='Multiple used in 21 places.'>INT_MAX</a> - 1000) + <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/2637.html' title='Multiple used in 3 places.'>elapsed_remainder</a>;
<a name='L290'> 290     <a href='../Y/2636.html' title='Multiple used in 18 places.'>elapsed</a> = <a href='../S/894.html#L1172' title='Defined at 1172 in cbench/openflow/lib/stp.c.'>ms_to_timer</a>(<a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a>);
<a name='L291'> 291     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/2637.html' title='Multiple used in 3 places.'>elapsed_remainder</a> = <a href='../S/894.html#L1180' title='Defined at 1180 in cbench/openflow/lib/stp.c.'>ms_to_timer_remainder</a>(<a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a>);
<a name='L292'> 292     <b>if</b> (!<a href='../Y/2636.html' title='Multiple used in 18 places.'>elapsed</a>) <font color='red'>{</font>
<a name='L293'> 293         <b>return</b>;
<a name='L294'> 294     <font color='red'>}</font>
<a name='L295'> 295 
<a name='L296'> 296     <b>if</b> (<a href='../S/894.html#L1157' title='Defined at 1157 in cbench/openflow/lib/stp.c.'>stp_timer_expired</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3602.html' title='Multiple used in 7 places.'>hello_timer</a>, <a href='../Y/2636.html' title='Multiple used in 18 places.'>elapsed</a>, <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3601.html' title='Multiple used in 9 places.'>hello_time</a>)) <font color='red'>{</font>
<a name='L297'> 297         <a href='../S/894.html#L1041' title='Defined at 1041 in cbench/openflow/lib/stp.c.'>stp_hello_timer_expiry</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L298'> 298     <font color='red'>}</font>
<a name='L299'> 299     <b>if</b> (<a href='../S/894.html#L1157' title='Defined at 1157 in cbench/openflow/lib/stp.c.'>stp_timer_expired</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7270.html' title='Multiple used in 9 places.'>tcn_timer</a>, <a href='../Y/2636.html' title='Multiple used in 18 places.'>elapsed</a>, <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1672.html' title='Multiple used in 8 places.'>bridge_hello_time</a>)) <font color='red'>{</font>
<a name='L300'> 300         <a href='../S/894.html#L1096' title='Defined at 1096 in cbench/openflow/lib/stp.c.'>stp_tcn_timer_expiry</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L301'> 301     <font color='red'>}</font>
<a name='L302'> 302     <b>if</b> (<a href='../S/894.html#L1157' title='Defined at 1157 in cbench/openflow/lib/stp.c.'>stp_timer_expired</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7426.html' title='Multiple used in 5 places.'>topology_change_timer</a>, <a href='../Y/2636.html' title='Multiple used in 18 places.'>elapsed</a>,
<a name='L303'> 303                           <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a> + <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3203.html' title='Multiple used in 10 places.'>forward_delay</a>)) <font color='red'>{</font>
<a name='L304'> 304         <a href='../S/894.html#L1103' title='Defined at 1103 in cbench/openflow/lib/stp.c.'>stp_topology_change_timer_expiry</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L305'> 305     <font color='red'>}</font>
<a name='L306'> 306     <a href='../S/894.html#L151' title='Defined at 151 in cbench/openflow/lib/stp.c.'>FOR_EACH_ENABLED_PORT</a> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>) <font color='red'>{</font>
<a name='L307'> 307         <b>if</b> (<a href='../S/894.html#L1157' title='Defined at 1157 in cbench/openflow/lib/stp.c.'>stp_timer_expired</a>(&amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/4428.html' title='Multiple used in 7 places.'>message_age_timer</a>, <a href='../Y/2636.html' title='Multiple used in 18 places.'>elapsed</a>, <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a>)) <font color='red'>{</font>
<a name='L308'> 308             <a href='../S/894.html#L1048' title='Defined at 1048 in cbench/openflow/lib/stp.c.'>stp_message_age_timer_expiry</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L309'> 309         <font color='red'>}</font>
<a name='L310'> 310     <font color='red'>}</font>
<a name='L311'> 311     <a href='../S/894.html#L151' title='Defined at 151 in cbench/openflow/lib/stp.c.'>FOR_EACH_ENABLED_PORT</a> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>) <font color='red'>{</font>
<a name='L312'> 312         <b>if</b> (<a href='../S/894.html#L1157' title='Defined at 1157 in cbench/openflow/lib/stp.c.'>stp_timer_expired</a>(&amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/3204.html' title='Multiple used in 7 places.'>forward_delay_timer</a>, <a href='../Y/2636.html' title='Multiple used in 18 places.'>elapsed</a>,
<a name='L313'> 313                               <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3203.html' title='Multiple used in 10 places.'>forward_delay</a>)) <font color='red'>{</font>
<a name='L314'> 314             <a href='../S/894.html#L1080' title='Defined at 1080 in cbench/openflow/lib/stp.c.'>stp_forward_delay_timer_expiry</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L315'> 315         <font color='red'>}</font>
<a name='L316'> 316         <b>if</b> (<a href='../S/894.html#L1157' title='Defined at 1157 in cbench/openflow/lib/stp.c.'>stp_timer_expired</a>(&amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/3647.html' title='Multiple used in 5 places.'>hold_timer</a>, <a href='../Y/2636.html' title='Multiple used in 18 places.'>elapsed</a>, <a href='../S/894.html#L1172' title='Defined at 1172 in cbench/openflow/lib/stp.c.'>ms_to_timer</a>(1000))) <font color='red'>{</font>
<a name='L317'> 317             <a href='../S/894.html#L1110' title='Defined at 1110 in cbench/openflow/lib/stp.c.'>stp_hold_timer_expiry</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L318'> 318         <font color='red'>}</font>
<a name='L319'> 319     <font color='red'>}</font>
<a name='L320'> 320 <font color='red'>}</font>
<a name='L321'> 321 
<a name='L322'> 322 <b>static</b> <b>void</b>
<a name='L323'> 323 <a href='../R/4423.html' title='Multiple refered from 2 places.'>set_bridge_id</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>, <a href='../Y/7064.html' title='Multiple used in 5 places.'>stp_identifier</a> <a href='../Y/4750.html' title='Multiple used in 4 places.'>new_bridge_id</a>)
<a name='L324'> 324 <font color='red'>{</font>
<a name='L325'> 325     <b>if</b> (<a href='../Y/4750.html' title='Multiple used in 4 places.'>new_bridge_id</a> != <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>) <font color='red'>{</font>
<a name='L326'> 326         <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>;
<a name='L327'> 327         <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L328'> 328 
<a name='L329'> 329         <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a> = <a href='../S/894.html#L418' title='Defined at 418 in cbench/openflow/lib/stp.c.'>stp_is_root_bridge</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L330'> 330         <a href='../S/894.html#L151' title='Defined at 151 in cbench/openflow/lib/stp.c.'>FOR_EACH_ENABLED_PORT</a> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>) <font color='red'>{</font>
<a name='L331'> 331             <b>if</b> (<a href='../S/894.html#L795' title='Defined at 795 in cbench/openflow/lib/stp.c.'>stp_is_designated_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L332'> 332                 <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a> = <a href='../Y/4750.html' title='Multiple used in 4 places.'>new_bridge_id</a>;
<a name='L333'> 333             <font color='red'>}</font>
<a name='L334'> 334         <font color='red'>}</font>
<a name='L335'> 335         <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a> = <a href='../Y/4750.html' title='Multiple used in 4 places.'>new_bridge_id</a>;
<a name='L336'> 336         <a href='../S/894.html#L828' title='Defined at 828 in cbench/openflow/lib/stp.c.'>stp_configuration_update</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L337'> 337         <a href='../S/894.html#L909' title='Defined at 909 in cbench/openflow/lib/stp.c.'>stp_port_state_selection</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L338'> 338         <b>if</b> (<a href='../S/894.html#L418' title='Defined at 418 in cbench/openflow/lib/stp.c.'>stp_is_root_bridge</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>) &amp;&amp; !<a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>) <font color='red'>{</font>
<a name='L339'> 339             <a href='../S/894.html#L1132' title='Defined at 1132 in cbench/openflow/lib/stp.c.'>stp_become_root_bridge</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L340'> 340         <font color='red'>}</font>
<a name='L341'> 341     <font color='red'>}</font>
<a name='L342'> 342 <font color='red'>}</font>
<a name='L343'> 343 
<a name='L344'> 344 <b>void</b>
<a name='L345'> 345 <a href='../R/4597.html' title='Multiple refered from 2 places.'>stp_set_bridge_id</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>, <a href='../Y/7064.html' title='Multiple used in 5 places.'>stp_identifier</a> <a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>)
<a name='L346'> 346 <font color='red'>{</font>
<a name='L347'> 347     <b>const</b> <a href='../Y/7623.html' title='Multiple used in 568 places.'>uint64_t</a> <a href='../Y/4301.html' title='Multiple used in 5 places.'>mac_bits</a> = (<a href='../Y/986.html' title='Multiple used in 6 places.'>UINT64_C</a>(1) &lt;&lt; 48) - 1;
<a name='L348'> 348     <b>const</b> <a href='../Y/7623.html' title='Multiple used in 568 places.'>uint64_t</a> <a href='../Y/5890.html' title='Multiple used in 2 places.'>pri_bits</a> = ~<a href='../Y/4301.html' title='Multiple used in 5 places.'>mac_bits</a>;
<a name='L349'> 349     <a href='../S/894.html#L323' title='Defined at 323 in cbench/openflow/lib/stp.c.'>set_bridge_id</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>, (<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a> &amp; <a href='../Y/5890.html' title='Multiple used in 2 places.'>pri_bits</a>) | (<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a> &amp; <a href='../Y/4301.html' title='Multiple used in 5 places.'>mac_bits</a>));
<a name='L350'> 350 <font color='red'>}</font>
<a name='L351'> 351 
<a name='L352'> 352 <b>void</b>
<a name='L353'> 353 <a href='../R/4598.html' title='Multiple refered from 2 places.'>stp_set_bridge_priority</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>, <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/4776.html' title='Multiple used in 6 places.'>new_priority</a>)
<a name='L354'> 354 <font color='red'>{</font>
<a name='L355'> 355     <b>const</b> <a href='../Y/7623.html' title='Multiple used in 568 places.'>uint64_t</a> <a href='../Y/4301.html' title='Multiple used in 5 places.'>mac_bits</a> = (<a href='../Y/986.html' title='Multiple used in 6 places.'>UINT64_C</a>(1) &lt;&lt; 48) - 1;
<a name='L356'> 356     <a href='../S/894.html#L323' title='Defined at 323 in cbench/openflow/lib/stp.c.'>set_bridge_id</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>, ((<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a> &amp; <a href='../Y/4301.html' title='Multiple used in 5 places.'>mac_bits</a>)
<a name='L357'> 357                         | ((<a href='../Y/7623.html' title='Multiple used in 568 places.'>uint64_t</a>) <a href='../Y/4776.html' title='Multiple used in 6 places.'>new_priority</a> &lt;&lt; 48)));
<a name='L358'> 358 <font color='red'>}</font>
<a name='L359'> 359 
<a name='L360'> 360 <i><font color='green'>/* Sets the desired hello time for 'stp' to 'ms', in milliseconds.  The actual</font></i>
<a name='L361'> 361 <i><font color='green'> * hello time is clamped to the range of 1 to 10 seconds and subject to the</font></i>
<a name='L362'> 362 <i><font color='green'> * relationship (bridge_max_age &gt;= 2 * (bridge_hello_time + 1 s)).  The bridge</font></i>
<a name='L363'> 363 <i><font color='green'> * hello time is only used when 'stp' is the root bridge. */</font></i>
<a name='L364'> 364 <b>void</b>
<a name='L365'> 365 <a href='../S/897.html#L73' title='Refered from 73 in cbench/openflow/lib/stp.h.'>stp_set_hello_time</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>, <b>int</b> <a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a>)
<a name='L366'> 366 <font color='red'>{</font>
<a name='L367'> 367     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6478.html' title='Multiple used in 4 places.'>rq_hello_time</a> = <a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a>;
<a name='L368'> 368     <a href='../S/894.html#L1200' title='Defined at 1200 in cbench/openflow/lib/stp.c.'>stp_update_bridge_timers</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L369'> 369 <font color='red'>}</font>
<a name='L370'> 370 
<a name='L371'> 371 <i><font color='green'>/* Sets the desired max age for 'stp' to 'ms', in milliseconds.  The actual max</font></i>
<a name='L372'> 372 <i><font color='green'> * age is clamped to the range of 6 to 40 seconds and subject to the</font></i>
<a name='L373'> 373 <i><font color='green'> * relationships (2 * (bridge_forward_delay - 1 s) &gt;= bridge_max_age) and</font></i>
<a name='L374'> 374 <i><font color='green'> * (bridge_max_age &gt;= 2 * (bridge_hello_time + 1 s)).  The bridge max age is</font></i>
<a name='L375'> 375 <i><font color='green'> * only used when 'stp' is the root bridge. */</font></i>
<a name='L376'> 376 <b>void</b>
<a name='L377'> 377 <a href='../S/897.html#L74' title='Refered from 74 in cbench/openflow/lib/stp.h.'>stp_set_max_age</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>, <b>int</b> <a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a>)
<a name='L378'> 378 <font color='red'>{</font>
<a name='L379'> 379     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6480.html' title='Multiple used in 4 places.'>rq_max_age</a> = <a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a>;
<a name='L380'> 380     <a href='../S/894.html#L1200' title='Defined at 1200 in cbench/openflow/lib/stp.c.'>stp_update_bridge_timers</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L381'> 381 <font color='red'>}</font>
<a name='L382'> 382 
<a name='L383'> 383 <i><font color='green'>/* Sets the desired forward delay for 'stp' to 'ms', in milliseconds.  The</font></i>
<a name='L384'> 384 <i><font color='green'> * actual forward delay is clamped to the range of 4 to 30 seconds and subject</font></i>
<a name='L385'> 385 <i><font color='green'> * to the relationship (2 * (bridge_forward_delay - 1 s) &gt;= bridge_max_age).</font></i>
<a name='L386'> 386 <i><font color='green'> * The bridge forward delay is only used when 'stp' is the root bridge. */</font></i>
<a name='L387'> 387 <b>void</b>
<a name='L388'> 388 <a href='../S/897.html#L75' title='Refered from 75 in cbench/openflow/lib/stp.h.'>stp_set_forward_delay</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>, <b>int</b> <a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a>)
<a name='L389'> 389 <font color='red'>{</font>
<a name='L390'> 390     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6476.html' title='Multiple used in 4 places.'>rq_forward_delay</a> = <a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a>;
<a name='L391'> 391     <a href='../S/894.html#L1200' title='Defined at 1200 in cbench/openflow/lib/stp.c.'>stp_update_bridge_timers</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L392'> 392 <font color='red'>}</font>
<a name='L393'> 393 
<a name='L394'> 394 <i><font color='green'>/* Returns the name given to 'stp' in the call to stp_create(). */</font></i>
<a name='L395'> 395 <b>const</b> <b>char</b> *
<a name='L396'> 396 <a href='../R/4557.html' title='Multiple refered from 13 places.'>stp_get_name</a>(<b>const</b> <b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L397'> 397 <font color='red'>{</font>
<a name='L398'> 398     <b>return</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>;
<a name='L399'> 399 <font color='red'>}</font>
<a name='L400'> 400 
<a name='L401'> 401 <i><font color='green'>/* Returns the bridge ID for 'stp'. */</font></i>
<a name='L402'> 402 <a href='../S/897.html#L61' title='Defined at 61 in cbench/openflow/lib/stp.h.'>stp_identifier</a>
<a name='L403'> 403 <a href='../R/4551.html' title='Multiple refered from 2 places.'>stp_get_bridge_id</a>(<b>const</b> <b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L404'> 404 <font color='red'>{</font>
<a name='L405'> 405     <b>return</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>;
<a name='L406'> 406 <font color='red'>}</font>
<a name='L407'> 407 
<a name='L408'> 408 <i><font color='green'>/* Returns the bridge ID of the bridge currently believed to be the root. */</font></i>
<a name='L409'> 409 <a href='../S/897.html#L61' title='Defined at 61 in cbench/openflow/lib/stp.h.'>stp_identifier</a>
<a name='L410'> 410 <a href='../R/4553.html' title='Multiple refered from 4 places.'>stp_get_designated_root</a>(<b>const</b> <b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L411'> 411 <font color='red'>{</font>
<a name='L412'> 412     <b>return</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a>;
<a name='L413'> 413 <font color='red'>}</font>
<a name='L414'> 414 
<a name='L415'> 415 <i><font color='green'>/* Returns true if 'stp' believes itself to the be root of the spanning tree,</font></i>
<a name='L416'> 416 <i><font color='green'> * false otherwise. */</font></i>
<a name='L417'> 417 <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a>
<a name='L418'> 418 <a href='../R/4568.html' title='Multiple refered from 15 places.'>stp_is_root_bridge</a>(<b>const</b> <b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L419'> 419 <font color='red'>{</font>
<a name='L420'> 420     <b>return</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a> == <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a>;
<a name='L421'> 421 <font color='red'>}</font>
<a name='L422'> 422 
<a name='L423'> 423 <i><font color='green'>/* Returns the cost of the path from 'stp' to the root of the spanning tree. */</font></i>
<a name='L424'> 424 <b>int</b>
<a name='L425'> 425 <a href='../R/4559.html' title='Multiple refered from 6 places.'>stp_get_root_path_cost</a>(<b>const</b> <b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L426'> 426 <font color='red'>{</font>
<a name='L427'> 427     <b>return</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6463.html' title='Multiple used in 16 places.'>root_path_cost</a>;
<a name='L428'> 428 <font color='red'>}</font>
<a name='L429'> 429 
<a name='L430'> 430 <i><font color='green'>/* Returns the bridge hello time, in ms.  The returned value is not necessarily</font></i>
<a name='L431'> 431 <i><font color='green'> * the value passed to stp_set_hello_time(): it is clamped to the valid range</font></i>
<a name='L432'> 432 <i><font color='green'> * and quantized to the STP timer resolution.  */</font></i>
<a name='L433'> 433 <b>int</b>
<a name='L434'> 434 <a href='../S/897.html#L83' title='Refered from 83 in cbench/openflow/lib/stp.h.'>stp_get_hello_time</a>(<b>const</b> <b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L435'> 435 <font color='red'>{</font>
<a name='L436'> 436     <b>return</b> <a href='../S/894.html#L1188' title='Defined at 1188 in cbench/openflow/lib/stp.c.'>timer_to_ms</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1672.html' title='Multiple used in 8 places.'>bridge_hello_time</a>);
<a name='L437'> 437 <font color='red'>}</font>
<a name='L438'> 438 
<a name='L439'> 439 <i><font color='green'>/* Returns the bridge max age, in ms.  The returned value is not necessarily</font></i>
<a name='L440'> 440 <i><font color='green'> * the value passed to stp_set_max_age(): it is clamped to the valid range,</font></i>
<a name='L441'> 441 <i><font color='green'> * quantized to the STP timer resolution, and adjusted to match the constraints</font></i>
<a name='L442'> 442 <i><font color='green'> * due to the hello time.  */</font></i>
<a name='L443'> 443 <b>int</b>
<a name='L444'> 444 <a href='../S/897.html#L84' title='Refered from 84 in cbench/openflow/lib/stp.h.'>stp_get_max_age</a>(<b>const</b> <b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L445'> 445 <font color='red'>{</font>
<a name='L446'> 446     <b>return</b> <a href='../S/894.html#L1188' title='Defined at 1188 in cbench/openflow/lib/stp.c.'>timer_to_ms</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1674.html' title='Multiple used in 7 places.'>bridge_max_age</a>);
<a name='L447'> 447 <font color='red'>}</font>
<a name='L448'> 448 
<a name='L449'> 449 <i><font color='green'>/* Returns the bridge forward delay, in ms.  The returned value is not</font></i>
<a name='L450'> 450 <i><font color='green'> * necessarily the value passed to stp_set_forward_delay(): it is clamped to</font></i>
<a name='L451'> 451 <i><font color='green'> * the valid range, quantized to the STP timer resolution, and adjusted to</font></i>
<a name='L452'> 452 <i><font color='green'> * match the constraints due to the forward delay.  */</font></i>
<a name='L453'> 453 <b>int</b>
<a name='L454'> 454 <a href='../S/897.html#L85' title='Refered from 85 in cbench/openflow/lib/stp.h.'>stp_get_forward_delay</a>(<b>const</b> <b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L455'> 455 <font color='red'>{</font>
<a name='L456'> 456     <b>return</b> <a href='../S/894.html#L1188' title='Defined at 1188 in cbench/openflow/lib/stp.c.'>timer_to_ms</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1671.html' title='Multiple used in 7 places.'>bridge_forward_delay</a>);
<a name='L457'> 457 <font color='red'>}</font>
<a name='L458'> 458 
<a name='L459'> 459 <i><font color='green'>/* Returns the port in 'stp' with index 'port_no', which must be between 0 and</font></i>
<a name='L460'> 460 <i><font color='green'> * STP_MAX_PORTS. */</font></i>
<a name='L461'> 461 <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *
<a name='L462'> 462 <a href='../R/4558.html' title='Multiple refered from 10 places.'>stp_get_port</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>, <b>int</b> <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>)
<a name='L463'> 463 <font color='red'>{</font>
<a name='L464'> 464     <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> &gt;= 0 &amp;&amp; <a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a> &lt; <a href='../S/840.html#L69' title='Defined at 69 in cbench/openflow/lib/util.h.'>ARRAY_SIZE</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>));
<a name='L465'> 465     <b>return</b> &amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>[<a href='../Y/5822.html' title='Multiple used in 265 places.'>port_no</a>];
<a name='L466'> 466 <font color='red'>}</font>
<a name='L467'> 467 
<a name='L468'> 468 <i><font color='green'>/* Returns the port connecting 'stp' to the root bridge, or a null pointer if</font></i>
<a name='L469'> 469 <i><font color='green'> * there is no such port. */</font></i>
<a name='L470'> 470 <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *
<a name='L471'> 471 <a href='../R/4560.html' title='Multiple refered from 3 places.'>stp_get_root_port</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L472'> 472 <font color='red'>{</font>
<a name='L473'> 473     <b>return</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6464.html' title='Multiple used in 14 places.'>root_port</a>;
<a name='L474'> 474 <font color='red'>}</font>
<a name='L475'> 475 
<a name='L476'> 476 <i><font color='green'>/* Finds a port whose state has changed.  If successful, stores the port whose</font></i>
<a name='L477'> 477 <i><font color='green'> * state changed in '*portp' and returns true.  If no port has changed, stores</font></i>
<a name='L478'> 478 <i><font color='green'> * NULL in '*portp' and returns false. */</font></i>
<a name='L479'> 479 <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a>
<a name='L480'> 480 <a href='../R/4552.html' title='Multiple refered from 2 places.'>stp_get_changed_port</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>, <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> **<a href='../Y/5840.html' title='Multiple used in 4 places.'>portp</a>)
<a name='L481'> 481 <font color='red'>{</font>
<a name='L482'> 482     <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *<a href='../Y/2677.html' title='Multiple used in 62 places.'>end</a> = &amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>[<a href='../S/840.html#L69' title='Defined at 69 in cbench/openflow/lib/util.h.'>ARRAY_SIZE</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>)];
<a name='L483'> 483     <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L484'> 484 
<a name='L485'> 485     <b>for</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3098.html' title='Multiple used in 7 places.'>first_changed_port</a>; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> &lt; <a href='../Y/2677.html' title='Multiple used in 62 places.'>end</a>; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>++) <font color='red'>{</font>
<a name='L486'> 486         <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/7016.html' title='Multiple used in 5 places.'>state_changed</a>) <font color='red'>{</font>
<a name='L487'> 487             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/7016.html' title='Multiple used in 5 places.'>state_changed</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L488'> 488             <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3098.html' title='Multiple used in 7 places.'>first_changed_port</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> + 1;
<a name='L489'> 489             *<a href='../Y/5840.html' title='Multiple used in 4 places.'>portp</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L490'> 490             <b>return</b> <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>;
<a name='L491'> 491         <font color='red'>}</font>
<a name='L492'> 492     <font color='red'>}</font>
<a name='L493'> 493     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3098.html' title='Multiple used in 7 places.'>first_changed_port</a> = <a href='../Y/2677.html' title='Multiple used in 62 places.'>end</a>;
<a name='L494'> 494     *<a href='../Y/5840.html' title='Multiple used in 4 places.'>portp</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L495'> 495     <b>return</b> <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L496'> 496 <font color='red'>}</font>
<a name='L497'> 497 
<a name='L498'> 498 <i><font color='green'>/* Returns the name for the given 'state' (for use in debugging and log</font></i>
<a name='L499'> 499 <i><font color='green'> * messages). */</font></i>
<a name='L500'> 500 <b>const</b> <b>char</b> *
<a name='L501'> 501 <a href='../R/4606.html' title='Multiple refered from 6 places.'>stp_state_name</a>(<b>enum</b> <a href='../Y/7066.html' title='Multiple used in 10 places.'>stp_state</a> <a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>)
<a name='L502'> 502 <font color='red'>{</font>
<a name='L503'> 503     <b>switch</b> (<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>) <font color='red'>{</font>
<a name='L504'> 504     <b>case</b> <a href='../S/897.html#L97' title='Defined at 97 in cbench/openflow/lib/stp.h.'>STP_DISABLED</a>:
<a name='L505'> 505         <b>return</b> "disabled";
<a name='L506'> 506     <b>case</b> <a href='../S/897.html#L98' title='Defined at 98 in cbench/openflow/lib/stp.h.'>STP_LISTENING</a>:
<a name='L507'> 507         <b>return</b> "listening";
<a name='L508'> 508     <b>case</b> <a href='../S/897.html#L99' title='Defined at 99 in cbench/openflow/lib/stp.h.'>STP_LEARNING</a>:
<a name='L509'> 509         <b>return</b> "learning";
<a name='L510'> 510     <b>case</b> <a href='../S/897.html#L100' title='Defined at 100 in cbench/openflow/lib/stp.h.'>STP_FORWARDING</a>:
<a name='L511'> 511         <b>return</b> "forwarding";
<a name='L512'> 512     <b>case</b> <a href='../S/897.html#L101' title='Defined at 101 in cbench/openflow/lib/stp.h.'>STP_BLOCKING</a>:
<a name='L513'> 513         <b>return</b> "blocking";
<a name='L514'> 514     <b>default</b>:
<a name='L515'> 515         <a href='../S/840.html#L82' title='Defined at 82 in cbench/openflow/lib/util.h.'>NOT_REACHED</a>();
<a name='L516'> 516     <font color='red'>}</font>
<a name='L517'> 517 <font color='red'>}</font>
<a name='L518'> 518 
<a name='L519'> 519 <i><font color='green'>/* Returns true if 'state' is one in which packets received on a port should</font></i>
<a name='L520'> 520 <i><font color='green'> * be forwarded, false otherwise.</font></i>
<a name='L521'> 521 <i><font color='green'> *</font></i>
<a name='L522'> 522 <i><font color='green'> * Returns true if 'state' is STP_DISABLED, since presumably in that case the</font></i>
<a name='L523'> 523 <i><font color='green'> * port should still work, just not have STP applied to it. */</font></i>
<a name='L524'> 524 <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a>
<a name='L525'> 525 <a href='../R/4550.html' title='Multiple refered from 2 places.'>stp_forward_in_state</a>(<b>enum</b> <a href='../Y/7066.html' title='Multiple used in 10 places.'>stp_state</a> <a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>)
<a name='L526'> 526 <font color='red'>{</font>
<a name='L527'> 527     <b>return</b> (<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> &amp; (<a href='../S/897.html#L97' title='Defined at 97 in cbench/openflow/lib/stp.h.'>STP_DISABLED</a> | <a href='../S/897.html#L100' title='Defined at 100 in cbench/openflow/lib/stp.h.'>STP_FORWARDING</a>)) != 0;
<a name='L528'> 528 <font color='red'>}</font>
<a name='L529'> 529 
<a name='L530'> 530 <i><font color='green'>/* Returns true if 'state' is one in which MAC learning should be done on</font></i>
<a name='L531'> 531 <i><font color='green'> * packets received on a port, false otherwise.</font></i>
<a name='L532'> 532 <i><font color='green'> *</font></i>
<a name='L533'> 533 <i><font color='green'> * Returns true if 'state' is STP_DISABLED, since presumably in that case the</font></i>
<a name='L534'> 534 <i><font color='green'> * port should still work, just not have STP applied to it. */</font></i>
<a name='L535'> 535 <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a>
<a name='L536'> 536 <a href='../S/897.html#L105' title='Refered from 105 in cbench/openflow/lib/stp.h.'>stp_learn_in_state</a>(<b>enum</b> <a href='../Y/7066.html' title='Multiple used in 10 places.'>stp_state</a> <a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>)
<a name='L537'> 537 <font color='red'>{</font>
<a name='L538'> 538     <b>return</b> (<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> &amp; (<a href='../S/897.html#L97' title='Defined at 97 in cbench/openflow/lib/stp.h.'>STP_DISABLED</a> | <a href='../S/897.html#L99' title='Defined at 99 in cbench/openflow/lib/stp.h.'>STP_LEARNING</a> | <a href='../S/897.html#L100' title='Defined at 100 in cbench/openflow/lib/stp.h.'>STP_FORWARDING</a>)) != 0;
<a name='L539'> 539 <font color='red'>}</font>
<a name='L540'> 540 
<a name='L541'> 541 <i><font color='green'>/* Notifies the STP entity that bridge protocol data unit 'bpdu', which is</font></i>
<a name='L542'> 542 <i><font color='green'> * 'bpdu_size' bytes in length, was received on port 'p'.</font></i>
<a name='L543'> 543 <i><font color='green'> *</font></i>
<a name='L544'> 544 <i><font color='green'> * This function may call the 'send_bpdu' function provided to stp_create(). */</font></i>
<a name='L545'> 545 <b>void</b>
<a name='L546'> 546 <a href='../R/4590.html' title='Multiple refered from 3 places.'>stp_received_bpdu</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <b>const</b> <b>void</b> *<a href='../Y/1658.html' title='Multiple used in 5 places.'>bpdu</a>, <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/1659.html' title='Multiple used in 11 places.'>bpdu_size</a>)
<a name='L547'> 547 <font color='red'>{</font>
<a name='L548'> 548     <b>struct</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> *<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>;
<a name='L549'> 549     <b>const</b> <b>struct</b> <a href='../S/894.html#L59' title='Defined at 59 in cbench/openflow/lib/stp.c.'>stp_bpdu_header</a> *<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>;
<a name='L550'> 550 
<a name='L551'> 551     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> == <a href='../S/897.html#L97' title='Defined at 97 in cbench/openflow/lib/stp.h.'>STP_DISABLED</a>) <font color='red'>{</font>
<a name='L552'> 552         <b>return</b>;
<a name='L553'> 553     <font color='red'>}</font>
<a name='L554'> 554 
<a name='L555'> 555     <b>if</b> (<a href='../Y/1659.html' title='Multiple used in 11 places.'>bpdu_size</a> &lt; <b>sizeof</b>(<b>struct</b> <a href='../S/894.html#L59' title='Defined at 59 in cbench/openflow/lib/stp.c.'>stp_bpdu_header</a>)) <font color='red'>{</font>
<a name='L556'> 556         <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("%s: received runt %zu-byte BPDU", <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/1659.html' title='Multiple used in 11 places.'>bpdu_size</a>);
<a name='L557'> 557         <b>return</b>;
<a name='L558'> 558     <font color='red'>}</font>
<a name='L559'> 559 
<a name='L560'> 560     <a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a> = <a href='../S/252.html#L44' title='Defined at 44 in cbench/openflow/tests/test-stp.c.'>bpdu</a>;
<a name='L561'> 561     <b>if</b> (<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>-&gt;<a href='../Y/6105.html' title='Multiple used in 5 places.'>protocol_id</a> != <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../S/894.html#L54' title='Defined at 54 in cbench/openflow/lib/stp.c.'>STP_PROTOCOL_ID</a>)) <font color='red'>{</font>
<a name='L562'> 562         <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("%s: received BPDU with unexpected protocol ID %"<a href='../Y/697.html' title='Multiple used in 38 places.'>PRIu16</a>,
<a name='L563'> 563                   <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>-&gt;<a href='../Y/6105.html' title='Multiple used in 5 places.'>protocol_id</a>));
<a name='L564'> 564         <b>return</b>;
<a name='L565'> 565     <font color='red'>}</font>
<a name='L566'> 566     <b>if</b> (<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>-&gt;<a href='../Y/6108.html' title='Multiple used in 5 places.'>protocol_version</a> != <a href='../S/894.html#L55' title='Defined at 55 in cbench/openflow/lib/stp.c.'>STP_PROTOCOL_VERSION</a>) <font color='red'>{</font>
<a name='L567'> 567         <a href='../S/859.html#L153' title='Defined at 153 in cbench/openflow/lib/vlog.h.'>VLOG_DBG</a>("%s: received BPDU with unexpected protocol version %"<a href='../Y/700.html' title='Multiple used in 19 places.'>PRIu8</a>,
<a name='L568'> 568                  <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>-&gt;<a href='../Y/6108.html' title='Multiple used in 5 places.'>protocol_version</a>);
<a name='L569'> 569     <font color='red'>}</font>
<a name='L570'> 570 
<a name='L571'> 571     <b>switch</b> (<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>-&gt;<a href='../Y/1660.html' title='Multiple used in 5 places.'>bpdu_type</a>) <font color='red'>{</font>
<a name='L572'> 572     <b>case</b> <a href='../S/894.html#L56' title='Defined at 56 in cbench/openflow/lib/stp.c.'>STP_TYPE_CONFIG</a>:
<a name='L573'> 573         <b>if</b> (<a href='../Y/1659.html' title='Multiple used in 11 places.'>bpdu_size</a> &lt; <b>sizeof</b>(<b>struct</b> <a href='../S/894.html#L71' title='Defined at 71 in cbench/openflow/lib/stp.c.'>stp_config_bpdu</a>)) <font color='red'>{</font>
<a name='L574'> 574             <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("%s: received config BPDU with invalid size %zu",
<a name='L575'> 575                       <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/1659.html' title='Multiple used in 11 places.'>bpdu_size</a>);
<a name='L576'> 576             <b>return</b>;
<a name='L577'> 577         <font color='red'>}</font>
<a name='L578'> 578         <a href='../S/894.html#L992' title='Defined at 992 in cbench/openflow/lib/stp.c.'>stp_received_config_bpdu</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/252.html#L44' title='Defined at 44 in cbench/openflow/tests/test-stp.c.'>bpdu</a>);
<a name='L579'> 579         <b>break</b>;
<a name='L580'> 580 
<a name='L581'> 581     <b>case</b> <a href='../S/894.html#L57' title='Defined at 57 in cbench/openflow/lib/stp.c.'>STP_TYPE_TCN</a>:
<a name='L582'> 582         <b>if</b> (<a href='../Y/1659.html' title='Multiple used in 11 places.'>bpdu_size</a> != <b>sizeof</b>(<b>struct</b> <a href='../S/894.html#L85' title='Defined at 85 in cbench/openflow/lib/stp.c.'>stp_tcn_bpdu</a>)) <font color='red'>{</font>
<a name='L583'> 583             <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("%s: received TCN BPDU with invalid size %zu",
<a name='L584'> 584                       <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/1659.html' title='Multiple used in 11 places.'>bpdu_size</a>);
<a name='L585'> 585             <b>return</b>;
<a name='L586'> 586         <font color='red'>}</font>
<a name='L587'> 587         <a href='../S/894.html#L1030' title='Defined at 1030 in cbench/openflow/lib/stp.c.'>stp_received_tcn_bpdu</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L588'> 588         <b>break</b>;
<a name='L589'> 589 
<a name='L590'> 590     <b>default</b>:
<a name='L591'> 591         <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("%s: received BPDU of unexpected type %"<a href='../Y/700.html' title='Multiple used in 19 places.'>PRIu8</a>,
<a name='L592'> 592                   <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>, <a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>-&gt;<a href='../Y/1660.html' title='Multiple used in 5 places.'>bpdu_type</a>);
<a name='L593'> 593         <b>return</b>;
<a name='L594'> 594     <font color='red'>}</font>
<a name='L595'> 595 <font color='red'>}</font>
<a name='L596'> 596 
<a name='L597'> 597 <i><font color='green'>/* Returns the STP entity in which 'p' is nested. */</font></i>
<a name='L598'> 598 <b>struct</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> *
<a name='L599'> 599 <a href='../S/897.html#L109' title='Refered from 109 in cbench/openflow/lib/stp.h.'>stp_port_get_stp</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L600'> 600 <font color='red'>{</font>
<a name='L601'> 601     <b>return</b> <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>;
<a name='L602'> 602 <font color='red'>}</font>
<a name='L603'> 603 
<a name='L604'> 604 <i><font color='green'>/* Returns the index of port 'p' within its bridge. */</font></i>
<a name='L605'> 605 <b>int</b>
<a name='L606'> 606 <a href='../R/4585.html' title='Multiple refered from 5 places.'>stp_port_no</a>(<b>const</b> <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L607'> 607 <font color='red'>{</font>
<a name='L608'> 608     <b>struct</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> *<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>;
<a name='L609'> 609     <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> &gt;= <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a> &amp;&amp; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> &lt; &amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>[<a href='../S/840.html#L69' title='Defined at 69 in cbench/openflow/lib/util.h.'>ARRAY_SIZE</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>)]);
<a name='L610'> 610     <b>return</b> <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> - <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/5841.html' title='Multiple used in 64 places.'>ports</a>;
<a name='L611'> 611 <font color='red'>}</font>
<a name='L612'> 612 
<a name='L613'> 613 <i><font color='green'>/* Returns the state of port 'p'. */</font></i>
<a name='L614'> 614 <b>enum</b> <a href='../S/897.html#L96' title='Defined at 96 in cbench/openflow/lib/stp.h.'>stp_state</a>
<a name='L615'> 615 <a href='../R/4583.html' title='Multiple refered from 7 places.'>stp_port_get_state</a>(<b>const</b> <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L616'> 616 <font color='red'>{</font>
<a name='L617'> 617     <b>return</b> <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>;
<a name='L618'> 618 <font color='red'>}</font>
<a name='L619'> 619 
<a name='L620'> 620 <i><font color='green'>/* Disables STP on port 'p'. */</font></i>
<a name='L621'> 621 <b>void</b>
<a name='L622'> 622 <a href='../R/4579.html' title='Multiple refered from 3 places.'>stp_port_disable</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L623'> 623 <font color='red'>{</font>
<a name='L624'> 624     <b>struct</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> *<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>;
<a name='L625'> 625     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> != <a href='../S/897.html#L97' title='Defined at 97 in cbench/openflow/lib/stp.h.'>STP_DISABLED</a>) <font color='red'>{</font>
<a name='L626'> 626         <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a> = <a href='../S/894.html#L418' title='Defined at 418 in cbench/openflow/lib/stp.c.'>stp_is_root_bridge</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L627'> 627         <a href='../S/894.html#L899' title='Defined at 899 in cbench/openflow/lib/stp.c.'>stp_become_designated_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L628'> 628         <a href='../S/894.html#L953' title='Defined at 953 in cbench/openflow/lib/stp.c.'>stp_set_port_state</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/897.html#L97' title='Defined at 97 in cbench/openflow/lib/stp.h.'>STP_DISABLED</a>);
<a name='L629'> 629         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/7424.html' title='Multiple used in 8 places.'>topology_change_ack</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L630'> 630         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2061.html' title='Multiple used in 8 places.'>config_pending</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L631'> 631         <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(&amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/4428.html' title='Multiple used in 7 places.'>message_age_timer</a>);
<a name='L632'> 632         <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(&amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/3204.html' title='Multiple used in 7 places.'>forward_delay_timer</a>);
<a name='L633'> 633         <a href='../S/894.html#L828' title='Defined at 828 in cbench/openflow/lib/stp.c.'>stp_configuration_update</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L634'> 634         <a href='../S/894.html#L909' title='Defined at 909 in cbench/openflow/lib/stp.c.'>stp_port_state_selection</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L635'> 635         <b>if</b> (<a href='../S/894.html#L418' title='Defined at 418 in cbench/openflow/lib/stp.c.'>stp_is_root_bridge</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>) &amp;&amp; !<a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>) <font color='red'>{</font>
<a name='L636'> 636             <a href='../S/894.html#L1132' title='Defined at 1132 in cbench/openflow/lib/stp.c.'>stp_become_root_bridge</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L637'> 637         <font color='red'>}</font>
<a name='L638'> 638     <font color='red'>}</font>
<a name='L639'> 639 <font color='red'>}</font>
<a name='L640'> 640 
<a name='L641'> 641 <i><font color='green'>/* Enables STP on port 'p'.  The port will initially be in "blocking" state. */</font></i>
<a name='L642'> 642 <b>void</b>
<a name='L643'> 643 <a href='../R/4581.html' title='Multiple refered from 4 places.'>stp_port_enable</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L644'> 644 <font color='red'>{</font>
<a name='L645'> 645     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> == <a href='../S/897.html#L97' title='Defined at 97 in cbench/openflow/lib/stp.h.'>STP_DISABLED</a>) <font color='red'>{</font>
<a name='L646'> 646         <a href='../S/894.html#L1118' title='Defined at 1118 in cbench/openflow/lib/stp.c.'>stp_initialize_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/897.html#L101' title='Defined at 101 in cbench/openflow/lib/stp.h.'>STP_BLOCKING</a>);
<a name='L647'> 647         <a href='../S/894.html#L909' title='Defined at 909 in cbench/openflow/lib/stp.c.'>stp_port_state_selection</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L648'> 648     <font color='red'>}</font>
<a name='L649'> 649 <font color='red'>}</font>
<a name='L650'> 650 
<a name='L651'> 651 <i><font color='green'>/* Sets the priority of port 'p' to 'new_priority'.  Lower numerical values</font></i>
<a name='L652'> 652 <i><font color='green'> * are interpreted as higher priorities. */</font></i>
<a name='L653'> 653 <b>void</b>
<a name='L654'> 654 <a href='../R/4587.html' title='Multiple refered from 2 places.'>stp_port_set_priority</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../Y/7625.html' title='Multiple used in 747 places.'>uint8_t</a> <a href='../Y/4776.html' title='Multiple used in 6 places.'>new_priority</a>)
<a name='L655'> 655 <font color='red'>{</font>
<a name='L656'> 656     <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/4773.html' title='Multiple used in 4 places.'>new_port_id</a> = (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a> &amp; 0xff) | (<a href='../Y/4776.html' title='Multiple used in 6 places.'>new_priority</a> &lt;&lt; 8);
<a name='L657'> 657     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a> != <a href='../Y/4773.html' title='Multiple used in 4 places.'>new_port_id</a>) <font color='red'>{</font>
<a name='L658'> 658         <b>struct</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> *<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>;
<a name='L659'> 659         <b>if</b> (<a href='../S/894.html#L795' title='Defined at 795 in cbench/openflow/lib/stp.c.'>stp_is_designated_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L660'> 660             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2343.html' title='Multiple used in 10 places.'>designated_port</a> = <a href='../Y/4773.html' title='Multiple used in 4 places.'>new_port_id</a>;
<a name='L661'> 661         <font color='red'>}</font>
<a name='L662'> 662         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a> = <a href='../Y/4773.html' title='Multiple used in 4 places.'>new_port_id</a>;
<a name='L663'> 663         <b>if</b> (<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a> == <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a>
<a name='L664'> 664             &amp;&amp; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a> &lt; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2343.html' title='Multiple used in 10 places.'>designated_port</a>) <font color='red'>{</font>
<a name='L665'> 665             <a href='../S/894.html#L899' title='Defined at 899 in cbench/openflow/lib/stp.c.'>stp_become_designated_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L666'> 666             <a href='../S/894.html#L909' title='Defined at 909 in cbench/openflow/lib/stp.c.'>stp_port_state_selection</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L667'> 667         <font color='red'>}</font>
<a name='L668'> 668     <font color='red'>}</font>
<a name='L669'> 669 <font color='red'>}</font>
<a name='L670'> 670 
<a name='L671'> 671 <i><font color='green'>/* Sets the path cost of port 'p' to 'path_cost'.  Lower values are generally</font></i>
<a name='L672'> 672 <i><font color='green'> * used to indicate faster links.  Use stp_port_set_speed() to automatically</font></i>
<a name='L673'> 673 <i><font color='green'> * generate a default path cost from a link speed. */</font></i>
<a name='L674'> 674 <b>void</b>
<a name='L675'> 675 <a href='../R/4586.html' title='Multiple refered from 4 places.'>stp_port_set_path_cost</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../Y/7619.html' title='Multiple used in 1069 places.'>uint16_t</a> <a href='../Y/5657.html' title='Multiple used in 15 places.'>path_cost</a>)
<a name='L676'> 676 <font color='red'>{</font>
<a name='L677'> 677     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5657.html' title='Multiple used in 15 places.'>path_cost</a> != <a href='../Y/5657.html' title='Multiple used in 15 places.'>path_cost</a>) <font color='red'>{</font>
<a name='L678'> 678         <b>struct</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> *<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>;
<a name='L679'> 679         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5657.html' title='Multiple used in 15 places.'>path_cost</a> = <a href='../Y/5657.html' title='Multiple used in 15 places.'>path_cost</a>;
<a name='L680'> 680         <a href='../S/894.html#L828' title='Defined at 828 in cbench/openflow/lib/stp.c.'>stp_configuration_update</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L681'> 681         <a href='../S/894.html#L909' title='Defined at 909 in cbench/openflow/lib/stp.c.'>stp_port_state_selection</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L682'> 682     <font color='red'>}</font>
<a name='L683'> 683 <font color='red'>}</font>
<a name='L684'> 684 
<a name='L685'> 685 <i><font color='green'>/* Sets the path cost of port 'p' based on 'speed' (measured in Mb/s). */</font></i>
<a name='L686'> 686 <b>void</b>
<a name='L687'> 687 <a href='../R/4588.html' title='Multiple refered from 2 places.'>stp_port_set_speed</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <b>unsigned</b> <b>int</b> <a href='../Y/6916.html' title='Multiple used in 35 places.'>speed</a>)
<a name='L688'> 688 <font color='red'>{</font>
<a name='L689'> 689     <a href='../S/894.html#L675' title='Defined at 675 in cbench/openflow/lib/stp.c.'>stp_port_set_path_cost</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, (<a href='../Y/6916.html' title='Multiple used in 35 places.'>speed</a> &gt;= 10000 ? 2  <i><font color='green'>/* 10 Gb/s. */</font></i>
<a name='L690'> 690                                : <a href='../Y/6916.html' title='Multiple used in 35 places.'>speed</a> &gt;= 1000 ? 4 <i><font color='green'>/* 1 Gb/s. */</font></i>
<a name='L691'> 691                                : <a href='../Y/6916.html' title='Multiple used in 35 places.'>speed</a> &gt;= 100 ? 19 <i><font color='green'>/* 100 Mb/s. */</font></i>
<a name='L692'> 692                                : <a href='../Y/6916.html' title='Multiple used in 35 places.'>speed</a> &gt;= 16 ? 62  <i><font color='green'>/* 16 Mb/s. */</font></i>
<a name='L693'> 693                                : <a href='../Y/6916.html' title='Multiple used in 35 places.'>speed</a> &gt;= 10 ? 100 <i><font color='green'>/* 10 Mb/s. */</font></i>
<a name='L694'> 694                                : <a href='../Y/6916.html' title='Multiple used in 35 places.'>speed</a> &gt;= 4 ? 250  <i><font color='green'>/* 4 Mb/s. */</font></i>
<a name='L695'> 695                                : 19));             <i><font color='green'>/* 100 Mb/s (guess). */</font></i>
<a name='L696'> 696 <font color='red'>}</font>
<a name='L697'> 697 
<a name='L698'> 698 <i><font color='green'>/* Enables topology change detection on port 'p'. */</font></i>
<a name='L699'> 699 <b>void</b>
<a name='L700'> 700 <a href='../S/897.html#L117' title='Refered from 117 in cbench/openflow/lib/stp.h.'>stp_port_enable_change_detection</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L701'> 701 <font color='red'>{</font>
<a name='L702'> 702     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/1852.html' title='Multiple used in 6 places.'>change_detection_enabled</a> = <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>;
<a name='L703'> 703 <font color='red'>}</font>
<a name='L704'> 704 
<a name='L705'> 705 <i><font color='green'>/* Disables topology change detection on port 'p'. */</font></i>
<a name='L706'> 706 <b>void</b>
<a name='L707'> 707 <a href='../S/897.html#L118' title='Refered from 118 in cbench/openflow/lib/stp.h.'>stp_port_disable_change_detection</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L708'> 708 <font color='red'>{</font>
<a name='L709'> 709     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/1852.html' title='Multiple used in 6 places.'>change_detection_enabled</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L710'> 710 <font color='red'>}</font>
<a name='L711'> 711 
<a name='L712'> 712 <b>static</b> <b>void</b>
<a name='L713'> 713 <a href='../R/4618.html' title='Multiple refered from 5 places.'>stp_transmit_config</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L714'> 714 <font color='red'>{</font>
<a name='L715'> 715     <b>struct</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> *<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>;
<a name='L716'> 716     <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a> = <a href='../S/894.html#L418' title='Defined at 418 in cbench/openflow/lib/stp.c.'>stp_is_root_bridge</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L717'> 717     <b>if</b> (!<a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a> &amp;&amp; !<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6464.html' title='Multiple used in 14 places.'>root_port</a>) <font color='red'>{</font>
<a name='L718'> 718         <b>return</b>;
<a name='L719'> 719     <font color='red'>}</font>
<a name='L720'> 720     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/3647.html' title='Multiple used in 5 places.'>hold_timer</a>.<a href='../Y/1298.html' title='Multiple used in 9 places.'>active</a>) <font color='red'>{</font>
<a name='L721'> 721         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2061.html' title='Multiple used in 8 places.'>config_pending</a> = <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>;
<a name='L722'> 722     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L723'> 723         <b>struct</b> <a href='../S/894.html#L71' title='Defined at 71 in cbench/openflow/lib/stp.c.'>stp_config_bpdu</a> <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>;
<a name='L724'> 724         <a href='../Y/4419.html' title='Multiple used in 245 places.'>memset</a>(&amp;<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>, 0, <b>sizeof</b> <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>);
<a name='L725'> 725         <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/6105.html' title='Multiple used in 5 places.'>protocol_id</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../S/894.html#L54' title='Defined at 54 in cbench/openflow/lib/stp.c.'>STP_PROTOCOL_ID</a>);
<a name='L726'> 726         <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/6108.html' title='Multiple used in 5 places.'>protocol_version</a> = <a href='../S/894.html#L55' title='Defined at 55 in cbench/openflow/lib/stp.c.'>STP_PROTOCOL_VERSION</a>;
<a name='L727'> 727         <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/1660.html' title='Multiple used in 5 places.'>bpdu_type</a> = <a href='../S/894.html#L56' title='Defined at 56 in cbench/openflow/lib/stp.c.'>STP_TYPE_CONFIG</a>;
<a name='L728'> 728         <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> = 0;
<a name='L729'> 729         <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/7424.html' title='Multiple used in 8 places.'>topology_change_ack</a>) <font color='red'>{</font>
<a name='L730'> 730             <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> |= <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../S/894.html#L67' title='Defined at 67 in cbench/openflow/lib/stp.c.'>STP_CONFIG_TOPOLOGY_CHANGE_ACK</a>);
<a name='L731'> 731         <font color='red'>}</font>
<a name='L732'> 732         <b>if</b> (<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7423.html' title='Multiple used in 6 places.'>topology_change</a>) <font color='red'>{</font>
<a name='L733'> 733             <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> |= <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../S/894.html#L68' title='Defined at 68 in cbench/openflow/lib/stp.c.'>STP_CONFIG_TOPOLOGY_CHANGE</a>);
<a name='L734'> 734         <font color='red'>}</font>
<a name='L735'> 735         <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/6462.html' title='Multiple used in 5 places.'>root_id</a> = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a>);
<a name='L736'> 736         <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/6463.html' title='Multiple used in 16 places.'>root_path_cost</a> = <a href='../Y/3677.html' title='Multiple used in 235 places.'>htonl</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6463.html' title='Multiple used in 16 places.'>root_path_cost</a>);
<a name='L737'> 737         <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a> = <a href='../D/8058.html' title='Multiple defined in 14 places.'>htonll</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>);
<a name='L738'> 738         <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a>);
<a name='L739'> 739         <b>if</b> (<a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>) <font color='red'>{</font>
<a name='L740'> 740             <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/4427.html' title='Multiple used in 7 places.'>message_age</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(0);
<a name='L741'> 741         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L742'> 742             <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/4427.html' title='Multiple used in 7 places.'>message_age</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6464.html' title='Multiple used in 14 places.'>root_port</a>-&gt;<a href='../Y/4428.html' title='Multiple used in 7 places.'>message_age_timer</a>.<a href='../Y/7726.html' title='Multiple used in 339 places.'>value</a>
<a name='L743'> 743                                        + <a href='../S/894.html#L166' title='Defined at 166 in cbench/openflow/lib/stp.c.'>MESSAGE_AGE_INCREMENT</a>);
<a name='L744'> 744         <font color='red'>}</font>
<a name='L745'> 745         <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a>);
<a name='L746'> 746         <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/3601.html' title='Multiple used in 9 places.'>hello_time</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3601.html' title='Multiple used in 9 places.'>hello_time</a>);
<a name='L747'> 747         <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/3203.html' title='Multiple used in 10 places.'>forward_delay</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3203.html' title='Multiple used in 10 places.'>forward_delay</a>);
<a name='L748'> 748         <b>if</b> (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>.<a href='../Y/4427.html' title='Multiple used in 7 places.'>message_age</a>) &lt; <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a>) <font color='red'>{</font>
<a name='L749'> 749             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/7424.html' title='Multiple used in 8 places.'>topology_change_ack</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L750'> 750             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2061.html' title='Multiple used in 8 places.'>config_pending</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L751'> 751             <a href='../S/894.html#L1220' title='Defined at 1220 in cbench/openflow/lib/stp.c.'>stp_send_bpdu</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, &amp;<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>, <b>sizeof</b> <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>);
<a name='L752'> 752             <a href='../S/894.html#L1144' title='Defined at 1144 in cbench/openflow/lib/stp.c.'>stp_start_timer</a>(&amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/3647.html' title='Multiple used in 5 places.'>hold_timer</a>, 0);
<a name='L753'> 753         <font color='red'>}</font>
<a name='L754'> 754     <font color='red'>}</font>
<a name='L755'> 755 <font color='red'>}</font>
<a name='L756'> 756 
<a name='L757'> 757 <b>static</b> <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a>
<a name='L758'> 758 <a href='../R/4608.html' title='Multiple refered from 2 places.'>stp_supersedes_port_info</a>(<b>const</b> <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>,
<a name='L759'> 759                          <b>const</b> <b>struct</b> <a href='../Y/7061.html' title='Multiple used in 9 places.'>stp_config_bpdu</a> *<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>)
<a name='L760'> 760 <font color='red'>{</font>
<a name='L761'> 761     <b>if</b> (<a href='../D/8630.html' title='Multiple defined in 15 places.'>ntohll</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/6462.html' title='Multiple used in 5 places.'>root_id</a>) != <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a>) <font color='red'>{</font>
<a name='L762'> 762         <b>return</b> <a href='../D/8630.html' title='Multiple defined in 15 places.'>ntohll</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/6462.html' title='Multiple used in 5 places.'>root_id</a>) &lt; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a>;
<a name='L763'> 763     <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/6463.html' title='Multiple used in 16 places.'>root_path_cost</a>) != <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2342.html' title='Multiple used in 10 places.'>designated_cost</a>) <font color='red'>{</font>
<a name='L764'> 764         <b>return</b> <a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/6463.html' title='Multiple used in 16 places.'>root_path_cost</a>) &lt; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2342.html' title='Multiple used in 10 places.'>designated_cost</a>;
<a name='L765'> 765     <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../D/8630.html' title='Multiple defined in 15 places.'>ntohll</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>) != <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a>) <font color='red'>{</font>
<a name='L766'> 766         <b>return</b> <a href='../D/8630.html' title='Multiple defined in 15 places.'>ntohll</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>) &lt; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a>;
<a name='L767'> 767     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L768'> 768         <b>return</b> (<a href='../D/8630.html' title='Multiple defined in 15 places.'>ntohll</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>) != <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>
<a name='L769'> 769                 || <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a>) &lt;= <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2343.html' title='Multiple used in 10 places.'>designated_port</a>);
<a name='L770'> 770     <font color='red'>}</font>
<a name='L771'> 771 <font color='red'>}</font>
<a name='L772'> 772 
<a name='L773'> 773 <b>static</b> <b>void</b>
<a name='L774'> 774 <a href='../R/4593.html' title='Multiple refered from 2 places.'>stp_record_config_information</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>,
<a name='L775'> 775                               <b>const</b> <b>struct</b> <a href='../Y/7061.html' title='Multiple used in 9 places.'>stp_config_bpdu</a> *<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>)
<a name='L776'> 776 <font color='red'>{</font>
<a name='L777'> 777     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a> = <a href='../D/8630.html' title='Multiple defined in 15 places.'>ntohll</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/6462.html' title='Multiple used in 5 places.'>root_id</a>);
<a name='L778'> 778     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2342.html' title='Multiple used in 10 places.'>designated_cost</a> = <a href='../Y/4953.html' title='Multiple used in 218 places.'>ntohl</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/6463.html' title='Multiple used in 16 places.'>root_path_cost</a>);
<a name='L779'> 779     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a> = <a href='../D/8630.html' title='Multiple defined in 15 places.'>ntohll</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>);
<a name='L780'> 780     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2343.html' title='Multiple used in 10 places.'>designated_port</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a>);
<a name='L781'> 781     <a href='../S/894.html#L1144' title='Defined at 1144 in cbench/openflow/lib/stp.c.'>stp_start_timer</a>(&amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/4428.html' title='Multiple used in 7 places.'>message_age_timer</a>, <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/4427.html' title='Multiple used in 7 places.'>message_age</a>));
<a name='L782'> 782 <font color='red'>}</font>
<a name='L783'> 783 
<a name='L784'> 784 <b>static</b> <b>void</b>
<a name='L785'> 785 <a href='../R/4594.html' title='Multiple refered from 2 places.'>stp_record_config_timeout_values</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>,
<a name='L786'> 786                                  <b>const</b> <b>struct</b> <a href='../Y/7061.html' title='Multiple used in 9 places.'>stp_config_bpdu</a>  *<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>)
<a name='L787'> 787 <font color='red'>{</font>
<a name='L788'> 788     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a>);
<a name='L789'> 789     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3601.html' title='Multiple used in 9 places.'>hello_time</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/3601.html' title='Multiple used in 9 places.'>hello_time</a>);
<a name='L790'> 790     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3203.html' title='Multiple used in 10 places.'>forward_delay</a> = <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/3203.html' title='Multiple used in 10 places.'>forward_delay</a>);
<a name='L791'> 791     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7423.html' title='Multiple used in 6 places.'>topology_change</a> = <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> &amp; <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../S/894.html#L68' title='Defined at 68 in cbench/openflow/lib/stp.c.'>STP_CONFIG_TOPOLOGY_CHANGE</a>);
<a name='L792'> 792 <font color='red'>}</font>
<a name='L793'> 793 
<a name='L794'> 794 <b>static</b> <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a>
<a name='L795'> 795 <a href='../R/4566.html' title='Multiple refered from 9 places.'>stp_is_designated_port</a>(<b>const</b> <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L796'> 796 <font color='red'>{</font>
<a name='L797'> 797     <b>return</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a> == <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>
<a name='L798'> 798             &amp;&amp; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2343.html' title='Multiple used in 10 places.'>designated_port</a> == <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a>);
<a name='L799'> 799 <font color='red'>}</font>
<a name='L800'> 800 
<a name='L801'> 801 <b>static</b> <b>void</b>
<a name='L802'> 802 <a href='../R/4543.html' title='Multiple refered from 5 places.'>stp_config_bpdu_generation</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L803'> 803 <font color='red'>{</font>
<a name='L804'> 804     <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L805'> 805 
<a name='L806'> 806     <a href='../S/894.html#L151' title='Defined at 151 in cbench/openflow/lib/stp.c.'>FOR_EACH_ENABLED_PORT</a> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>) <font color='red'>{</font>
<a name='L807'> 807         <b>if</b> (<a href='../S/894.html#L795' title='Defined at 795 in cbench/openflow/lib/stp.c.'>stp_is_designated_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L808'> 808             <a href='../S/894.html#L713' title='Defined at 713 in cbench/openflow/lib/stp.c.'>stp_transmit_config</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L809'> 809         <font color='red'>}</font>
<a name='L810'> 810     <font color='red'>}</font>
<a name='L811'> 811 <font color='red'>}</font>
<a name='L812'> 812 
<a name='L813'> 813 <b>static</b> <b>void</b>
<a name='L814'> 814 <a href='../R/4619.html' title='Multiple refered from 4 places.'>stp_transmit_tcn</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L815'> 815 <font color='red'>{</font>
<a name='L816'> 816     <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6464.html' title='Multiple used in 14 places.'>root_port</a>;
<a name='L817'> 817     <b>struct</b> <a href='../S/894.html#L85' title='Defined at 85 in cbench/openflow/lib/stp.c.'>stp_tcn_bpdu</a> <a href='../Y/7269.html' title='Multiple used in 5 places.'>tcn_bpdu</a>;
<a name='L818'> 818     <b>if</b> (!<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>) <font color='red'>{</font>
<a name='L819'> 819         <b>return</b>;
<a name='L820'> 820     <font color='red'>}</font>
<a name='L821'> 821     <a href='../Y/7269.html' title='Multiple used in 5 places.'>tcn_bpdu</a>.<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/6105.html' title='Multiple used in 5 places.'>protocol_id</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../S/894.html#L54' title='Defined at 54 in cbench/openflow/lib/stp.c.'>STP_PROTOCOL_ID</a>);
<a name='L822'> 822     <a href='../Y/7269.html' title='Multiple used in 5 places.'>tcn_bpdu</a>.<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/6108.html' title='Multiple used in 5 places.'>protocol_version</a> = <a href='../S/894.html#L55' title='Defined at 55 in cbench/openflow/lib/stp.c.'>STP_PROTOCOL_VERSION</a>;
<a name='L823'> 823     <a href='../Y/7269.html' title='Multiple used in 5 places.'>tcn_bpdu</a>.<a href='../Y/3593.html' title='Multiple used in 234 places.'>header</a>.<a href='../Y/1660.html' title='Multiple used in 5 places.'>bpdu_type</a> = <a href='../S/894.html#L57' title='Defined at 57 in cbench/openflow/lib/stp.c.'>STP_TYPE_TCN</a>;
<a name='L824'> 824     <a href='../S/894.html#L1220' title='Defined at 1220 in cbench/openflow/lib/stp.c.'>stp_send_bpdu</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, &amp;<a href='../Y/7269.html' title='Multiple used in 5 places.'>tcn_bpdu</a>, <b>sizeof</b> <a href='../Y/7269.html' title='Multiple used in 5 places.'>tcn_bpdu</a>);
<a name='L825'> 825 <font color='red'>}</font>
<a name='L826'> 826 
<a name='L827'> 827 <b>static</b> <b>void</b>
<a name='L828'> 828 <a href='../R/4544.html' title='Multiple refered from 6 places.'>stp_configuration_update</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L829'> 829 <font color='red'>{</font>
<a name='L830'> 830     <a href='../S/894.html#L854' title='Defined at 854 in cbench/openflow/lib/stp.c.'>stp_root_selection</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L831'> 831     <a href='../S/894.html#L880' title='Defined at 880 in cbench/openflow/lib/stp.c.'>stp_designated_port_selection</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L832'> 832 <font color='red'>}</font>
<a name='L833'> 833 
<a name='L834'> 834 <b>static</b> <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a>
<a name='L835'> 835 <a href='../R/4609.html' title='Multiple refered from 2 places.'>stp_supersedes_root</a>(<b>const</b> <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>, <b>const</b> <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L836'> 836 <font color='red'>{</font>
<a name='L837'> 837     <b>int</b> <a href='../Y/5578.html' title='Multiple used in 3 places.'>p_cost</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2342.html' title='Multiple used in 10 places.'>designated_cost</a> + <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5657.html' title='Multiple used in 15 places.'>path_cost</a>;
<a name='L838'> 838     <b>int</b> <a href='../Y/6461.html' title='Multiple used in 3 places.'>root_cost</a> = <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>-&gt;<a href='../Y/2342.html' title='Multiple used in 10 places.'>designated_cost</a> + <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>-&gt;<a href='../Y/5657.html' title='Multiple used in 15 places.'>path_cost</a>;
<a name='L839'> 839 
<a name='L840'> 840     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a> != <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a>) <font color='red'>{</font>
<a name='L841'> 841         <b>return</b> <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a> &lt; <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a>;
<a name='L842'> 842     <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/5578.html' title='Multiple used in 3 places.'>p_cost</a> != <a href='../Y/6461.html' title='Multiple used in 3 places.'>root_cost</a>) <font color='red'>{</font>
<a name='L843'> 843         <b>return</b> <a href='../Y/5578.html' title='Multiple used in 3 places.'>p_cost</a> &lt; <a href='../Y/6461.html' title='Multiple used in 3 places.'>root_cost</a>;
<a name='L844'> 844     <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a> != <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>-&gt;<a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a>) <font color='red'>{</font>
<a name='L845'> 845         <b>return</b> <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a> &lt; <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>-&gt;<a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a>;
<a name='L846'> 846     <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2343.html' title='Multiple used in 10 places.'>designated_port</a> != <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>-&gt;<a href='../Y/2343.html' title='Multiple used in 10 places.'>designated_port</a>) <font color='red'>{</font>
<a name='L847'> 847         <b>return</b> <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2343.html' title='Multiple used in 10 places.'>designated_port</a> &lt; <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>-&gt;<a href='../Y/2343.html' title='Multiple used in 10 places.'>designated_port</a>;
<a name='L848'> 848     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L849'> 849         <b>return</b> <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a> &lt; <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>-&gt;<a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a>;
<a name='L850'> 850     <font color='red'>}</font>
<a name='L851'> 851 <font color='red'>}</font>
<a name='L852'> 852 
<a name='L853'> 853 <b>static</b> <b>void</b>
<a name='L854'> 854 <a href='../R/4595.html' title='Multiple refered from 2 places.'>stp_root_selection</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L855'> 855 <font color='red'>{</font>
<a name='L856'> 856     <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, *<a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>;
<a name='L857'> 857 
<a name='L858'> 858     <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a> = <a href='../Y/603.html' title='Multiple used in 2170 places.'>NULL</a>;
<a name='L859'> 859     <a href='../S/894.html#L151' title='Defined at 151 in cbench/openflow/lib/stp.c.'>FOR_EACH_ENABLED_PORT</a> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>) <font color='red'>{</font>
<a name='L860'> 860         <b>if</b> (<a href='../S/894.html#L795' title='Defined at 795 in cbench/openflow/lib/stp.c.'>stp_is_designated_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L861'> 861             || <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a> &gt;= <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>) <font color='red'>{</font>
<a name='L862'> 862             <b>continue</b>;
<a name='L863'> 863         <font color='red'>}</font>
<a name='L864'> 864         <b>if</b> (<a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a> &amp;&amp; !<a href='../S/894.html#L835' title='Defined at 835 in cbench/openflow/lib/stp.c.'>stp_supersedes_root</a>(<a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>, <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L865'> 865             <b>continue</b>;
<a name='L866'> 866         <font color='red'>}</font>
<a name='L867'> 867         <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L868'> 868     <font color='red'>}</font>
<a name='L869'> 869     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6464.html' title='Multiple used in 14 places.'>root_port</a> = <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>;
<a name='L870'> 870     <b>if</b> (!<a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>) <font color='red'>{</font>
<a name='L871'> 871         <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>;
<a name='L872'> 872         <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6463.html' title='Multiple used in 16 places.'>root_path_cost</a> = 0;
<a name='L873'> 873     <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L874'> 874         <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a> = <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a>;
<a name='L875'> 875         <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6463.html' title='Multiple used in 16 places.'>root_path_cost</a> = <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>-&gt;<a href='../Y/2342.html' title='Multiple used in 10 places.'>designated_cost</a> + <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>-&gt;<a href='../Y/5657.html' title='Multiple used in 15 places.'>path_cost</a>;
<a name='L876'> 876     <font color='red'>}</font>
<a name='L877'> 877 <font color='red'>}</font>
<a name='L878'> 878 
<a name='L879'> 879 <b>static</b> <b>void</b>
<a name='L880'> 880 <a href='../R/4547.html' title='Multiple refered from 2 places.'>stp_designated_port_selection</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L881'> 881 <font color='red'>{</font>
<a name='L882'> 882     <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L883'> 883 
<a name='L884'> 884     <a href='../S/894.html#L151' title='Defined at 151 in cbench/openflow/lib/stp.c.'>FOR_EACH_ENABLED_PORT</a> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>) <font color='red'>{</font>
<a name='L885'> 885         <b>if</b> (<a href='../S/894.html#L795' title='Defined at 795 in cbench/openflow/lib/stp.c.'>stp_is_designated_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L886'> 886             || <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a> != <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a>
<a name='L887'> 887             || <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6463.html' title='Multiple used in 16 places.'>root_path_cost</a> &lt; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2342.html' title='Multiple used in 10 places.'>designated_cost</a>
<a name='L888'> 888             || (<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6463.html' title='Multiple used in 16 places.'>root_path_cost</a> == <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2342.html' title='Multiple used in 10 places.'>designated_cost</a>
<a name='L889'> 889                 &amp;&amp; (<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a> &lt; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a>
<a name='L890'> 890                     || (<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a> == <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a>
<a name='L891'> 891                         &amp;&amp; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a> &lt;= <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2343.html' title='Multiple used in 10 places.'>designated_port</a>))))
<a name='L892'> 892         <font color='red'>{</font>
<a name='L893'> 893             <a href='../S/894.html#L899' title='Defined at 899 in cbench/openflow/lib/stp.c.'>stp_become_designated_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L894'> 894         <font color='red'>}</font>
<a name='L895'> 895     <font color='red'>}</font>
<a name='L896'> 896 <font color='red'>}</font>
<a name='L897'> 897 
<a name='L898'> 898 <b>static</b> <b>void</b>
<a name='L899'> 899 <a href='../R/4539.html' title='Multiple refered from 6 places.'>stp_become_designated_port</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L900'> 900 <font color='red'>{</font>
<a name='L901'> 901     <b>struct</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> *<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>;
<a name='L902'> 902     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/2344.html' title='Multiple used in 16 places.'>designated_root</a>;
<a name='L903'> 903     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2342.html' title='Multiple used in 10 places.'>designated_cost</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6463.html' title='Multiple used in 16 places.'>root_path_cost</a>;
<a name='L904'> 904     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>;
<a name='L905'> 905     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2343.html' title='Multiple used in 10 places.'>designated_port</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/5813.html' title='Multiple used in 14 places.'>port_id</a>;
<a name='L906'> 906 <font color='red'>}</font>
<a name='L907'> 907 
<a name='L908'> 908 <b>static</b> <b>void</b>
<a name='L909'> 909 <a href='../R/4589.html' title='Multiple refered from 8 places.'>stp_port_state_selection</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L910'> 910 <font color='red'>{</font>
<a name='L911'> 911     <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L912'> 912 
<a name='L913'> 913     <a href='../S/894.html#L151' title='Defined at 151 in cbench/openflow/lib/stp.c.'>FOR_EACH_ENABLED_PORT</a> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>) <font color='red'>{</font>
<a name='L914'> 914         <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> == <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6464.html' title='Multiple used in 14 places.'>root_port</a>) <font color='red'>{</font>
<a name='L915'> 915             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2061.html' title='Multiple used in 8 places.'>config_pending</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L916'> 916             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/7424.html' title='Multiple used in 8 places.'>topology_change_ack</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L917'> 917             <a href='../S/894.html#L930' title='Defined at 930 in cbench/openflow/lib/stp.c.'>stp_make_forwarding</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L918'> 918         <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../S/894.html#L795' title='Defined at 795 in cbench/openflow/lib/stp.c.'>stp_is_designated_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L919'> 919             <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(&amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/4428.html' title='Multiple used in 7 places.'>message_age_timer</a>);
<a name='L920'> 920             <a href='../S/894.html#L930' title='Defined at 930 in cbench/openflow/lib/stp.c.'>stp_make_forwarding</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L921'> 921         <font color='red'>}</font> <b>else</b> <font color='red'>{</font>
<a name='L922'> 922             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2061.html' title='Multiple used in 8 places.'>config_pending</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L923'> 923             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/7424.html' title='Multiple used in 8 places.'>topology_change_ack</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L924'> 924             <a href='../S/894.html#L939' title='Defined at 939 in cbench/openflow/lib/stp.c.'>stp_make_blocking</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L925'> 925         <font color='red'>}</font>
<a name='L926'> 926     <font color='red'>}</font>
<a name='L927'> 927 <font color='red'>}</font>
<a name='L928'> 928 
<a name='L929'> 929 <b>static</b> <b>void</b>
<a name='L930'> 930 <a href='../R/4573.html' title='Multiple refered from 3 places.'>stp_make_forwarding</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L931'> 931 <font color='red'>{</font>
<a name='L932'> 932     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> == <a href='../S/897.html#L101' title='Defined at 101 in cbench/openflow/lib/stp.h.'>STP_BLOCKING</a>) <font color='red'>{</font>
<a name='L933'> 933         <a href='../S/894.html#L953' title='Defined at 953 in cbench/openflow/lib/stp.c.'>stp_set_port_state</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/897.html#L98' title='Defined at 98 in cbench/openflow/lib/stp.h.'>STP_LISTENING</a>);
<a name='L934'> 934         <a href='../S/894.html#L1144' title='Defined at 1144 in cbench/openflow/lib/stp.c.'>stp_start_timer</a>(&amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/3204.html' title='Multiple used in 7 places.'>forward_delay_timer</a>, 0);
<a name='L935'> 935     <font color='red'>}</font>
<a name='L936'> 936 <font color='red'>}</font>
<a name='L937'> 937 
<a name='L938'> 938 <b>static</b> <b>void</b>
<a name='L939'> 939 <a href='../R/4572.html' title='Multiple refered from 2 places.'>stp_make_blocking</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L940'> 940 <font color='red'>{</font>
<a name='L941'> 941     <b>if</b> (!(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> &amp; (<a href='../S/897.html#L97' title='Defined at 97 in cbench/openflow/lib/stp.h.'>STP_DISABLED</a> | <a href='../S/897.html#L101' title='Defined at 101 in cbench/openflow/lib/stp.h.'>STP_BLOCKING</a>))) <font color='red'>{</font>
<a name='L942'> 942         <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> &amp; (<a href='../S/897.html#L100' title='Defined at 100 in cbench/openflow/lib/stp.h.'>STP_FORWARDING</a> | <a href='../S/897.html#L99' title='Defined at 99 in cbench/openflow/lib/stp.h.'>STP_LEARNING</a>)) <font color='red'>{</font>
<a name='L943'> 943             <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/1852.html' title='Multiple used in 6 places.'>change_detection_enabled</a>) <font color='red'>{</font>
<a name='L944'> 944                 <a href='../S/894.html#L965' title='Defined at 965 in cbench/openflow/lib/stp.c.'>stp_topology_change_detection</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L945'> 945             <font color='red'>}</font>
<a name='L946'> 946         <font color='red'>}</font>
<a name='L947'> 947         <a href='../S/894.html#L953' title='Defined at 953 in cbench/openflow/lib/stp.c.'>stp_set_port_state</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/897.html#L101' title='Defined at 101 in cbench/openflow/lib/stp.h.'>STP_BLOCKING</a>);
<a name='L948'> 948         <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(&amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/3204.html' title='Multiple used in 7 places.'>forward_delay_timer</a>);
<a name='L949'> 949     <font color='red'>}</font>
<a name='L950'> 950 <font color='red'>}</font>
<a name='L951'> 951 
<a name='L952'> 952 <b>static</b> <b>void</b>
<a name='L953'> 953 <a href='../R/4602.html' title='Multiple refered from 7 places.'>stp_set_port_state</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <b>enum</b> <a href='../Y/7066.html' title='Multiple used in 10 places.'>stp_state</a> <a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>)
<a name='L954'> 954 <font color='red'>{</font>
<a name='L955'> 955     <b>if</b> (<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> != <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> &amp;&amp; !<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/7016.html' title='Multiple used in 5 places.'>state_changed</a>) <font color='red'>{</font>
<a name='L956'> 956         <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/7016.html' title='Multiple used in 5 places.'>state_changed</a> = <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>;
<a name='L957'> 957         <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> &lt; <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3098.html' title='Multiple used in 7 places.'>first_changed_port</a>) <font color='red'>{</font>
<a name='L958'> 958             <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3098.html' title='Multiple used in 7 places.'>first_changed_port</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L959'> 959         <font color='red'>}</font>
<a name='L960'> 960     <font color='red'>}</font>
<a name='L961'> 961     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> = <a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>;
<a name='L962'> 962 <font color='red'>}</font>
<a name='L963'> 963 
<a name='L964'> 964 <b>static</b> <b>void</b>
<a name='L965'> 965 <a href='../R/4616.html' title='Multiple refered from 6 places.'>stp_topology_change_detection</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L966'> 966 <font color='red'>{</font>
<a name='L967'> 967     <b>if</b> (<a href='../S/894.html#L418' title='Defined at 418 in cbench/openflow/lib/stp.c.'>stp_is_root_bridge</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>)) <font color='red'>{</font>
<a name='L968'> 968         <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7423.html' title='Multiple used in 6 places.'>topology_change</a> = <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>;
<a name='L969'> 969         <a href='../S/894.html#L1144' title='Defined at 1144 in cbench/openflow/lib/stp.c.'>stp_start_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7426.html' title='Multiple used in 5 places.'>topology_change_timer</a>, 0);
<a name='L970'> 970     <font color='red'>}</font> <b>else</b> <b>if</b> (!<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7425.html' title='Multiple used in 7 places.'>topology_change_detected</a>) <font color='red'>{</font>
<a name='L971'> 971         <a href='../S/894.html#L814' title='Defined at 814 in cbench/openflow/lib/stp.c.'>stp_transmit_tcn</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L972'> 972         <a href='../S/894.html#L1144' title='Defined at 1144 in cbench/openflow/lib/stp.c.'>stp_start_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7270.html' title='Multiple used in 9 places.'>tcn_timer</a>, 0);
<a name='L973'> 973     <font color='red'>}</font>
<a name='L974'> 974     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7425.html' title='Multiple used in 7 places.'>topology_change_detected</a> = <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>;
<a name='L975'> 975 <font color='red'>}</font>
<a name='L976'> 976 
<a name='L977'> 977 <b>static</b> <b>void</b>
<a name='L978'> 978 <a href='../R/4615.html' title='Multiple refered from 2 places.'>stp_topology_change_acknowledged</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L979'> 979 <font color='red'>{</font>
<a name='L980'> 980     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7425.html' title='Multiple used in 7 places.'>topology_change_detected</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L981'> 981     <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7270.html' title='Multiple used in 9 places.'>tcn_timer</a>);
<a name='L982'> 982 <font color='red'>}</font>
<a name='L983'> 983 
<a name='L984'> 984 <b>static</b> <b>void</b>
<a name='L985'> 985 <a href='../R/4538.html' title='Multiple refered from 2 places.'>stp_acknowledge_topology_change</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L986'> 986 <font color='red'>{</font>
<a name='L987'> 987     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/7424.html' title='Multiple used in 8 places.'>topology_change_ack</a> = <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>;
<a name='L988'> 988     <a href='../S/894.html#L713' title='Defined at 713 in cbench/openflow/lib/stp.c.'>stp_transmit_config</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L989'> 989 <font color='red'>}</font>
<a name='L990'> 990 
<a name='L991'> 991 <b>void</b>
<a name='L992'> 992 <a href='../R/4591.html' title='Multiple refered from 2 places.'>stp_received_config_bpdu</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>, <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>,
<a name='L993'> 993                          <b>const</b> <b>struct</b> <a href='../Y/7061.html' title='Multiple used in 9 places.'>stp_config_bpdu</a> *<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>)
<a name='L994'> 994 <font color='red'>{</font>
<a name='L995'> 995     <b>if</b> (<a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/4427.html' title='Multiple used in 7 places.'>message_age</a>) &gt;= <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a>)) <font color='red'>{</font>
<a name='L996'> 996         <a href='../S/859.html#L151' title='Defined at 151 in cbench/openflow/lib/vlog.h.'>VLOG_WARN</a>("%s: received config BPDU with message age (%u) greater "
<a name='L997'> 997                   "than max age (%u)",
<a name='L998'> 998                   <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../D/8420.html' title='Multiple defined in 16 places.'>name</a>,
<a name='L999'> 999                   <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/4427.html' title='Multiple used in 7 places.'>message_age</a>), <a href='../D/8631.html' title='Multiple defined in 2 places.'>ntohs</a>(<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a>));
<a name='L1000'>1000         <b>return</b>;
<a name='L1001'>1001     <font color='red'>}</font>
<a name='L1002'>1002     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> != <a href='../S/897.html#L97' title='Defined at 97 in cbench/openflow/lib/stp.h.'>STP_DISABLED</a>) <font color='red'>{</font>
<a name='L1003'>1003         <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a> = <a href='../S/894.html#L418' title='Defined at 418 in cbench/openflow/lib/stp.c.'>stp_is_root_bridge</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1004'>1004         <b>if</b> (<a href='../S/894.html#L758' title='Defined at 758 in cbench/openflow/lib/stp.c.'>stp_supersedes_port_info</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>)) <font color='red'>{</font>
<a name='L1005'>1005             <a href='../S/894.html#L774' title='Defined at 774 in cbench/openflow/lib/stp.c.'>stp_record_config_information</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>);
<a name='L1006'>1006             <a href='../S/894.html#L828' title='Defined at 828 in cbench/openflow/lib/stp.c.'>stp_configuration_update</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1007'>1007             <a href='../S/894.html#L909' title='Defined at 909 in cbench/openflow/lib/stp.c.'>stp_port_state_selection</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1008'>1008             <b>if</b> (!<a href='../S/894.html#L418' title='Defined at 418 in cbench/openflow/lib/stp.c.'>stp_is_root_bridge</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>) &amp;&amp; <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>) <font color='red'>{</font>
<a name='L1009'>1009                 <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3602.html' title='Multiple used in 7 places.'>hello_timer</a>);
<a name='L1010'>1010                 <b>if</b> (<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7425.html' title='Multiple used in 7 places.'>topology_change_detected</a>) <font color='red'>{</font>
<a name='L1011'>1011                     <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7426.html' title='Multiple used in 5 places.'>topology_change_timer</a>);
<a name='L1012'>1012                     <a href='../S/894.html#L814' title='Defined at 814 in cbench/openflow/lib/stp.c.'>stp_transmit_tcn</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1013'>1013                     <a href='../S/894.html#L1144' title='Defined at 1144 in cbench/openflow/lib/stp.c.'>stp_start_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7270.html' title='Multiple used in 9 places.'>tcn_timer</a>, 0);
<a name='L1014'>1014                 <font color='red'>}</font>
<a name='L1015'>1015             <font color='red'>}</font>
<a name='L1016'>1016             <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a> == <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6464.html' title='Multiple used in 14 places.'>root_port</a>) <font color='red'>{</font>
<a name='L1017'>1017                 <a href='../S/894.html#L785' title='Defined at 785 in cbench/openflow/lib/stp.c.'>stp_record_config_timeout_values</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>, <a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>);
<a name='L1018'>1018                 <a href='../S/894.html#L802' title='Defined at 802 in cbench/openflow/lib/stp.c.'>stp_config_bpdu_generation</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1019'>1019                 <b>if</b> (<a href='../Y/2052.html' title='Multiple used in 115 places.'>config</a>-&gt;<a href='../Y/3119.html' title='Multiple used in 292 places.'>flags</a> &amp; <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../S/894.html#L67' title='Defined at 67 in cbench/openflow/lib/stp.c.'>STP_CONFIG_TOPOLOGY_CHANGE_ACK</a>)) <font color='red'>{</font>
<a name='L1020'>1020                     <a href='../S/894.html#L978' title='Defined at 978 in cbench/openflow/lib/stp.c.'>stp_topology_change_acknowledged</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1021'>1021                 <font color='red'>}</font>
<a name='L1022'>1022             <font color='red'>}</font>
<a name='L1023'>1023         <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../S/894.html#L795' title='Defined at 795 in cbench/openflow/lib/stp.c.'>stp_is_designated_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L1024'>1024             <a href='../S/894.html#L713' title='Defined at 713 in cbench/openflow/lib/stp.c.'>stp_transmit_config</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L1025'>1025         <font color='red'>}</font>
<a name='L1026'>1026     <font color='red'>}</font>
<a name='L1027'>1027 <font color='red'>}</font>
<a name='L1028'>1028 
<a name='L1029'>1029 <b>void</b>
<a name='L1030'>1030 <a href='../R/4592.html' title='Multiple refered from 2 places.'>stp_received_tcn_bpdu</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>, <b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L1031'>1031 <font color='red'>{</font>
<a name='L1032'>1032     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> != <a href='../S/897.html#L97' title='Defined at 97 in cbench/openflow/lib/stp.h.'>STP_DISABLED</a>) <font color='red'>{</font>
<a name='L1033'>1033         <b>if</b> (<a href='../S/894.html#L795' title='Defined at 795 in cbench/openflow/lib/stp.c.'>stp_is_designated_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)) <font color='red'>{</font>
<a name='L1034'>1034             <a href='../S/894.html#L965' title='Defined at 965 in cbench/openflow/lib/stp.c.'>stp_topology_change_detection</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1035'>1035             <a href='../S/894.html#L985' title='Defined at 985 in cbench/openflow/lib/stp.c.'>stp_acknowledge_topology_change</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L1036'>1036         <font color='red'>}</font>
<a name='L1037'>1037     <font color='red'>}</font>
<a name='L1038'>1038 <font color='red'>}</font>
<a name='L1039'>1039 
<a name='L1040'>1040 <b>static</b> <b>void</b>
<a name='L1041'>1041 <a href='../R/4561.html' title='Multiple refered from 2 places.'>stp_hello_timer_expiry</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L1042'>1042 <font color='red'>{</font>
<a name='L1043'>1043     <a href='../S/894.html#L802' title='Defined at 802 in cbench/openflow/lib/stp.c.'>stp_config_bpdu_generation</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1044'>1044     <a href='../S/894.html#L1144' title='Defined at 1144 in cbench/openflow/lib/stp.c.'>stp_start_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3602.html' title='Multiple used in 7 places.'>hello_timer</a>, 0);
<a name='L1045'>1045 <font color='red'>}</font>
<a name='L1046'>1046 
<a name='L1047'>1047 <b>static</b> <b>void</b>
<a name='L1048'>1048 <a href='../R/4574.html' title='Multiple refered from 2 places.'>stp_message_age_timer_expiry</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L1049'>1049 <font color='red'>{</font>
<a name='L1050'>1050     <b>struct</b> <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> *<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a> = <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>;
<a name='L1051'>1051     <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a> <a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a> = <a href='../S/894.html#L418' title='Defined at 418 in cbench/openflow/lib/stp.c.'>stp_is_root_bridge</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1052'>1052     <a href='../S/894.html#L899' title='Defined at 899 in cbench/openflow/lib/stp.c.'>stp_become_designated_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L1053'>1053     <a href='../S/894.html#L828' title='Defined at 828 in cbench/openflow/lib/stp.c.'>stp_configuration_update</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1054'>1054     <a href='../S/894.html#L909' title='Defined at 909 in cbench/openflow/lib/stp.c.'>stp_port_state_selection</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1055'>1055     <b>if</b> (<a href='../S/894.html#L418' title='Defined at 418 in cbench/openflow/lib/stp.c.'>stp_is_root_bridge</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>) &amp;&amp; !<a href='../Y/6460.html' title='Multiple used in 31 places.'>root</a>) <font color='red'>{</font>
<a name='L1056'>1056         <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1674.html' title='Multiple used in 7 places.'>bridge_max_age</a>;
<a name='L1057'>1057         <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3601.html' title='Multiple used in 9 places.'>hello_time</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1672.html' title='Multiple used in 8 places.'>bridge_hello_time</a>;
<a name='L1058'>1058         <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3203.html' title='Multiple used in 10 places.'>forward_delay</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1671.html' title='Multiple used in 7 places.'>bridge_forward_delay</a>;
<a name='L1059'>1059         <a href='../S/894.html#L965' title='Defined at 965 in cbench/openflow/lib/stp.c.'>stp_topology_change_detection</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1060'>1060         <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7270.html' title='Multiple used in 9 places.'>tcn_timer</a>);
<a name='L1061'>1061         <a href='../S/894.html#L802' title='Defined at 802 in cbench/openflow/lib/stp.c.'>stp_config_bpdu_generation</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1062'>1062         <a href='../S/894.html#L1144' title='Defined at 1144 in cbench/openflow/lib/stp.c.'>stp_start_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3602.html' title='Multiple used in 7 places.'>hello_timer</a>, 0);
<a name='L1063'>1063     <font color='red'>}</font>
<a name='L1064'>1064 <font color='red'>}</font>
<a name='L1065'>1065 
<a name='L1066'>1066 <b>static</b> <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a>
<a name='L1067'>1067 <a href='../R/4565.html' title='Multiple refered from 2 places.'>stp_is_designated_for_some_port</a>(<b>const</b> <b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L1068'>1068 <font color='red'>{</font>
<a name='L1069'>1069     <b>const</b> <b>struct</b> <a href='../S/894.html#L95' title='Defined at 95 in cbench/openflow/lib/stp.c.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>;
<a name='L1070'>1070 
<a name='L1071'>1071     <a href='../S/894.html#L151' title='Defined at 151 in cbench/openflow/lib/stp.c.'>FOR_EACH_ENABLED_PORT</a> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>) <font color='red'>{</font>
<a name='L1072'>1072         <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2341.html' title='Multiple used in 13 places.'>designated_bridge</a> == <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1673.html' title='Multiple used in 29 places.'>bridge_id</a>) <font color='red'>{</font>
<a name='L1073'>1073             <b>return</b> <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>;
<a name='L1074'>1074         <font color='red'>}</font>
<a name='L1075'>1075     <font color='red'>}</font>
<a name='L1076'>1076     <b>return</b> <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L1077'>1077 <font color='red'>}</font>
<a name='L1078'>1078 
<a name='L1079'>1079 <b>static</b> <b>void</b>
<a name='L1080'>1080 <a href='../R/4549.html' title='Multiple refered from 2 places.'>stp_forward_delay_timer_expiry</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L1081'>1081 <font color='red'>{</font>
<a name='L1082'>1082     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> == <a href='../S/897.html#L98' title='Defined at 98 in cbench/openflow/lib/stp.h.'>STP_LISTENING</a>) <font color='red'>{</font>
<a name='L1083'>1083         <a href='../S/894.html#L953' title='Defined at 953 in cbench/openflow/lib/stp.c.'>stp_set_port_state</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/897.html#L99' title='Defined at 99 in cbench/openflow/lib/stp.h.'>STP_LEARNING</a>);
<a name='L1084'>1084         <a href='../S/894.html#L1144' title='Defined at 1144 in cbench/openflow/lib/stp.c.'>stp_start_timer</a>(&amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/3204.html' title='Multiple used in 7 places.'>forward_delay_timer</a>, 0);
<a name='L1085'>1085     <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> == <a href='../S/897.html#L99' title='Defined at 99 in cbench/openflow/lib/stp.h.'>STP_LEARNING</a>) <font color='red'>{</font>
<a name='L1086'>1086         <a href='../S/894.html#L953' title='Defined at 953 in cbench/openflow/lib/stp.c.'>stp_set_port_state</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/897.html#L100' title='Defined at 100 in cbench/openflow/lib/stp.h.'>STP_FORWARDING</a>);
<a name='L1087'>1087         <b>if</b> (<a href='../S/894.html#L1067' title='Defined at 1067 in cbench/openflow/lib/stp.c.'>stp_is_designated_for_some_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>)) <font color='red'>{</font>
<a name='L1088'>1088             <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/1852.html' title='Multiple used in 6 places.'>change_detection_enabled</a>) <font color='red'>{</font>
<a name='L1089'>1089                 <a href='../S/894.html#L965' title='Defined at 965 in cbench/openflow/lib/stp.c.'>stp_topology_change_detection</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1090'>1090             <font color='red'>}</font>
<a name='L1091'>1091         <font color='red'>}</font>
<a name='L1092'>1092     <font color='red'>}</font>
<a name='L1093'>1093 <font color='red'>}</font>
<a name='L1094'>1094 
<a name='L1095'>1095 <b>static</b> <b>void</b>
<a name='L1096'>1096 <a href='../R/4611.html' title='Multiple refered from 2 places.'>stp_tcn_timer_expiry</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L1097'>1097 <font color='red'>{</font>
<a name='L1098'>1098     <a href='../S/894.html#L814' title='Defined at 814 in cbench/openflow/lib/stp.c.'>stp_transmit_tcn</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1099'>1099     <a href='../S/894.html#L1144' title='Defined at 1144 in cbench/openflow/lib/stp.c.'>stp_start_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7270.html' title='Multiple used in 9 places.'>tcn_timer</a>, 0);
<a name='L1100'>1100 <font color='red'>}</font>
<a name='L1101'>1101 
<a name='L1102'>1102 <b>static</b> <b>void</b>
<a name='L1103'>1103 <a href='../R/4617.html' title='Multiple refered from 2 places.'>stp_topology_change_timer_expiry</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L1104'>1104 <font color='red'>{</font>
<a name='L1105'>1105     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7425.html' title='Multiple used in 7 places.'>topology_change_detected</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L1106'>1106     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7423.html' title='Multiple used in 6 places.'>topology_change</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L1107'>1107 <font color='red'>}</font>
<a name='L1108'>1108 
<a name='L1109'>1109 <b>static</b> <b>void</b>
<a name='L1110'>1110 <a href='../R/4562.html' title='Multiple refered from 2 places.'>stp_hold_timer_expiry</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>)
<a name='L1111'>1111 <font color='red'>{</font>
<a name='L1112'>1112     <b>if</b> (<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2061.html' title='Multiple used in 8 places.'>config_pending</a>) <font color='red'>{</font>
<a name='L1113'>1113         <a href='../S/894.html#L713' title='Defined at 713 in cbench/openflow/lib/stp.c.'>stp_transmit_config</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L1114'>1114     <font color='red'>}</font>
<a name='L1115'>1115 <font color='red'>}</font>
<a name='L1116'>1116 
<a name='L1117'>1117 <b>static</b> <b>void</b>
<a name='L1118'>1118 <a href='../R/4564.html' title='Multiple refered from 3 places.'>stp_initialize_port</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <b>enum</b> <a href='../Y/7066.html' title='Multiple used in 10 places.'>stp_state</a> <a href='../Y/7012.html' title='Multiple used in 51 places.'>state</a>)
<a name='L1119'>1119 <font color='red'>{</font>
<a name='L1120'>1120     <a href='../Y/1502.html' title='Multiple used in 179 places.'>assert</a>(<a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a> &amp; (<a href='../S/897.html#L97' title='Defined at 97 in cbench/openflow/lib/stp.h.'>STP_DISABLED</a> | <a href='../S/897.html#L101' title='Defined at 101 in cbench/openflow/lib/stp.h.'>STP_BLOCKING</a>));
<a name='L1121'>1121     <a href='../S/894.html#L899' title='Defined at 899 in cbench/openflow/lib/stp.c.'>stp_become_designated_port</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>);
<a name='L1122'>1122     <a href='../S/894.html#L953' title='Defined at 953 in cbench/openflow/lib/stp.c.'>stp_set_port_state</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <a href='../S/849.html#L59' title='Defined at 59 in cbench/openflow/lib/rconn.c.'>state</a>);
<a name='L1123'>1123     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/7424.html' title='Multiple used in 8 places.'>topology_change_ack</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L1124'>1124     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/2061.html' title='Multiple used in 8 places.'>config_pending</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L1125'>1125     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/1852.html' title='Multiple used in 6 places.'>change_detection_enabled</a> = <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>;
<a name='L1126'>1126     <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(&amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/4428.html' title='Multiple used in 7 places.'>message_age_timer</a>);
<a name='L1127'>1127     <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(&amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/3204.html' title='Multiple used in 7 places.'>forward_delay_timer</a>);
<a name='L1128'>1128     <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(&amp;<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../Y/3647.html' title='Multiple used in 5 places.'>hold_timer</a>);
<a name='L1129'>1129 <font color='red'>}</font>
<a name='L1130'>1130 
<a name='L1131'>1131 <b>static</b> <b>void</b>
<a name='L1132'>1132 <a href='../R/4540.html' title='Multiple refered from 3 places.'>stp_become_root_bridge</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L1133'>1133 <font color='red'>{</font>
<a name='L1134'>1134     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1674.html' title='Multiple used in 7 places.'>bridge_max_age</a>;
<a name='L1135'>1135     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3601.html' title='Multiple used in 9 places.'>hello_time</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1672.html' title='Multiple used in 8 places.'>bridge_hello_time</a>;
<a name='L1136'>1136     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3203.html' title='Multiple used in 10 places.'>forward_delay</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1671.html' title='Multiple used in 7 places.'>bridge_forward_delay</a>;
<a name='L1137'>1137     <a href='../S/894.html#L965' title='Defined at 965 in cbench/openflow/lib/stp.c.'>stp_topology_change_detection</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1138'>1138     <a href='../S/894.html#L1151' title='Defined at 1151 in cbench/openflow/lib/stp.c.'>stp_stop_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/7270.html' title='Multiple used in 9 places.'>tcn_timer</a>);
<a name='L1139'>1139     <a href='../S/894.html#L802' title='Defined at 802 in cbench/openflow/lib/stp.c.'>stp_config_bpdu_generation</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>);
<a name='L1140'>1140     <a href='../S/894.html#L1144' title='Defined at 1144 in cbench/openflow/lib/stp.c.'>stp_start_timer</a>(&amp;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3602.html' title='Multiple used in 7 places.'>hello_timer</a>, 0);
<a name='L1141'>1141 <font color='red'>}</font>
<a name='L1142'>1142 
<a name='L1143'>1143 <b>static</b> <b>void</b>
<a name='L1144'>1144 <a href='../R/4604.html' title='Multiple refered from 13 places.'>stp_start_timer</a>(<b>struct</b> <a href='../Y/7068.html' title='Multiple used in 6 places.'>stp_timer</a> *<a href='../Y/7376.html' title='Multiple used in 24 places.'>timer</a>, <b>int</b> <a href='../Y/7726.html' title='Multiple used in 339 places.'>value</a>)
<a name='L1145'>1145 <font color='red'>{</font>
<a name='L1146'>1146     <a href='../Y/7376.html' title='Multiple used in 24 places.'>timer</a>-&gt;<a href='../Y/7726.html' title='Multiple used in 339 places.'>value</a> = <a href='../Y/7726.html' title='Multiple used in 339 places.'>value</a>;
<a name='L1147'>1147     <a href='../Y/7376.html' title='Multiple used in 24 places.'>timer</a>-&gt;<a href='../Y/1298.html' title='Multiple used in 9 places.'>active</a> = <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>;
<a name='L1148'>1148 <font color='red'>}</font>
<a name='L1149'>1149 
<a name='L1150'>1150 <b>static</b> <b>void</b>
<a name='L1151'>1151 <a href='../R/4607.html' title='Multiple refered from 15 places.'>stp_stop_timer</a>(<b>struct</b> <a href='../Y/7068.html' title='Multiple used in 6 places.'>stp_timer</a> *<a href='../Y/7376.html' title='Multiple used in 24 places.'>timer</a>)
<a name='L1152'>1152 <font color='red'>{</font>
<a name='L1153'>1153     <a href='../Y/7376.html' title='Multiple used in 24 places.'>timer</a>-&gt;<a href='../Y/1298.html' title='Multiple used in 9 places.'>active</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L1154'>1154 <font color='red'>}</font>
<a name='L1155'>1155 
<a name='L1156'>1156 <b>static</b> <a href='../Y/1645.html' title='Multiple used in 313 places.'>bool</a>
<a name='L1157'>1157 <a href='../R/4614.html' title='Multiple refered from 7 places.'>stp_timer_expired</a>(<b>struct</b> <a href='../Y/7068.html' title='Multiple used in 6 places.'>stp_timer</a> *<a href='../Y/7376.html' title='Multiple used in 24 places.'>timer</a>, <b>int</b> <a href='../Y/2636.html' title='Multiple used in 18 places.'>elapsed</a>, <b>int</b> <a href='../Y/7372.html' title='Multiple used in 4 places.'>timeout</a>)
<a name='L1158'>1158 <font color='red'>{</font>
<a name='L1159'>1159     <b>if</b> (<a href='../Y/7376.html' title='Multiple used in 24 places.'>timer</a>-&gt;<a href='../Y/1298.html' title='Multiple used in 9 places.'>active</a>) <font color='red'>{</font>
<a name='L1160'>1160         <a href='../Y/7376.html' title='Multiple used in 24 places.'>timer</a>-&gt;<a href='../Y/7726.html' title='Multiple used in 339 places.'>value</a> += <a href='../Y/2636.html' title='Multiple used in 18 places.'>elapsed</a>;
<a name='L1161'>1161         <b>if</b> (<a href='../Y/7376.html' title='Multiple used in 24 places.'>timer</a>-&gt;<a href='../Y/7726.html' title='Multiple used in 339 places.'>value</a> &gt;= <a href='../D/9898.html' title='Multiple defined in 2 places.'>timeout</a>) <font color='red'>{</font>
<a name='L1162'>1162             <a href='../Y/7376.html' title='Multiple used in 24 places.'>timer</a>-&gt;<a href='../Y/1298.html' title='Multiple used in 9 places.'>active</a> = <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L1163'>1163             <b>return</b> <a href='../Y/7480.html' title='Multiple used in 168 places.'>true</a>;
<a name='L1164'>1164         <font color='red'>}</font>
<a name='L1165'>1165     <font color='red'>}</font>
<a name='L1166'>1166     <b>return</b> <a href='../Y/2997.html' title='Multiple used in 198 places.'>false</a>;
<a name='L1167'>1167 <font color='red'>}</font>
<a name='L1168'>1168 
<a name='L1169'>1169 <i><font color='green'>/* Returns the number of whole STP timer ticks in 'ms' milliseconds.  There</font></i>
<a name='L1170'>1170 <i><font color='green'> * are 256 STP timer ticks per second. */</font></i>
<a name='L1171'>1171 <b>static</b> <b>int</b>
<a name='L1172'>1172 <a href='../R/3526.html' title='Multiple refered from 6 places.'>ms_to_timer</a>(<b>int</b> <a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a>)
<a name='L1173'>1173 <font color='red'>{</font>
<a name='L1174'>1174     <b>return</b> <a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a> * 0x100 / 1000;
<a name='L1175'>1175 <font color='red'>}</font>
<a name='L1176'>1176 
<a name='L1177'>1177 <i><font color='green'>/* Returns the number of leftover milliseconds when 'ms' is converted to STP</font></i>
<a name='L1178'>1178 <i><font color='green'> * timer ticks. */</font></i>
<a name='L1179'>1179 <b>static</b> <b>int</b>
<a name='L1180'>1180 <a href='../R/3527.html' title='Multiple refered from 2 places.'>ms_to_timer_remainder</a>(<b>int</b> <a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a>)
<a name='L1181'>1181 <font color='red'>{</font>
<a name='L1182'>1182     <b>return</b> <a href='../Y/4515.html' title='Multiple used in 20 places.'>ms</a> * 0x100 % 1000;
<a name='L1183'>1183 <font color='red'>}</font>
<a name='L1184'>1184 
<a name='L1185'>1185 <i><font color='green'>/* Returns the number of whole milliseconds in 'timer' STP timer ticks.  There</font></i>
<a name='L1186'>1186 <i><font color='green'> * are 256 STP timer ticks per second. */</font></i>
<a name='L1187'>1187 <b>static</b> <b>int</b>
<a name='L1188'>1188 <a href='../R/4807.html' title='Multiple refered from 4 places.'>timer_to_ms</a>(<b>int</b> <a href='../Y/7376.html' title='Multiple used in 24 places.'>timer</a>)
<a name='L1189'>1189 <font color='red'>{</font>
<a name='L1190'>1190     <b>return</b> <a href='../Y/7376.html' title='Multiple used in 24 places.'>timer</a> * 1000 / 0x100;
<a name='L1191'>1191 <font color='red'>}</font>
<a name='L1192'>1192 
<a name='L1193'>1193 <b>static</b> <b>int</b>
<a name='L1194'>1194 <a href='../R/2355.html' title='Multiple refered from 8 places.'>clamp</a>(<b>int</b> <a href='../Y/7991.html' title='Multiple used in 651 places.'>x</a>, <b>int</b> <a href='../Y/4443.html' title='Multiple used in 21 places.'>min</a>, <b>int</b> <a href='../Y/4352.html' title='Multiple used in 27 places.'>max</a>)
<a name='L1195'>1195 <font color='red'>{</font>
<a name='L1196'>1196     <b>return</b> <a href='../Y/7991.html' title='Multiple used in 651 places.'>x</a> &lt; <a href='../Y/4443.html' title='Multiple used in 21 places.'>min</a> ? <a href='../Y/4443.html' title='Multiple used in 21 places.'>min</a> : <a href='../Y/7991.html' title='Multiple used in 651 places.'>x</a> &gt; <a href='../Y/4352.html' title='Multiple used in 27 places.'>max</a> ? <a href='../Y/4352.html' title='Multiple used in 27 places.'>max</a> : <a href='../Y/7991.html' title='Multiple used in 651 places.'>x</a>;
<a name='L1197'>1197 <font color='red'>}</font>
<a name='L1198'>1198 
<a name='L1199'>1199 <b>static</b> <b>void</b>
<a name='L1200'>1200 <a href='../R/4620.html' title='Multiple refered from 5 places.'>stp_update_bridge_timers</a>(<b>struct</b> <a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a> *<a href='../Y/7058.html' title='Multiple used in 72 places.'>stp</a>)
<a name='L1201'>1201 <font color='red'>{</font>
<a name='L1202'>1202     <b>int</b> <a href='../Y/3675.html' title='Multiple used in 4 places.'>ht</a>, <a href='../Y/4296.html' title='Multiple used in 4 places.'>ma</a>, <a href='../Y/3016.html' title='Multiple used in 422 places.'>fd</a>;
<a name='L1203'>1203 
<a name='L1204'>1204     <a href='../Y/3675.html' title='Multiple used in 4 places.'>ht</a> = <a href='../D/7074.html' title='Multiple defined in 2 places.'>clamp</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6478.html' title='Multiple used in 4 places.'>rq_hello_time</a>, 1000, 10000);
<a name='L1205'>1205     <a href='../Y/4296.html' title='Multiple used in 4 places.'>ma</a> = <a href='../D/7074.html' title='Multiple defined in 2 places.'>clamp</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6480.html' title='Multiple used in 4 places.'>rq_max_age</a>, <a href='../D/2530.html' title='Multiple defined in 9 places.'>MAX</a>(2 * (<a href='../Y/3675.html' title='Multiple used in 4 places.'>ht</a> + 1000), 6000), 40000);
<a name='L1206'>1206     <a href='../Y/3016.html' title='Multiple used in 422 places.'>fd</a> = <a href='../D/7074.html' title='Multiple defined in 2 places.'>clamp</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/6476.html' title='Multiple used in 4 places.'>rq_forward_delay</a>, <a href='../Y/4296.html' title='Multiple used in 4 places.'>ma</a> / 2 + 1000, 30000);
<a name='L1207'>1207 
<a name='L1208'>1208     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1672.html' title='Multiple used in 8 places.'>bridge_hello_time</a> = <a href='../S/894.html#L1172' title='Defined at 1172 in cbench/openflow/lib/stp.c.'>ms_to_timer</a>(<a href='../Y/3675.html' title='Multiple used in 4 places.'>ht</a>);
<a name='L1209'>1209     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1674.html' title='Multiple used in 7 places.'>bridge_max_age</a> = <a href='../S/894.html#L1172' title='Defined at 1172 in cbench/openflow/lib/stp.c.'>ms_to_timer</a>(<a href='../Y/4296.html' title='Multiple used in 4 places.'>ma</a>);
<a name='L1210'>1210     <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1671.html' title='Multiple used in 7 places.'>bridge_forward_delay</a> = <a href='../S/894.html#L1172' title='Defined at 1172 in cbench/openflow/lib/stp.c.'>ms_to_timer</a>(<a href='../Y/3016.html' title='Multiple used in 422 places.'>fd</a>);
<a name='L1211'>1211 
<a name='L1212'>1212     <b>if</b> (<a href='../S/894.html#L418' title='Defined at 418 in cbench/openflow/lib/stp.c.'>stp_is_root_bridge</a>(<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>)) <font color='red'>{</font>
<a name='L1213'>1213         <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/4358.html' title='Multiple used in 13 places.'>max_age</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1674.html' title='Multiple used in 7 places.'>bridge_max_age</a>;
<a name='L1214'>1214         <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3601.html' title='Multiple used in 9 places.'>hello_time</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1672.html' title='Multiple used in 8 places.'>bridge_hello_time</a>;
<a name='L1215'>1215         <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/3203.html' title='Multiple used in 10 places.'>forward_delay</a> = <a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1671.html' title='Multiple used in 7 places.'>bridge_forward_delay</a>;
<a name='L1216'>1216     <font color='red'>}</font>
<a name='L1217'>1217 <font color='red'>}</font>
<a name='L1218'>1218 
<a name='L1219'>1219 <b>static</b> <b>void</b>
<a name='L1220'>1220 <a href='../R/4596.html' title='Multiple refered from 3 places.'>stp_send_bpdu</a>(<b>struct</b> <a href='../Y/7065.html' title='Multiple used in 60 places.'>stp_port</a> *<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>, <b>const</b> <b>void</b> *<a href='../Y/1658.html' title='Multiple used in 5 places.'>bpdu</a>, <a href='../Y/6800.html' title='Multiple used in 615 places.'>size_t</a> <a href='../Y/1659.html' title='Multiple used in 11 places.'>bpdu_size</a>)
<a name='L1221'>1221 <font color='red'>{</font>
<a name='L1222'>1222     <b>struct</b> <a href='../S/860.html#L119' title='Defined at 119 in cbench/openflow/lib/packets.h.'>eth_header</a> *<a href='../Y/2783.html' title='Multiple used in 84 places.'>eth</a>;
<a name='L1223'>1223     <b>struct</b> <a href='../S/860.html#L131' title='Defined at 131 in cbench/openflow/lib/packets.h.'>llc_header</a> *<a href='../Y/4176.html' title='Multiple used in 16 places.'>llc</a>;
<a name='L1224'>1224     <b>struct</b> <a href='../S/865.html#L41' title='Defined at 41 in cbench/openflow/lib/ofpbuf.h.'>ofpbuf</a> *<a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a>;
<a name='L1225'>1225 
<a name='L1226'>1226     <i><font color='green'>/* Skeleton. */</font></i>
<a name='L1227'>1227     <a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a> = <a href='../S/887.html#L87' title='Defined at 87 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_new</a>(<a href='../S/860.html#L113' title='Defined at 113 in cbench/openflow/lib/packets.h.'>ETH_HEADER_LEN</a> + <a href='../S/860.html#L130' title='Defined at 130 in cbench/openflow/lib/packets.h.'>LLC_HEADER_LEN</a> + <a href='../Y/1659.html' title='Multiple used in 11 places.'>bpdu_size</a>);
<a name='L1228'>1228     <a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a>-&gt;<a href='../Y/4036.html' title='Multiple used in 26 places.'>l2</a> = <a href='../Y/2783.html' title='Multiple used in 84 places.'>eth</a> = <a href='../S/887.html#L188' title='Defined at 188 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_zeros</a>(<a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a>, <b>sizeof</b> *<a href='../Y/2783.html' title='Multiple used in 84 places.'>eth</a>);
<a name='L1229'>1229     <a href='../Y/4176.html' title='Multiple used in 16 places.'>llc</a> = <a href='../S/887.html#L188' title='Defined at 188 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put_zeros</a>(<a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a>, <b>sizeof</b> *<a href='../Y/4176.html' title='Multiple used in 16 places.'>llc</a>);
<a name='L1230'>1230     <a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a>-&gt;<a href='../Y/4048.html' title='Multiple used in 22 places.'>l3</a> = <a href='../S/887.html#L199' title='Defined at 199 in cbench/openflow/lib/ofpbuf.c.'>ofpbuf_put</a>(<a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a>, <a href='../S/252.html#L44' title='Defined at 44 in cbench/openflow/tests/test-stp.c.'>bpdu</a>, <a href='../Y/1659.html' title='Multiple used in 11 places.'>bpdu_size</a>);
<a name='L1231'>1231 
<a name='L1232'>1232     <i><font color='green'>/* 802.2 header. */</font></i>
<a name='L1233'>1233     <a href='../Y/4417.html' title='Multiple used in 205 places.'>memcpy</a>(<a href='../Y/2783.html' title='Multiple used in 84 places.'>eth</a>-&gt;<a href='../Y/2785.html' title='Multiple used in 36 places.'>eth_dst</a>, <a href='../Y/7062.html' title='Multiple used in 7 places.'>stp_eth_addr</a>, <a href='../S/860.html#L42' title='Defined at 42 in cbench/openflow/lib/packets.h.'>ETH_ADDR_LEN</a>);
<a name='L1234'>1234     <i><font color='green'>/* p-&gt;stp-&gt;send_bpdu() must fill in source address. */</font></i>
<a name='L1235'>1235     <a href='../Y/2783.html' title='Multiple used in 84 places.'>eth</a>-&gt;<a href='../Y/2799.html' title='Multiple used in 21 places.'>eth_type</a> = <a href='../Y/3678.html' title='Multiple used in 586 places.'>htons</a>(<a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a>-&gt;<a href='../Y/6799.html' title='Multiple used in 476 places.'>size</a> - <a href='../S/860.html#L113' title='Defined at 113 in cbench/openflow/lib/packets.h.'>ETH_HEADER_LEN</a>);
<a name='L1236'>1236 
<a name='L1237'>1237     <i><font color='green'>/* LLC header. */</font></i>
<a name='L1238'>1238     <a href='../Y/4176.html' title='Multiple used in 16 places.'>llc</a>-&gt;<a href='../Y/4178.html' title='Multiple used in 5 places.'>llc_dsap</a> = <a href='../S/897.html#L52' title='Defined at 52 in cbench/openflow/lib/stp.h.'>STP_LLC_DSAP</a>;
<a name='L1239'>1239     <a href='../Y/4176.html' title='Multiple used in 16 places.'>llc</a>-&gt;<a href='../Y/4182.html' title='Multiple used in 3 places.'>llc_ssap</a> = <a href='../S/897.html#L51' title='Defined at 51 in cbench/openflow/lib/stp.h.'>STP_LLC_SSAP</a>;
<a name='L1240'>1240     <a href='../Y/4176.html' title='Multiple used in 16 places.'>llc</a>-&gt;<a href='../Y/4177.html' title='Multiple used in 3 places.'>llc_cntl</a> = <a href='../S/897.html#L53' title='Defined at 53 in cbench/openflow/lib/stp.h.'>STP_LLC_CNTL</a>;
<a name='L1241'>1241 
<a name='L1242'>1242     <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../D/9478.html' title='Multiple defined in 2 places.'>send_bpdu</a>(<a href='../Y/5742.html' title='Multiple used in 103 places.'>pkt</a>, <a href='../S/894.html#L606' title='Defined at 606 in cbench/openflow/lib/stp.c.'>stp_port_no</a>(<a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>), <a href='../Y/5568.html' title='Multiple used in 1140 places.'>p</a>-&gt;<a href='../S/894.html#L115' title='Defined at 115 in cbench/openflow/lib/stp.c.'>stp</a>-&gt;<a href='../Y/1539.html' title='Multiple used in 86 places.'>aux</a>);
<a name='L1243'>1243 <font color='red'>}</font>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L156'>[^]</a><a href='#L1220'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
