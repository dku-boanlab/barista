<html>
<head>
<title>ch_info</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.7.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<pre>
<a href='../S/60.html#L72'>ch_info</a>            72 cbench/oflops/channel_info.c 	channel_info *ch_info = &amp;ctx-&gt;channels[ch];	
<a href='../S/60.html#L75'>ch_info</a>            75 cbench/oflops/channel_info.c 	if(ch_info-&gt;dev==NULL)	// no device specified
<a href='../S/60.html#L77'>ch_info</a>            77 cbench/oflops/channel_info.c 		ch_info-&gt;dev = pcap_lookupdev(errbuf);
<a href='../S/60.html#L80'>ch_info</a>            80 cbench/oflops/channel_info.c 		if(ch_info-&gt;dev)
<a href='../S/60.html#L81'>ch_info</a>            81 cbench/oflops/channel_info.c 			fprintf(stderr,"%s",ch_info-&gt;dev);
<a href='../S/60.html#L93'>ch_info</a>            93 cbench/oflops/channel_info.c 				mod-&gt;name(), ch, ch_info-&gt;dev);
<a href='../S/60.html#L94'>ch_info</a>            94 cbench/oflops/channel_info.c 		ch_info-&gt;pcap_handle=NULL;
<a href='../S/60.html#L97'>ch_info</a>            97 cbench/oflops/channel_info.c 	assert(ch_info-&gt;dev);		// need to have someting here
<a href='../S/60.html#L99'>ch_info</a>            99 cbench/oflops/channel_info.c 			mod-&gt;name(), buf, ch_info-&gt;dev, ch);
<a href='../S/60.html#L102'>ch_info</a>           102 cbench/oflops/channel_info.c 	ch_info-&gt;pcap_handle = pcap_open_live(
<a href='../S/60.html#L103'>ch_info</a>           103 cbench/oflops/channel_info.c 					ch_info-&gt;dev,
<a href='../S/60.html#L110'>ch_info</a>           110 cbench/oflops/channel_info.c 	  ch_info-&gt;pcap_handle = pcap_open_live(ch_info-&gt;dev,65000,1,0,errbuf);
<a href='../S/60.html#L112'>ch_info</a>           112 cbench/oflops/channel_info.c 	    ch_info-&gt;dump = pcap_dump_open(ch_info-&gt;pcap_handle, "controller.pcap");
<a href='../S/60.html#L115'>ch_info</a>           115 cbench/oflops/channel_info.c 	    ch_info-&gt;dump = NULL;
<a href='../S/60.html#L119'>ch_info</a>           119 cbench/oflops/channel_info.c 	if(!ch_info-&gt;pcap_handle)
<a href='../S/60.html#L126'>ch_info</a>           126 cbench/oflops/channel_info.c 	if((pcap_lookupnet(ch_info-&gt;dev,&amp;net,&amp;mask,errbuf) == -1) &amp;&amp;
<a href='../S/60.html#L134'>ch_info</a>           134 cbench/oflops/channel_info.c 	if(pcap_compile(ch_info-&gt;pcap_handle, &amp;filter, buf, 1, net))
<a href='../S/60.html#L142'>ch_info</a>           142 cbench/oflops/channel_info.c 	if(pcap_setfilter(ch_info-&gt;pcap_handle,&amp;filter ) == -1)
<a href='../S/60.html#L147'>ch_info</a>           147 cbench/oflops/channel_info.c 	if(pcap_setnonblock(ch_info-&gt;pcap_handle, 1, errbuf))
<a href='../S/60.html#L149'>ch_info</a>           149 cbench/oflops/channel_info.c 	ch_info-&gt;pcap_fd = pcap_get_selectable_fd(ch_info-&gt;pcap_handle);
<a href='../S/121.html#L43'>ch_info</a>            43 cbench/oflops/test_module.c 	struct channel_info * ch_info;
<a href='../S/121.html#L46'>ch_info</a>            46 cbench/oflops/test_module.c 	ch_info = &amp;ctx-&gt;channels[ch];
<a href='../S/121.html#L47'>ch_info</a>            47 cbench/oflops/test_module.c 	if(ch_info-&gt;raw_sock != -1)	// already allocated?
<a href='../S/121.html#L48'>ch_info</a>            48 cbench/oflops/test_module.c 		return ch_info-&gt;raw_sock;
<a href='../S/121.html#L50'>ch_info</a>            50 cbench/oflops/test_module.c 	ch_info-&gt;raw_sock = socket(AF_PACKET,SOCK_RAW, htons(ETH_P_ALL));
<a href='../S/121.html#L51'>ch_info</a>            51 cbench/oflops/test_module.c 	if( ch_info-&gt;raw_sock == -1)
<a href='../S/121.html#L54'>ch_info</a>            54 cbench/oflops/test_module.c 	strncpy(ifr.ifr_name,ch_info-&gt;dev,IFNAMSIZ);
<a href='../S/121.html#L55'>ch_info</a>            55 cbench/oflops/test_module.c 	if( ioctl( ch_info-&gt;raw_sock, SIOCGIFINDEX, &amp;ifr)  == -1 )
<a href='../S/121.html#L61'>ch_info</a>            61 cbench/oflops/test_module.c 	if ( bind(ch_info-&gt;raw_sock, (struct sockaddr *) &amp;saddrll, sizeof(struct sockaddr_ll)) == -1 )
<a href='../S/121.html#L63'>ch_info</a>            63 cbench/oflops/test_module.c 	return ch_info-&gt;raw_sock;
<a href='../S/121.html#L73'>ch_info</a>            73 cbench/oflops/test_module.c 	struct channel_info * ch_info;
<a href='../S/121.html#L76'>ch_info</a>            76 cbench/oflops/test_module.c 	ch_info = &amp;ctx-&gt;channels[ch];
<a href='../S/121.html#L77'>ch_info</a>            77 cbench/oflops/test_module.c 	if(ch_info-&gt;sock != -1)	// already allocated?
<a href='../S/121.html#L78'>ch_info</a>            78 cbench/oflops/test_module.c 		return ch_info-&gt;sock;
<a href='../S/121.html#L80'>ch_info</a>            80 cbench/oflops/test_module.c 	ch_info-&gt;sock = socket(AF_INET,SOCK_DGRAM,0);	// UDP socket
<a href='../S/121.html#L81'>ch_info</a>            81 cbench/oflops/test_module.c 	if( ch_info-&gt;sock == -1)
<a href='../S/121.html#L84'>ch_info</a>            84 cbench/oflops/test_module.c 	strncpy(ifr.ifr_name,ch_info-&gt;dev,IFNAMSIZ);
<a href='../S/121.html#L85'>ch_info</a>            85 cbench/oflops/test_module.c 	if( ioctl( ch_info-&gt;sock, SIOCGIFINDEX, &amp;ifr)  == -1 )
<a href='../S/121.html#L87'>ch_info</a>            87 cbench/oflops/test_module.c 	return ch_info-&gt;sock;
</pre>
</body>
</html>
