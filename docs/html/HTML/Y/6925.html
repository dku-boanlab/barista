<html>
<head>
<title>sql_query</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.7.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<pre>
<a href='../S/1000.html#L89'>sql_query</a>          89 components/cluster.c static MYSQL_RES *run_query(MYSQL *conn, char *sql_query)
<a href='../S/1000.html#L93'>sql_query</a>          93 components/cluster.c     } else if (mysql_query(conn, sql_query)) {
<a href='../S/1000.html#L94'>sql_query</a>          94 components/cluster.c         LOG_ERROR(CLUSTER_ID, "Failed SQL query: %s", sql_query);
<a href='../S/1000.html#L105'>sql_query</a>         105 components/cluster.c static int push_query_into_queue(char *sql_query)
<a href='../S/1000.html#L133'>sql_query</a>         133 components/cluster.c     snprintf(query[write_query++], __CONF_LSTR_LEN-1, "%s", sql_query);
<a href='../S/1000.html#L148'>sql_query</a>         148 components/cluster.c     char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L149'>sql_query</a>         149 components/cluster.c     snprintf(sql_query, __CONF_LSTR_LEN-1, "insert into Barista.events (event, data, ctrl_ip) values (%u, '%s', '%s')", 
<a href='../S/1000.html#L151'>sql_query</a>         151 components/cluster.c     push_query_into_queue(sql_query);
<a href='../S/1000.html#L201'>sql_query</a>         201 components/cluster.c         char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L202'>sql_query</a>         202 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "show status like 'wsrep_local_index';");
<a href='../S/1000.html#L203'>sql_query</a>         203 components/cluster.c         MYSQL_RES *res = run_query(conn, sql_query);
<a href='../S/1000.html#L213'>sql_query</a>         213 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L214'>sql_query</a>         214 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "insert into Barista.clusters (cluster_id, ctrl_ip) values (%d, '%s') "
<a href='../S/1000.html#L217'>sql_query</a>         217 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L220'>sql_query</a>         220 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L221'>sql_query</a>         221 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.switches where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L222'>sql_query</a>         222 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L225'>sql_query</a>         225 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L226'>sql_query</a>         226 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.hosts where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L227'>sql_query</a>         227 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L230'>sql_query</a>         230 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L231'>sql_query</a>         231 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.links where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L232'>sql_query</a>         232 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L235'>sql_query</a>         235 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L236'>sql_query</a>         236 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.flows where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L237'>sql_query</a>         237 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L240'>sql_query</a>         240 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L241'>sql_query</a>         241 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.traffic where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L242'>sql_query</a>         242 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L245'>sql_query</a>         245 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L246'>sql_query</a>         246 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.resources where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L247'>sql_query</a>         247 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L250'>sql_query</a>         250 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L251'>sql_query</a>         251 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.logs where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L252'>sql_query</a>         252 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L255'>sql_query</a>         255 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L256'>sql_query</a>         256 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.events where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L257'>sql_query</a>         257 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L314'>sql_query</a>         314 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L317'>sql_query</a>         317 components/cluster.c                 snprintf(sql_query, __CONF_LSTR_LEN-1, "select * from Barista.events where ctrl_ip != '%s'", ctrl_ip);
<a href='../S/1000.html#L319'>sql_query</a>         319 components/cluster.c                 snprintf(sql_query, __CONF_LSTR_LEN-1, "select * from Barista.events where id &gt; %u and ctrl_ip != '%s'", 
<a href='../S/1000.html#L323'>sql_query</a>         323 components/cluster.c             MYSQL_RES *res = run_query(conn, sql_query);
<a href='../S/1000.html#L441'>sql_query</a>         441 components/cluster.c         char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L461'>sql_query</a>         461 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L462'>sql_query</a>         462 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.clusters where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L463'>sql_query</a>         463 components/cluster.c         MYSQL_RES *res = run_query(conn, sql_query);
<a href='../S/1000.html#L466'>sql_query</a>         466 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L467'>sql_query</a>         467 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.switches where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L468'>sql_query</a>         468 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L471'>sql_query</a>         471 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L472'>sql_query</a>         472 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.hosts where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L473'>sql_query</a>         473 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L476'>sql_query</a>         476 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L477'>sql_query</a>         477 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.links where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L478'>sql_query</a>         478 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L481'>sql_query</a>         481 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L482'>sql_query</a>         482 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.flows where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L483'>sql_query</a>         483 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L486'>sql_query</a>         486 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L487'>sql_query</a>         487 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.traffic where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L488'>sql_query</a>         488 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L491'>sql_query</a>         491 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L492'>sql_query</a>         492 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.resources where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L493'>sql_query</a>         493 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L496'>sql_query</a>         496 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L497'>sql_query</a>         497 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.logs where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L498'>sql_query</a>         498 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L501'>sql_query</a>         501 components/cluster.c         memset(sql_query, 0, __CONF_LSTR_LEN);
<a href='../S/1000.html#L502'>sql_query</a>         502 components/cluster.c         snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.events where ctrl_ip = '%s';", ctrl_ip);
<a href='../S/1000.html#L503'>sql_query</a>         503 components/cluster.c         res = run_query(conn, sql_query);
<a href='../S/1000.html#L550'>sql_query</a>         550 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L551'>sql_query</a>         551 components/cluster.c             snprintf(sql_query, __CONF_LSTR_LEN-1, "update Barista.links set "
<a href='../S/1000.html#L556'>sql_query</a>         556 components/cluster.c             push_query_into_queue(sql_query);
<a href='../S/1000.html#L569'>sql_query</a>         569 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L570'>sql_query</a>         570 components/cluster.c             snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.switches where dpid = %lu and ctrl_ip = '%s';", 
<a href='../S/1000.html#L572'>sql_query</a>         572 components/cluster.c             push_query_into_queue(sql_query);
<a href='../S/1000.html#L585'>sql_query</a>         585 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L586'>sql_query</a>         586 components/cluster.c             snprintf(sql_query, __CONF_LSTR_LEN-1, "insert into Barista.switches (dpid, version, num_tables, num_buffers, "
<a href='../S/1000.html#L594'>sql_query</a>         594 components/cluster.c             push_query_into_queue(sql_query);
<a href='../S/1000.html#L607'>sql_query</a>         607 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L608'>sql_query</a>         608 components/cluster.c             snprintf(sql_query, __CONF_LSTR_LEN-1, "update Barista.switches set mfr_desc = '%s', hw_desc = '%s', "
<a href='../S/1000.html#L612'>sql_query</a>         612 components/cluster.c             push_query_into_queue(sql_query);
<a href='../S/1000.html#L631'>sql_query</a>         631 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L632'>sql_query</a>         632 components/cluster.c             snprintf(sql_query, __CONF_LSTR_LEN-1, "insert into Barista.hosts (dpid, port, mac, ip, ctrl_ip) "
<a href='../S/1000.html#L636'>sql_query</a>         636 components/cluster.c             push_query_into_queue(sql_query);
<a href='../S/1000.html#L655'>sql_query</a>         655 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L656'>sql_query</a>         656 components/cluster.c             snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.hosts where dpid = %lu "
<a href='../S/1000.html#L661'>sql_query</a>         661 components/cluster.c             push_query_into_queue(sql_query);
<a href='../S/1000.html#L674'>sql_query</a>         674 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L675'>sql_query</a>         675 components/cluster.c             snprintf(sql_query, __CONF_LSTR_LEN-1, "insert into Barista.links (src_dpid, src_port, dst_dpid, dst_port, ctrl_ip) "
<a href='../S/1000.html#L678'>sql_query</a>         678 components/cluster.c             push_query_into_queue(sql_query);
<a href='../S/1000.html#L691'>sql_query</a>         691 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L692'>sql_query</a>         692 components/cluster.c             snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.links "
<a href='../S/1000.html#L695'>sql_query</a>         695 components/cluster.c             push_query_into_queue(sql_query);
<a href='../S/1000.html#L745'>sql_query</a>         745 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L746'>sql_query</a>         746 components/cluster.c             snprintf(sql_query, __CONF_LSTR_LEN-1, "insert into Barista.flows (dpid, port, idle_timeout, hard_timeout, wildcards, "
<a href='../S/1000.html#L753'>sql_query</a>         753 components/cluster.c             push_query_into_queue(sql_query);
<a href='../S/1000.html#L800'>sql_query</a>         800 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L801'>sql_query</a>         801 components/cluster.c             snprintf(sql_query, __CONF_LSTR_LEN-1, "delete from Barista.flows where dpid = %lu and port = %u and proto = '%s' "
<a href='../S/1000.html#L806'>sql_query</a>         806 components/cluster.c             push_query_into_queue(sql_query);
<a href='../S/1000.html#L853'>sql_query</a>         853 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L854'>sql_query</a>         854 components/cluster.c             snprintf(sql_query, __CONF_LSTR_LEN-1, "update Barista.flows set pkt_count = %lu and byte_count = %lu "
<a href='../S/1000.html#L861'>sql_query</a>         861 components/cluster.c             push_query_into_queue(sql_query);
<a href='../S/1000.html#L871'>sql_query</a>         871 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L872'>sql_query</a>         872 components/cluster.c             snprintf(sql_query, __CONF_LSTR_LEN-1, "insert into Barista.resources (cpu, mem, ctrl_ip) values (%lf, %lf, '%s');", 
<a href='../S/1000.html#L874'>sql_query</a>         874 components/cluster.c             push_query_into_queue(sql_query);
<a href='../S/1000.html#L882'>sql_query</a>         882 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L883'>sql_query</a>         883 components/cluster.c             snprintf(sql_query, __CONF_LSTR_LEN-1, "insert into Barista.traffic (in_pkt_cnt, in_byte_cnt, out_pkt_cnt, "
<a href='../S/1000.html#L887'>sql_query</a>         887 components/cluster.c             push_query_into_queue(sql_query);
<a href='../S/1000.html#L899'>sql_query</a>         899 components/cluster.c             char sql_query[__CONF_LSTR_LEN] = {0};
<a href='../S/1000.html#L900'>sql_query</a>         900 components/cluster.c             snprintf(sql_query, __CONF_LSTR_LEN-1, "insert into Barista.logs (log, ctrl_ip) values ('%s', '%s');", log, ctrl_ip);
<a href='../S/1000.html#L901'>sql_query</a>         901 components/cluster.c             push_query_into_queue(sql_query);
</pre>
</body>
</html>
